<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП21">2.01</ВерсияФормата>
	<Ид>8030ae81-927d-4a4b-8482-aa099b6fb1af    </Ид>
	<Наименование>УНФ Форсайт --&gt; БП Форсайт</Наименование>
	<ДатаВремяСоздания>2018-02-16T13:32:34</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.6.13.38" СинонимКонфигурации="Управление нашей фирмой, редакция 1.6">УправлениеНебольшойФирмой</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.0.65.16" СинонимКонфигурации="Бухгалтерия предприятия, редакция 2.0">БухгалтерияПредприятия</Приемник>
	<ПередВыгрузкойДанных>
Параметры.Вставить("ВалютаУчета", Константы.ВалютаУчета.Получить());
Параметры.Вставить("НациональнаяВалюта", Константы.НациональнаяВалюта.Получить());
Параметры.Вставить("ИспользуетсяПодсистемаПроизводство", ПолучитьФункциональнуюОпцию("ИспользоватьПодсистемуПроизводство"));</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>Параметры.Вставить("ВалютаРегламентированногоУчета", Константы.ВалютаРегламентированногоУчета.Получить());
Параметры.Вставить("ВедетсяПроизводственнаяДеятельность", Константы.ВедетсяПроизводственнаяДеятельность.Получить());
Параметры.Вставить("ТипЦенПлановойСебестоимости", Константы.ТипЦенПлановойСебестоимостиНоменклатуры.Получить());
Параметры.Вставить("ОсновнаяОрганизация", БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнаяОрганизация"));

ЗагруженныеОрганизации = Новый Массив();
Параметры.Вставить("ЗагруженныеОрганизации", ЗагруженныеОрганизации);

Запрос = Новый Запрос(
"ВЫБРАТЬ
|	Номенклатура.Ссылка,
|	Номенклатура.Наименование,
|	Номенклатура.Код
|ИЗ
|	Справочник.Номенклатура КАК Номенклатура"
);

Параметры.Вставить("ТаблицаНоменклатуры", Запрос.Выполнить().Выгрузить());</ПередЗагрузкойДанных>
	<ПослеЗагрузкиОбъекта>Если ИмяТипаОбъекта = "Документ" И НЕ ОбъектНайден Тогда
	Выполнить(Алгоритмы.ДозаполнитьРеквизитыДокумента);
КонецЕсли;</ПослеЗагрузкиОбъекта>
	<Параметры>
		<Параметр Имя="Организация                                       " Наименование="Организация" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="true" ТипЗначения="СправочникСсылка.Организации" ПередаватьПараметрПриВыгрузке="true" ПравилоКонвертации="Организации                                       "/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Факс --&gt;</Наименование>
						<Порядок>300</Порядок>
						<Источник>Факс</Источник>
						<Приемник>Факс</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>Перечисление: Юр физ лицо</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>3</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>150</Порядок>
						<Источник>ФизическоеЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ЮрЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник>ЮридическоеЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПорядкиОкругления</Код>
				<Наименование>Перечисление: Порядки округления</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.ПорядкиОкругления</Источник>
				<Приемник>ПеречислениеСсылка.ПорядкиОкругления</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Окр0_01 --&gt; Окр0_01</Наименование>
						<Порядок>50</Порядок>
						<Источник>Окр0_01</Источник>
						<Приемник>Окр0_01</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Окр0_05 --&gt; Окр0_05</Наименование>
						<Порядок>100</Порядок>
						<Источник>Окр0_05</Источник>
						<Приемник>Окр0_05</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Окр0_1 --&gt; Окр0_1</Наименование>
						<Порядок>150</Порядок>
						<Источник>Окр0_1</Источник>
						<Приемник>Окр0_1</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Окр0_5 --&gt; Окр0_5</Наименование>
						<Порядок>200</Порядок>
						<Источник>Окр0_5</Источник>
						<Приемник>Окр0_5</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Окр1 --&gt; Окр1</Наименование>
						<Порядок>250</Порядок>
						<Источник>Окр1</Источник>
						<Приемник>Окр1</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Окр10 --&gt; Окр10</Наименование>
						<Порядок>300</Порядок>
						<Источник>Окр10</Источник>
						<Приемник>Окр10</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Окр100 --&gt; Окр100</Наименование>
						<Порядок>350</Порядок>
						<Источник>Окр100</Источник>
						<Приемник>Окр100</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>Окр5 --&gt; Окр5</Наименование>
						<Порядок>400</Порядок>
						<Источник>Окр5</Источник>
						<Приемник>Окр5</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>Окр50 --&gt; Окр50</Наименование>
						<Порядок>450</Порядок>
						<Источник>Окр50</Источник>
						<Приемник>Окр50</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СпособыРасчетаКомиссионногоВознаграждения</Код>
				<Наименование>Перечисление: Способы расчета комиссионного вознаграждения</Наименование>
				<Порядок>250</Порядок>
				<Источник>ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения</Источник>
				<Приемник>ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>НеРассчитывается --&gt; НеРассчитывается</Наименование>
						<Порядок>50</Порядок>
						<Источник>НеРассчитывается</Источник>
						<Приемник>НеРассчитывается</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПроцентОтРазностиСуммПродажиИПоступления --&gt; Проце</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПроцентОтРазностиСуммПродажиИПоступления</Источник>
						<Приемник>ПроцентОтРазностиСуммПродажиИПоступления</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПроцентОтСуммыПродажи --&gt; ПроцентОтСуммыПродажи</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПроцентОтСуммыПродажи</Источник>
						<Приемник>ПроцентОтСуммыПродажи</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийРеализацияТоваров</Код>
				<Наименование>Перечисление: Виды операций "Расходная накладная"</Наименование>
				<Порядок>350</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийРасходнаяНакладная</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийРеализацияТоваров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПередачаНаКомиссию --&gt; ПродажаКомиссия</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПередачаНаКомиссию</Источник>
						<Приемник>ПродажаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПродажаПокупателю --&gt; ПродажаКомиссия</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПродажаПокупателю</Источник>
						<Приемник>ПродажаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВозвратИзПереработки --&gt;</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВозвратИзПереработки</Источник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ВозвратКомитенту --&gt;</Наименование>
						<Порядок>200</Порядок>
						<Источник>ВозвратКомитенту</Источник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ВозвратПоставщику --&gt;</Наименование>
						<Порядок>250</Порядок>
						<Источник>ВозвратПоставщику</Источник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ВозвратСОтветхранения --&gt;</Наименование>
						<Порядок>300</Порядок>
						<Источник>ВозвратСОтветхранения</Источник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПередачаВПереработку --&gt;</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПередачаВПереработку</Источник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПередачаНаОтветхранение --&gt;</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПередачаНаОтветхранение</Источник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийВозвратТоваровОтПокупателя</Код>
				<Наименование>Перечисление: Виды операций "Приходная накладная"</Наименование>
				<Порядок>400</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийПриходнаяНакладная</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВозвратОтПокупателя --&gt; ПродажаКомиссия</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВозвратОтПокупателя</Источник>
						<Приемник>ПродажаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ВозвратОтКомиссионера --&gt; ПродажаКомиссия</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВозвратОтКомиссионера</Источник>
						<Приемник>ПродажаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВозвратОтПереработчика --&gt;</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВозвратОтПереработчика</Источник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ВозвратСОтветхранения --&gt;</Наименование>
						<Порядок>200</Порядок>
						<Источник>ВозвратСОтветхранения</Источник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ПоступлениеОтПоставщика --&gt;</Наименование>
						<Порядок>250</Порядок>
						<Источник>ПоступлениеОтПоставщика</Источник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ПриемВПереработку --&gt;</Наименование>
						<Порядок>300</Порядок>
						<Источник>ПриемВПереработку</Источник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПриемНаКомиссию --&gt;</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПриемНаКомиссию</Источник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПриемНаОтветхранение --&gt;</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПриемНаОтветхранение</Источник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийПоступлениеТоваровУслуг</Код>
				<Наименование>Перечисление: Виды операций "Приходная накладная"</Наименование>
				<Порядок>450</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийПриходнаяНакладная</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоступлениеОтПоставщика --&gt; ПокупкаКомиссия</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоступлениеОтПоставщика</Источник>
						<Приемник>ПокупкаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПриемВПереработку --&gt; ВПереработку</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПриемВПереработку</Источник>
						<Приемник>ВПереработку</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПриемНаКомиссию --&gt; ПокупкаКомиссия</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПриемНаКомиссию</Источник>
						<Приемник>ПокупкаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ВозвратОтКомиссионера --&gt;</Наименование>
						<Порядок>200</Порядок>
						<Источник>ВозвратОтКомиссионера</Источник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ВозвратОтПереработчика --&gt;</Наименование>
						<Порядок>250</Порядок>
						<Источник>ВозвратОтПереработчика</Источник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ВозвратОтПокупателя --&gt;</Наименование>
						<Порядок>300</Порядок>
						<Источник>ВозвратОтПокупателя</Источник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ВозвратСОтветхранения --&gt;</Наименование>
						<Порядок>350</Порядок>
						<Источник>ВозвратСОтветхранения</Источник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПриемНаОтветхранение --&gt;</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПриемНаОтветхранение</Источник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийПередачаТоваров</Код>
				<Наименование>Перечисление: Виды операций "Расходная накладная"</Наименование>
				<Порядок>500</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийРасходнаяНакладная</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийПередачаТоваров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВозвратИзПереработки --&gt; ИзПереработки</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВозвратИзПереработки</Источник>
						<Приемник>ИзПереработки</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПередачаВПереработку --&gt; ВПереработку</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПередачаВПереработку</Источник>
						<Приемник>ВПереработку</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВозвратКомитенту --&gt;</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВозвратКомитенту</Источник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ВозвратПоставщику --&gt;</Наименование>
						<Порядок>200</Порядок>
						<Источник>ВозвратПоставщику</Источник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ВозвратСОтветхранения --&gt;</Наименование>
						<Порядок>250</Порядок>
						<Источник>ВозвратСОтветхранения</Источник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ПередачаНаКомиссию --&gt;</Наименование>
						<Порядок>300</Порядок>
						<Источник>ПередачаНаКомиссию</Источник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПередачаНаОтветхранение --&gt;</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПередачаНаОтветхранение</Источник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПродажаПокупателю --&gt;</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПродажаПокупателю</Источник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийВозвратТоваровПоставщику</Код>
				<Наименование>Перечисление: Виды операций "Расходная накладная"</Наименование>
				<Порядок>550</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийРасходнаяНакладная</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийВозвратТоваровПоставщику</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВозвратИзПереработки --&gt; ИзПереработки</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВозвратИзПереработки</Источник>
						<Приемник>ИзПереработки</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ВозвратКомитенту --&gt; ПокупкаКомиссия</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВозвратКомитенту</Источник>
						<Приемник>ПокупкаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВозвратПоставщику --&gt; ПокупкаКомиссия</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВозвратПоставщику</Источник>
						<Приемник>ПокупкаКомиссия</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ВозвратСОтветхранения --&gt;</Наименование>
						<Порядок>200</Порядок>
						<Источник>ВозвратСОтветхранения</Источник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ПередачаВПереработку --&gt;</Наименование>
						<Порядок>250</Порядок>
						<Источник>ПередачаВПереработку</Источник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ПередачаНаКомиссию --&gt;</Наименование>
						<Порядок>300</Порядок>
						<Источник>ПередачаНаКомиссию</Источник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПередачаНаОтветхранение --&gt;</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПередачаНаОтветхранение</Источник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПродажаПокупателю --&gt;</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПродажаПокупателю</Источник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СпособыНачисленияАмортизацииОС</Код>
				<Наименование>Перечисление: Способы начисления амортизации внеоборотных активов (ОС)</Наименование>
				<Порядок>600</Порядок>
				<Источник>ПеречислениеСсылка.СпособыНачисленияАмортизацииВнеоборотныхАктивов</Источник>
				<Приемник>ПеречислениеСсылка.СпособыНачисленияАмортизацииОС</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Линейный --&gt; Линейный</Наименование>
						<Порядок>50</Порядок>
						<Источник>Линейный</Источник>
						<Приемник>Линейный</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПропорциональноОбъемуПродукции --&gt; Пропорционально</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПропорциональноОбъемуПродукции</Источник>
						<Приемник>ПропорциональноОбъемуПродукции</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование> --&gt; ПоЕНАОФ</Наименование>
						<Порядок>150</Порядок>
						<Приемник>ПоЕНАОФ</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование> --&gt; ПоЕНАОФНа1000кмПробега</Наименование>
						<Порядок>200</Порядок>
						<Приемник>ПоЕНАОФНа1000кмПробега</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование> --&gt; ПоСуммеЧиселЛетИспользования</Наименование>
						<Порядок>250</Порядок>
						<Приемник>ПоСуммеЧиселЛетИспользования</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование> --&gt; УменьшаемогоОстатка</Наименование>
						<Порядок>300</Порядок>
						<Приемник>УменьшаемогоОстатка</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СпособыНачисленияАмортизацииНМА</Код>
				<Наименование>Перечисление: Способы начисления амортизации внеоборотных активов (НМА)</Наименование>
				<Порядок>650</Порядок>
				<Источник>ПеречислениеСсылка.СпособыНачисленияАмортизацииВнеоборотныхАктивов</Источник>
				<Приемник>ПеречислениеСсылка.СпособыНачисленияАмортизацииНМА</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Линейный --&gt; Линейный</Наименование>
						<Порядок>50</Порядок>
						<Источник>Линейный</Источник>
						<Приемник>Линейный</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПропорциональноОбъемуПродукции --&gt; Пропорционально</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПропорциональноОбъемуПродукции</Источник>
						<Приемник>ПропорциональноОбъемуПродукции</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование> --&gt; УменьшаемогоОстатка</Наименование>
						<Порядок>150</Порядок>
						<Приемник>УменьшаемогоОстатка</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийПоступлениеБезналичныхДенежныхСре</Код>
				<Наименование>Перечисление: Виды операций "Поступление на счет"</Наименование>
				<Порядок>700</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийПоступлениеНаСчет</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийПоступлениеДенежныхСредств</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ОтПодотчетника --&gt; ПрочееПоступлениеБезналичныхДен</Наименование>
						<Порядок>50</Порядок>
						<Источник>ОтПодотчетника</Источник>
						<Приемник>ПрочееПоступление</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОтПокупателя --&gt; ОплатаПокупателя</Наименование>
						<Порядок>100</Порядок>
						<Источник>ОтПокупателя</Источник>
						<Приемник>ОплатаПокупателя</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ОтПоставщика --&gt; ВозвратДенежныхСредствПоставщиком</Наименование>
						<Порядок>150</Порядок>
						<Источник>ОтПоставщика</Источник>
						<Приемник>ВозвратОтПоставщика</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Прочее --&gt; ПрочееПоступлениеБезналичныхДенежныхСре</Наименование>
						<Порядок>200</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>ПрочееПоступление</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ПокупкаВалюты --&gt; ПриобретениеИностраннойВалюты</Наименование>
						<Порядок>250</Порядок>
						<Источник>ПокупкаВалюты</Источник>
						<Приемник>ПриобретениеИностраннойВалюты</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийСписаниеДенежныхСредств</Код>
				<Наименование>Перечисление: Виды операций "Расход со счета"</Наименование>
				<Порядок>750</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийРасходСоСчета</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийСписаниеДенежныхСредств</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Налоги --&gt; ПеречислениеНалога</Наименование>
						<Порядок>50</Порядок>
						<Источник>Налоги</Источник>
						<Приемник>ПеречислениеНалога</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Подотчетнику --&gt; ПеречислениеДенежныхСредствПодотч</Наименование>
						<Порядок>100</Порядок>
						<Источник>Подотчетнику</Источник>
						<Приемник>ПеречислениеПодотчетномуЛицу</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Покупателю --&gt; ВозвратДенежныхСредствПокупателю</Наименование>
						<Порядок>150</Порядок>
						<Источник>Покупателю</Источник>
						<Приемник>ВозвратПокупателю</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Поставщику --&gt; ОплатаПоставщику</Наименование>
						<Порядок>200</Порядок>
						<Источник>Поставщику</Источник>
						<Приемник>ОплатаПоставщику</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Прочее --&gt; ПрочееСписаниеБезналичныхДенежныхСредст</Наименование>
						<Порядок>250</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>ПрочееСписание</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Зарплата --&gt; ПеречислениеЗП</Наименование>
						<Порядок>300</Порядок>
						<Источник>Зарплата</Источник>
						<Приемник>ПеречислениеЗП</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийПКО</Код>
				<Наименование>Перечисление: Виды операций "Поступление в кассу"</Наименование>
				<Порядок>800</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийПоступлениеВКассу</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийПКО</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ОтПодотчетника --&gt; ВозвратДенежныхСредствПодотчетн</Наименование>
						<Порядок>50</Порядок>
						<Источник>ОтПодотчетника</Источник>
						<Приемник>ВозвратОтПодотчетногоЛица</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОтПокупателя --&gt; ОплатаПокупателя</Наименование>
						<Порядок>100</Порядок>
						<Источник>ОтПокупателя</Источник>
						<Приемник>ОплатаПокупателя</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ОтПоставщика --&gt; ВозвратДенежныхСредствПоставщиком</Наименование>
						<Порядок>150</Порядок>
						<Источник>ОтПоставщика</Источник>
						<Приемник>ВозвратОтПоставщика</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Прочее --&gt; ПриходДенежныхСредствПрочее</Наименование>
						<Порядок>200</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>ПрочийПриход</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>РозничнаяВыручка --&gt; РозничнаяВыручка</Наименование>
						<Порядок>250</Порядок>
						<Источник>РозничнаяВыручка</Источник>
						<Приемник>РозничнаяВыручка</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>РозничнаяВыручкаСуммовойУчет --&gt; РозничнаяВыручка</Наименование>
						<Порядок>300</Порядок>
						<Источник>РозничнаяВыручкаСуммовойУчет</Источник>
						<Приемник>РозничнаяВыручка</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПокупкаВалюты --&gt; ПрочийПриход</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПокупкаВалюты</Источник>
						<Приемник>ПрочийПриход</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийРКО</Код>
				<Наименование>Перечисление: Виды операций "Расход из кассы"</Наименование>
				<Порядок>850</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийРасходИзКассы</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийРКО</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Зарплата --&gt; ВыплатаЗаработнойПлатыПоВедомостям</Наименование>
						<Порядок>50</Порядок>
						<Источник>Зарплата</Источник>
						<Приемник>ВыплатаЗаработнойПлатыПоВедомостям</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Налоги --&gt; РасходДенежныхСредствПрочее</Наименование>
						<Порядок>100</Порядок>
						<Источник>Налоги</Источник>
						<Приемник>ПрочийРасход</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Подотчетнику --&gt; ВыдачаДенежныхСредствПодотчетнику</Наименование>
						<Порядок>150</Порядок>
						<Источник>Подотчетнику</Источник>
						<Приемник>ВыдачаПодотчетномуЛицу</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Покупателю --&gt; ВозвратДенежныхСредствПокупателю</Наименование>
						<Порядок>200</Порядок>
						<Источник>Покупателю</Источник>
						<Приемник>ВозвратПокупателю</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Поставщику --&gt; ОплатаПоставщику</Наименование>
						<Порядок>250</Порядок>
						<Источник>Поставщику</Источник>
						<Приемник>ОплатаПоставщику</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Прочее --&gt; РасходДенежныхСредствПрочее</Наименование>
						<Порядок>300</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>ПрочийРасход</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПеремещениеВКассуККМ --&gt; ПрочийРасход</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПеремещениеВКассуККМ</Источник>
						<Приемник>ПрочийРасход</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ЗарплатаСотруднику --&gt; ВыплатаЗаработнойПлатыРабот</Наименование>
						<Порядок>400</Порядок>
						<Источник>ЗарплатаСотруднику</Источник>
						<Приемник>ВыплатаЗаработнойПлатыРаботнику</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДоговоровКонтрагентов</Код>
				<Наименование>Перечисление: Виды договоров</Наименование>
				<Порядок>900</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДоговоров</Источник>
				<Приемник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Прочее --&gt; Прочее</Наименование>
						<Порядок>50</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомиссионером --&gt; СКомиссионером</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>СКомиссионером</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СКомитентом --&gt; СКомитентом</Наименование>
						<Порядок>150</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>СКомитентом</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПокупателем --&gt; СПокупателем</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>СПокупателем</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>СПоставщиком --&gt; СПоставщиком</Наименование>
						<Порядок>250</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>СПоставщиком</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидСчетаФактурыПолученного</Код>
				<Наименование>Перечисление: Виды операций "Счет-фактура"</Наименование>
				<Порядок>950</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийСчетФактураПолученный</Источник>
				<Приемник>ПеречислениеСсылка.ВидСчетаФактурыПолученного</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Аванс --&gt; НаАванс</Наименование>
						<Порядок>50</Порядок>
						<Источник>Аванс</Источник>
						<Приемник>НаАванс</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Поступление --&gt; НаПоступление</Наименование>
						<Порядок>100</Порядок>
						<Источник>Поступление</Источник>
						<Приемник>НаПоступление</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СуммовыеРазницы --&gt;</Наименование>
						<Порядок>150</Порядок>
						<Источник>СуммовыеРазницы</Источник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование> --&gt; Корректировочный</Наименование>
						<Порядок>200</Порядок>
						<Приемник>Корректировочный</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>НДСВидСчетаФактуры</Код>
				<Наименование>Перечисление: Виды операций "Счет-фактура"</Наименование>
				<Порядок>950</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийСчетФактура</Источник>
				<Приемник>ПеречислениеСсылка.ВидСчетаФактурыВыставленного</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Аванс --&gt; НаАванс</Наименование>
						<Порядок>50</Порядок>
						<Источник>Аванс</Источник>
						<Приемник>НаАванс</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Продажа --&gt; НаРеализацию</Наименование>
						<Порядок>100</Порядок>
						<Источник>Продажа</Источник>
						<Приемник>НаРеализацию</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СуммовыеРазницы --&gt; НаСуммовуюРазницу</Наименование>
						<Порядок>150</Порядок>
						<Источник>СуммовыеРазницы</Источник>
						<Приемник>НаСуммовуюРазницу</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>НаАвансКомитента --&gt; НаАвансКомитента</Наименование>
						<Порядок>200</Порядок>
						<Источник>НаАвансКомитента</Источник>
						<Приемник>НаАвансКомитента</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыПеречисленийВБюджет</Код>
				<Наименование>Перечисление: Виды перечислений в бюджет</Наименование>
				<Порядок>1050</Порядок>
				<Источник>ПеречислениеСсылка.ВидыПеречисленийВБюджет</Источник>
				<Приемник>ПеречислениеСсылка.ВидыПеречисленийВБюджет</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ИнойПлатеж --&gt; ИнойПлатеж</Наименование>
						<Порядок>50</Порядок>
						<Источник>ИнойПлатеж</Источник>
						<Приемник>ИнойПлатеж</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НалоговыйПлатеж --&gt; НалоговыйПлатеж</Наименование>
						<Порядок>100</Порядок>
						<Источник>НалоговыйПлатеж</Источник>
						<Приемник>НалоговыйПлатеж</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ТаможенныйПлатеж --&gt; ТаможенныйПлатеж</Наименование>
						<Порядок>150</Порядок>
						<Источник>ТаможенныйПлатеж</Источник>
						<Приемник>ТаможенныйПлатеж</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыСкладов</Код>
				<Наименование>Перечисление: Типы структурных единиц</Наименование>
				<Порядок>1100</Порядок>
				<Источник>ПеречислениеСсылка.ТипыСтруктурныхЕдиниц</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Склад --&gt; ОптовыйСклад</Наименование>
						<Порядок>50</Порядок>
						<Источник>Склад</Источник>
						<Приемник>ОптовыйСклад</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Розница --&gt; РозничныйМагазин</Наименование>
						<Порядок>100</Порядок>
						<Источник>Розница</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>РозницаСуммовойУчет --&gt; НеавтоматизированнаяТоргов</Наименование>
						<Порядок>150</Порядок>
						<Источник>РозницаСуммовойУчет</Источник>
						<Приемник>НеавтоматизированнаяТорговаяТочка</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Подразделение --&gt;</Наименование>
						<Порядок>200</Порядок>
						<Источник>Подразделение</Источник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийКорректировкаДолга</Код>
				<Наименование>Перечисление: Виды операций "Взаимозачет"</Наименование>
				<Порядок>1150</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийВзаимозачет</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийКорректировкаДолга</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Взаимозачет --&gt; Прочее</Наименование>
						<Порядок>50</Порядок>
						<Источник>Взаимозачет</Источник>
						<Приемник>Прочее</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>КорректировкаДолгаПокупателя --&gt; Прочее</Наименование>
						<Порядок>100</Порядок>
						<Источник>КорректировкаДолгаПокупателя</Источник>
						<Приемник>СписаниеЗадолженности</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>КорректировкаДолгаПоставщику --&gt; Прочее</Наименование>
						<Порядок>150</Порядок>
						<Источник>КорректировкаДолгаПоставщику</Источник>
						<Приемник>СписаниеЗадолженности</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПереуступкаДолгаПокупателя --&gt; ПереносЗадолженност</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПереуступкаДолгаПокупателя</Источник>
						<Приемник>ПереносЗадолженности</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ПереуступкаДолгаПоставщику --&gt; ПереносЗадолженност</Наименование>
						<Порядок>250</Порядок>
						<Источник>ПереуступкаДолгаПоставщику</Источник>
						<Приемник>ПереносЗадолженности</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Группа>
				<Код>Базовые классификаторы</Код>
				<Наименование>Базовые классификаторы</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>Банки</Код>
					<Наименование>Справочник: Банки</Наименование>
					<Порядок>50</Порядок>
					<НеЗамещать>true</НеЗамещать>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Банки</Источник>
					<Приемник>СправочникСсылка.Банки</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>12</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Валюты</Код>
					<Наименование>Справочник: Валюты</Наименование>
					<Порядок>100</Порядок>
					<НеЗамещать>true</НеЗамещать>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Валюты</Источник>
					<Приемник>СправочникСсылка.Валюты</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПараметрыПрописи --&gt; ПараметрыПрописиНаРусском</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПараметрыПрописи" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторЕдиницИзмерения</Код>
					<Наименование>Справочник: Классификатор единиц измерения</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.КлассификаторЕдиницИзмерения</Источник>
					<Приемник>СправочникСсылка.КлассификаторЕдиницИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СтраныМира</Код>
					<Наименование>Справочник: Страны мира</Наименование>
					<Порядок>200</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.СтраныМира</Источник>
					<Приемник>СправочникСсылка.СтраныМира</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КодАльфа3 --&gt; КодАльфа3</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>Россия --&gt; Россия</Наименование>
							<Порядок>50</Порядок>
							<Источник>Россия</Источник>
							<Приемник>Россия</Приемник>
						</Значение>
					</Значения>
				</Правило>
			</Группа>
			<Правило>
				<Код>БанковскиеСчета</Код>
				<Наименование>Справочник: Банковские счета</Наименование>
				<Порядок>100</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.БанковскиеСчета</Источник>
				<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Банк --&gt; Банк</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ВидСчета --&gt; ВидСчета</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Владелец" Вид="Свойство"/>
						<Приемник Имя="Владелец" Вид="Свойство"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДатаЗакрытия --&gt; ДатаЗакрытия</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ДатаОткрытия --&gt; ДатаОткрытия</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>НомерИДатаРазрешения --&gt; НомерИДатаРазрешения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>10</Код>
						<Наименование>НомерСчета --&gt; НомерСчета</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>СуммаБезКопеек --&gt; СуммаБезКопеек</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="СуммаБезКопеек" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаБезКопеек" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ТекстКорреспондента --&gt; ТекстКорреспондента</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>ТекстНазначения --&gt; ТекстНазначения</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>ВариантУказанияКПП --&gt; ВсегдаУказыватьКПП</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="ВариантУказанияКПП" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУказанияКПП"/>
						<Приемник Имя="ВсегдаУказыватьКПП" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = (Источник.ВариантУказанияКПП = Перечисления.ВариантыУказанияКПП.ВоВсехПлатежныхПоручениях);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>ВариантВыводаМесяца --&gt; МесяцПрописью</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ВариантВыводаМесяца" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыВыводаМесяцаВДатеДокумента"/>
						<Приемник Имя="МесяцПрописью" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = (Источник.ВариантВыводаМесяца = Перечисления.ВариантыВыводаМесяцаВДатеДокумента.Прописью);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>БанкРасчетов --&gt; БанкДляРасчетов</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="БанкРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>150</Порядок>
				<ПослеЗагрузки>	Если Не Объект.ЭтоГруппа
		И Не ЗначениеЗаполнено(Объект.СтранаРегистрации) Тогда
		Объект.СтранаРегистрации = Справочники.СтраныМира.Россия;
	КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>
Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "ЭтоГруппа, Наименование, ИНН, КПП";
 
ИначеЕсли НомерВариантаПоиска = 2 тогда
 
 СтрокаИменСвойствПоиска = "ЭтоГруппа, ИНН, КПП";
 
Иначе
 
 СтрокаИменСвойствПоиска = "ЭтоГруппа, ИНН";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>//Если Источник.Родитель = Источник.Ссылка Тогда
//	Значение = Неопределено;	
//КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>БанковскийСчетПоУмолчанию --&gt; ОсновнойБанковскийСчет</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="БанковскийСчетПоУмолчанию" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>УдалитьДоговорПоУмолчанию --&gt; УдалитьОсновнойДоговорКонтрагента</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="УдалитьДоговорПоУмолчанию" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="УдалитьОсновнойДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование> --&gt; ГоловнойКонтрагент</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>14</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа = Истина Тогда
	
	Отказ = Истина;
	
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>15</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>19</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Номенклатура</Код>
				<Наименование>Справочник: Номенклатура</Наименование>
				<Порядок>200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.Номенклатура</Источник>
				<Приемник>СправочникСсылка.Номенклатура</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Артикул --&gt; Артикул</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.Родитель = Источник.Ссылка Тогда
	Значение = Неопределено;	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
						<Приемник Имя="ВидСтавкиНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСтавокНДС"/>
						<ПередВыгрузкой>Если НЕ Источник.ЭтоГруппа Тогда
	Если Источник.СтавкаНДС.НеОблагается Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.БезНДС";	
	ИначеЕсли Источник.СтавкаНДС.Ставка = 18
		 И НЕ Источник.СтавкаНДС.Расчетная Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.Общая";
	ИначеЕсли Источник.СтавкаНДС.Ставка = 18
			И Источник.СтавкаНДС.Расчетная Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.ОбщаяРасчетная";
	ИначеЕсли Источник.СтавкаНДС.Ставка = 10 
		 И НЕ Источник.СтавкаНДС.Расчетная Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.Пониженная";
	ИначеЕсли Источник.СтавкаНДС.Ставка = 10 
			И Источник.СтавкаНДС.Расчетная Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.ПониженнаяРасчетная";
	ИначеЕсли Источник.СтавкаНДС.Ставка = 0 Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.Нулевая"; 
	ИначеЕсли Источник.СтавкаНДС.Ставка = 20
		 И НЕ Источник.СтавкаНДС.Расчетная Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.Общая";
	ИначеЕсли Источник.СтавкаНДС.Ставка = 20
			И Источник.СтавкаНДС.Расчетная Тогда
		Выражение = "Перечисления.ВидыСтавокНДС.ОбщаяРасчетная";
	Иначе
		Выражение = "Перечисления.ВидыСтавокНДС.Общая";
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>9</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
						<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
						<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true">
						<Код>11</Код>
						<Наименование>Спецификация --&gt; ОсновнаяСпецификацияНоменклатуры</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Спецификация" Вид="Реквизит" Тип="СправочникСсылка.Спецификации"/>
						<Приемник Имя="ОсновнаяСпецификацияНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.СпецификацииНоменклатуры"/>
						<КодПравилаКонвертации>СпецификацииНоменклатуры                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ТипНоменклатуры --&gt; Услуга</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
						<Приемник Имя="Услуга" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Если НЕ Источник.ЭтоГруппа Тогда
	
	Значение = (Источник.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Услуга)
		ИЛИ (Источник.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Работа);
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>СтранаПроисхождения --&gt; СтранаПроисхождения</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
						<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
						<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>250</Порядок>
				<ПередВыгрузкой>Если Источник.ЭтоГруппа = Истина Тогда
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>Если Не ОбъектНайден Тогда
	Параметры.ЗагруженныеОрганизации.Добавить(Объект);
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Префикс --&gt; Префикс</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>БанковскийСчетПоУмолчанию --&gt; ОсновнойБанковскийСчет</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="БанковскийСчетПоУмолчанию" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ФизическоеЛицо --&gt; ИндивидуальныйПредприниматель</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ФизическоеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ИндивидуальныйПредприниматель" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>СвидетельствоДатаВыдачи --&gt; СвидетельствоДатаВыдачи</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование> --&gt; РайонныйКоэффициент</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="РайонныйКоэффициент" Вид="Реквизит" Тип="Число"/>
						<ПриВыгрузке>Значение  = 1;</ПриВыгрузке>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>СвидетельствоСерияНомер --&gt; СвидетельствоСерияНомер</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>34</Код>
						<Наименование> --&gt; ГоловнаяОрганизация</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ГоловнаяОрганизация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>21</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>22</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>33</Код>
						<Наименование>Наименование --&gt; НаименованиеСокращенное</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="НаименованиеСокращенное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФизическиеЛица</Код>
				<Наименование>Справочник: Физические лица</Наименование>
				<Порядок>350</Порядок>
				<ПередВыгрузкой>Если Источник.ЭтоГруппа = Истина Тогда
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>Выполнить(Алгоритмы.аигЗаполнитьПолФизлица);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа = Истина Тогда
	
	Отказ = Истина;
	
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>15</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>13</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>14</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>Пол --&gt; Пол</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Пол</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа = Истина Тогда
	
	Отказ = Истина;
	
КонецЕсли;

Значение = Источник.Пол;
</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>Справочник: Договоры контрагентов</Наименование>
				<Порядок>400</Порядок>
				<ПослеЗагрузки>ВалютаРегламентированногоУчета	= Параметры.ВалютаРегламентированногоУчета;
Объект.ОплатаВВалюте 			= (Объект.ВалютаВзаиморасчетов &lt;&gt; ВалютаРегламентированногоУчета)
										И НЕ Объект.РасчетыВУсловныхЕдиницах;

Объект.УстановленСрокОплаты 	= Объект.СрокОплаты &lt;&gt; 0;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "Код, Наименование";
 
ИначеЕсли НомерВариантаПоиска = 2 тогда
 
 СтрокаИменСвойствПоиска = "Код";
 
Иначе
 
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>РасчетыВУсловныхЕдиницах --&gt; РасчетыВУсловныхЕдиницах</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="РасчетыВУсловныхЕдиницах" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="РасчетыВУсловныхЕдиницах" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>ВалютаРасчетов --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ВалютаРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>11</Код>
						<Наименование> --&gt; ЭтоГруппа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>12</Код>
						<Наименование>ВидДоговора --&gt; ВидДоговора</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоров"/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
						<КодПравилаКонвертации>ВидыДоговоровКонтрагентов                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ВидЦен --&gt; ТипЦен</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
						<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
						<КодПравилаКонвертации>ТипыЦенНоменклатуры                               </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>ДатаДоговора --&gt; Дата</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ДатаДоговора" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>НомерДоговора --&gt; Номер</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НомерДоговора" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>СрокОплатыПокупателя --&gt; СрокОплаты</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СрокОплатыПокупателя" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СрокОплаты" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>	Значение = 0;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентовПоискПоИдентификатору</Код>
				<Наименование>Справочник: Договоры контрагентов</Наименование>
				<Порядок>450</Порядок>
				<ПослеЗагрузки>ВалютаРегламентированногоУчета	= Параметры.ВалютаРегламентированногоУчета;
Объект.ОплатаВВалюте 			= (Объект.ВалютаВзаиморасчетов &lt;&gt; ВалютаРегламентированногоУчета)
										И НЕ Объект.РасчетыВУсловныхЕдиницах;
										
Объект.УстановленСрокОплаты     = Объект.СрокОплаты &lt;&gt; 0;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "Код, Наименование";
 
ИначеЕсли НомерВариантаПоиска = 2 тогда
 
 СтрокаИменСвойствПоиска = "Код";
 
Иначе
 
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>РасчетыВУсловныхЕдиницах --&gt; РасчетыВУсловныхЕдиницах</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="РасчетыВУсловныхЕдиницах" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="РасчетыВУсловныхЕдиницах" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>ВалютаРасчетов --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ВалютаРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>8</Код>
						<Наименование> --&gt; ЭтоГруппа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>ВидДоговора --&gt; ВидДоговора</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоров"/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
						<КодПравилаКонвертации>ВидыДоговоровКонтрагентов                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ВидЦен --&gt; ТипЦен</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
						<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
						<КодПравилаКонвертации>ТипыЦенНоменклатуры                               </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ДатаДоговора --&gt; Дата</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ДатаДоговора" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>НомерДоговора --&gt; Номер</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НомерДоговора" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>СрокОплатыПокупателя --&gt; СрокОплаты</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СрокОплатыПокупателя" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СрокОплаты" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>
Если Источник.ВидДоговора = Перечисления.ВидыДоговоров.СПокупателем
	ИЛИ Источник.ВидДоговора = Перечисления.ВидыДоговоров.СКомиссионером Тогда
	Значение = Источник.СрокОплатыПокупателя;
ИначеЕсли Источник.ВидДоговора = Перечисления.ВидыДоговоров.СПоставщиком
	ИЛИ Источник.ВидДоговора = Перечисления.ВидыДоговоров.СКомитентом Тогда
	Значение = Источник.СрокОплатыПоставщику;
Иначе
	Значение = 0;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>НомераГТД</Код>
				<Наименование>Справочник: Номера ГТД</Наименование>
				<Порядок>500</Порядок>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "Код";
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.НомераГТД</Источник>
				<Приемник>СправочникСсылка.НомераГТД</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>Справочник: Статьи движения денежных средств</Наименование>
				<Порядок>550</Порядок>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "Код, Наименование";
 
ИначеЕсли НомерВариантаПоиска = 2 тогда
 
 СтрокаИменСвойствПоиска = "Код";
 
Иначе
 
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
				<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Структурные единицы</Наименование>
				<Порядок>600</Порядок>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.СтруктурныеЕдиницы</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>ТипСтруктурнойЕдиницы --&gt; ТипСклада</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ТипСтруктурнойЕдиницы" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСтруктурныхЕдиниц"/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<КодПравилаКонвертации>ВидыСкладов                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>МОЛ --&gt; МОЛ</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="МОЛ" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="" Вид=""/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						<ИмяПараметраДляПередачи>МОЛ</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>РозничныйВидЦен --&gt; ТипЦенРозничнойТорговли</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="РозничныйВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
						<Приемник Имя="ТипЦенРозничнойТорговли" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
						<КодПравилаКонвертации>ТипыЦенНоменклатуры                               </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Пусто = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПроизводственныеСклады</Код>
				<Наименование>Справочник: Структурные единицы</Наименование>
				<Порядок>650</Порядок>
				<ПослеЗагрузки>Если РежимЗагрузкиДанныхВИнформационнуюБазу() Тогда
	НоваяСтрока = Параметры.ТаблицаЗагруженныхОбъектов.Добавить();
	НоваяСтрока.ЗагружаемыйОбъект = Объект;
	НоваяСтрока.ПараметрыОбъекта  = ПараметрыОбъекта;
	НоваяСтрока.Ссылка = Ссылка;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.СтруктурныеЕдиницы</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>10</Код>
						<Наименование>--&gt; ТипСклада</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<ПередВыгрузкой>Значение = "ОптовыйСклад";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>МОЛ --&gt; МОЛ</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="МОЛ" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="" Вид=""/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						<ИмяПараметраДляПередачи>МОЛ</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
						<ПередВыгрузкой>Пусто = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СпецификацииНоменклатуры</Код>
				<Наименование>Справочник: Спецификации</Наименование>
				<Порядок>700</Порядок>
				<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	                                           |	СоответствиеНоменклатурыБухгалтерияПредприятия.Код,
	                                           |	СоответствиеНоменклатурыБухгалтерияПредприятия.Наименование,
	                                           |	Спецификации.Владелец КАК Номенклатура,
	                                           |	Спецификации.ХарактеристикаПродукции КАК Характеристика
	                                           |ИЗ
	                                           |	Справочник.Спецификации КАК Спецификации
	                                           |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК СоответствиеНоменклатурыБухгалтерияПредприятия
	                                           |		ПО Спецификации.Владелец = СоответствиеНоменклатурыБухгалтерияПредприятия.Номенклатура
	                                           |			И Спецификации.ХарактеристикаПродукции = СоответствиеНоменклатурыБухгалтерияПредприятия.Характеристика
	                                           |ГДЕ
	                                           |	Спецификации.Ссылка = &amp;Ссылка
	                                           |
	                                           |ОБЪЕДИНИТЬ ВСЕ
	                                           |
	                                           |ВЫБРАТЬ
	                                           |	Соответствие.Код,
	                                           |	Соответствие.Наименование,
	                                           |	Спецификации.Номенклатура,
	                                           |	Спецификации.Характеристика
	                                           |ИЗ
	                                           |	Справочник.Спецификации.Состав КАК Спецификации
	                                           |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	                                           |		ПО Спецификации.Номенклатура = Соответствие.Номенклатура
	                                           |			И Спецификации.Характеристика = Соответствие.Характеристика
	                                           |ГДЕ
	                                           |	Спецификации.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);
//ИсходящиеДанные.Вставить("Владелец", Источник.Владелец);
//ИсходящиеДанные.Вставить("ХарактеристикаПродукции", Источник.ХарактеристикаПродукции);

//Сообщить(""+Таблица.Количество());
//Сообщить(Источник.Владелец);
//Сообщить(Источник.ХарактеристикаПродукции);</ПередВыгрузкой>
				<ПослеЗагрузки>
//Сообщить("" + Источник);

//Для Каждого Параметр Из ПараметрыОбъекта  Цикл
//	Сообщить(Параметр.Ключ + ": " + Параметр.Значение);
//КонецЦикла;


Выполнить(Алгоритмы.ЗаполнениеСпецификации);</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
  
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Спецификации</Источник>
				<Приемник>СправочникСсылка.СпецификацииНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование> --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование> --&gt; Количество</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>12</Код>
						<Наименование>--&gt; Код_БП</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>13</Код>
						<Наименование>--&gt; Наименование_БП</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>7</Код>
						<Наименование>Состав --&gt; ИсходныеКомплектующие</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Состав" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ИсходныеКомплектующие" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>8</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; Код_БП</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; Наименование_БП</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ТипыЦенНоменклатуры</Код>
				<Наименование>Справочник: Виды цен</Наименование>
				<Порядок>750</Порядок>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда

 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ВидыЦен</Источник>
				<Приемник>СправочникСсылка.ТипыЦенНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ВалютаЦены --&gt; ВалютаЦены</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ОкруглятьВБольшуюСторону --&gt; ОкруглятьВБольшуюСторону</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПорядокОкругления --&gt; ПорядокОкругления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПорядокОкругления" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядкиОкругления"/>
						<Приемник Имя="ПорядокОкругления" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядкиОкругления"/>
						<КодПравилаКонвертации>ПорядкиОкругления                                 </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПодразделенияОрганизаций</Код>
				<Наименование>Справочник: Подразделения организаций</Наименование>
				<Порядок>800</Порядок>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "Код, Наименование";
 
ИначеЕсли НомерВариантаПоиска = 2 тогда
 
 СтрокаИменСвойствПоиска = "Код";
 
Иначе
 
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.СтруктурныеЕдиницы</Источник>
				<Приемник>СправочникСсылка.ПодразделенияОрганизаций</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Организация --&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование> --&gt; РайонныйКоэффициент</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="РайонныйКоэффициент" Вид="Реквизит" Тип="Число"/>
						<ПриВыгрузке>Значение = 1;</ПриВыгрузке>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>Справочник: Виды контактной информации</Наименование>
				<Порядок>850</Порядок>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
 
 СтрокаИменСвойствПоиска = "Наименование";
 
КонецЕсли;</ПоследовательностьПолейПоиска>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
				<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Тип --&gt; Тип</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>4</Код>
						<Наименование>АдресТолькоРоссийский --&gt; АдресТолькоРоссийский</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="АдресТолькоРоссийский" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="АдресТолькоРоссийский" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>МожноИзменятьСпособРедактирования --&gt; МожноИзменятьСпособРедактирования</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="МожноИзменятьСпособРедактирования" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="МожноИзменятьСпособРедактирования" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>РедактированиеТолькоВДиалоге --&gt; РедактированиеТолькоВДиалоге</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="РедактированиеТолькоВДиалоге" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="РедактированиеТолькоВДиалоге" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>РеквизитДопУпорядочивания --&gt; РеквизитДопУпорядочивания</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="РеквизитДопУпорядочивания" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="РеквизитДопУпорядочивания" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>8</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>9</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>EmailКонтактногоЛица --&gt; EmailКонтактныеЛица</Наименование>
						<Порядок>50</Порядок>
						<Источник>EmailКонтактногоЛица</Источник>
						<Приемник>EmailКонтактныеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>EmailКонтрагента --&gt; EmailКонтрагенты</Наименование>
						<Порядок>100</Порядок>
						<Источник>EmailКонтрагента</Источник>
						<Приемник>EmailКонтрагенты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>EmailОрганизации --&gt; EmailОрганизации</Наименование>
						<Порядок>150</Порядок>
						<Источник>EmailОрганизации</Источник>
						<Приемник>EmailОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>EmailПользователя --&gt; EmailПользователя</Наименование>
						<Порядок>200</Порядок>
						<Источник>EmailПользователя</Источник>
						<Приемник>EmailПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>АдресДляИнформированияФизЛица --&gt; АдресДляИнформир</Наименование>
						<Порядок>250</Порядок>
						<Источник>АдресДляИнформированияФизЛица</Источник>
						<Приемник>АдресДляИнформированияФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>АдресПроживанияФизЛица --&gt; АдресМестаПроживанияФиз</Наименование>
						<Порядок>300</Порядок>
						<Источник>АдресПроживанияФизЛица</Источник>
						<Приемник>АдресМестаПроживанияФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>АдресФизЛицаЗаПределамиРФ --&gt; АдресЗаПределамиРФФи</Наименование>
						<Порядок>350</Порядок>
						<Источник>АдресФизЛицаЗаПределамиРФ</Источник>
						<Приемник>АдресЗаПределамиРФФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>АдресФизЛицаПоПрописке --&gt; АдресПоПропискеФизическ</Наименование>
						<Порядок>400</Порядок>
						<Источник>АдресФизЛицаПоПрописке</Источник>
						<Приемник>АдресПоПропискеФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ДругаяИнформацияКонтрагента --&gt; ДругаяИнформацияКо</Наименование>
						<Порядок>450</Порядок>
						<Источник>ДругаяИнформацияКонтрагента</Источник>
						<Приемник>ДругаяИнформацияКонтрагенты</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ДругаяИнформацияОрганизации --&gt; ДругаяИнформацияОр</Наименование>
						<Порядок>500</Порядок>
						<Источник>ДругаяИнформацияОрганизации</Источник>
						<Приемник>ДругаяИнформацияОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ПочтовыйАдресКонтрагента --&gt; ПочтовыйАдресКонтраге</Наименование>
						<Порядок>550</Порядок>
						<Источник>ПочтовыйАдресКонтрагента</Источник>
						<Приемник>ПочтовыйАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>12</Код>
						<Наименование>ПочтовыйАдресОрганизации --&gt; ПочтовыйАдресОрганиза</Наименование>
						<Порядок>600</Порядок>
						<Источник>ПочтовыйАдресОрганизации</Источник>
						<Приемник>ПочтовыйАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>13</Код>
						<Наименование>СправочникКонтактныеЛица --&gt; СправочникКонтактныеЛ</Наименование>
						<Порядок>650</Порядок>
						<Источник>СправочникКонтактныеЛица</Источник>
						<Приемник>СправочникКонтактныеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>14</Код>
						<Наименование>СправочникКонтрагенты --&gt; СправочникКонтрагенты</Наименование>
						<Порядок>700</Порядок>
						<Источник>СправочникКонтрагенты</Источник>
						<Приемник>СправочникКонтрагенты</Приемник>
					</Значение>
					<Значение>
						<Код>15</Код>
						<Наименование>СправочникОрганизации --&gt; СправочникОрганизации</Наименование>
						<Порядок>750</Порядок>
						<Источник>СправочникОрганизации</Источник>
						<Приемник>СправочникОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>16</Код>
						<Наименование>СправочникПользователи --&gt; СправочникПользователи</Наименование>
						<Порядок>800</Порядок>
						<Источник>СправочникПользователи</Источник>
						<Приемник>СправочникПользователи</Приемник>
					</Значение>
					<Значение>
						<Код>17</Код>
						<Наименование>СправочникФизическиеЛица --&gt; СправочникФизическиеЛ</Наименование>
						<Порядок>850</Порядок>
						<Источник>СправочникФизическиеЛица</Источник>
						<Приемник>СправочникФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>18</Код>
						<Наименование>ТелефонКонтактногоЛица --&gt; ТелефонРабочийКонтактны</Наименование>
						<Порядок>900</Порядок>
						<Источник>ТелефонКонтактногоЛица</Источник>
						<Приемник>ТелефонРабочийКонтактныеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>19</Код>
						<Наименование>ТелефонКонтрагента --&gt; ТелефонКонтрагента</Наименование>
						<Порядок>950</Порядок>
						<Источник>ТелефонКонтрагента</Источник>
						<Приемник>ТелефонКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>20</Код>
						<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
						<Порядок>1000</Порядок>
						<Источник>ТелефонОрганизации</Источник>
						<Приемник>ТелефонОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>21</Код>
						<Наименование>ТелефонФизЛица --&gt; ТелефонРабочийФизическиеЛица</Наименование>
						<Порядок>1050</Порядок>
						<Источник>ТелефонФизЛица</Источник>
						<Приемник>ТелефонРабочийФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>22</Код>
						<Наименование>ФаксКонтрагента --&gt; ФаксКонтрагенты</Наименование>
						<Порядок>1100</Порядок>
						<Источник>ФаксКонтрагента</Источник>
						<Приемник>ФаксКонтрагенты</Приемник>
					</Значение>
					<Значение>
						<Код>23</Код>
						<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
						<Порядок>1150</Порядок>
						<Источник>ФаксОрганизации</Источник>
						<Приемник>ФаксОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>24</Код>
						<Наименование>ФактАдресКонтрагента --&gt; ФактАдресКонтрагента</Наименование>
						<Порядок>1200</Порядок>
						<Источник>ФактАдресКонтрагента</Источник>
						<Приемник>ФактАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>25</Код>
						<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
						<Порядок>1250</Порядок>
						<Источник>ФактАдресОрганизации</Источник>
						<Приемник>ФактАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>26</Код>
						<Наименование>ЮрАдресКонтрагента --&gt; ЮрАдресКонтрагента</Наименование>
						<Порядок>1300</Порядок>
						<Источник>ЮрАдресКонтрагента</Источник>
						<Приемник>ЮрАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>27</Код>
						<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
						<Порядок>1350</Порядок>
						<Источник>ЮрАдресОрганизации</Источник>
						<Приемник>ЮрАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>28</Код>
						<Наименование>--&gt;</Наименование>
						<Порядок>1400</Порядок>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДокументовФизическихЛиц</Код>
				<Наименование>Справочник: Виды документов физических лиц</Наименование>
				<Порядок>900</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ВидыДокументовФизическихЛиц</Источник>
				<Приемник>СправочникСсылка.ВидыДокументовФизическихЛиц</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВодительскоеУдостоверение --&gt; ВодительскоеУдостове</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВодительскоеУдостоверение</Источник>
						<Приемник>ВодительскоеУдостоверение</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ВоенныйБилет --&gt; ВоенныйБилет</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВоенныйБилет</Источник>
						<Приемник>ВоенныйБилет</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВоенныйБилетОфицераЗапаса --&gt; ВоенныйБилетОфицераЗ</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВоенныйБилетОфицераЗапаса</Источник>
						<Приемник>ВоенныйБилетОфицераЗапаса</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ДипломатическийПаспорт --&gt; ДипломатическийПаспорт</Наименование>
						<Порядок>200</Порядок>
						<Источник>ДипломатическийПаспорт</Источник>
						<Приемник>ДипломатическийПаспорт</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ЗагранпаспортРФ --&gt; ЗагранпаспортРФ</Наименование>
						<Порядок>250</Порядок>
						<Источник>ЗагранпаспортРФ</Источник>
						<Приемник>ЗагранпаспортРФ</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ЗагранпаспортСССР --&gt; ЗагранпаспортСССР</Наименование>
						<Порядок>300</Порядок>
						<Источник>ЗагранпаспортСССР</Источник>
						<Приемник>ЗагранпаспортСССР</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПаспортМинморфлота --&gt; ПаспортМинморфлота</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПаспортМинморфлота</Источник>
						<Приемник>ПаспортМинморфлота</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПаспортМоряка --&gt; ПаспортМоряка</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПаспортМоряка</Источник>
						<Приемник>ПаспортМоряка</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ПаспортРФ --&gt; ПаспортРФ</Наименование>
						<Порядок>450</Порядок>
						<Источник>ПаспортРФ</Источник>
						<Приемник>ПаспортРФ</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ПаспортСССР --&gt; ПаспортСССР</Наименование>
						<Порядок>500</Порядок>
						<Источник>ПаспортСССР</Источник>
						<Приемник>ПаспортСССР</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>СвидетельствоОРождении --&gt; СвидетельствоОРождении</Наименование>
						<Порядок>550</Порядок>
						<Источник>СвидетельствоОРождении</Источник>
						<Приемник>СвидетельствоОРождении</Приемник>
					</Значение>
					<Значение>
						<Код>12</Код>
						<Наименование>УдостоверениеОфицера --&gt; УдостоверениеОфицера</Наименование>
						<Порядок>600</Порядок>
						<Источник>УдостоверениеОфицера</Источник>
						<Приемник>УдостоверениеОфицера</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЗначенияСвойствОбъектов</Код>
				<Наименование>Справочник: Дополнительные значения</Наименование>
				<Порядок>950</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ЗначенияСвойствОбъектов</Источник>
				<Приемник>СправочникСсылка.ЗначенияСвойствОбъектов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.СвойстваОбъектов"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектов"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектов"/>
						<КодПравилаКонвертации>ЗначенияСвойствОбъектов                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗначенияСвойствОбъектовИерархия</Код>
				<Наименование>Справочник: Дополнительные значения (иерархия)</Наименование>
				<Порядок>1000</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ЗначенияСвойствОбъектовИерархия</Источник>
				<Приемник>СправочникСсылка.ЗначенияСвойствОбъектовИерархия</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектовИерархия"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектовИерархия"/>
						<КодПравилаКонвертации>ЗначенияСвойствОбъектовИерархия                   </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>Справочник: Пользователи</Наименование>
				<Порядок>1050</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>200</Порядок>
			<Группа>
				<Код>МаркетингИПродажи</Код>
				<Наименование>Документы. Маркетинг и продажи</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>РеализацияТоваровУслуг</Код>
					<Наименование>Документ: Расходная накладная</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;	

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	Запасы.Номенклатура,
	|	Запасы.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Документ.РасходнаяНакладная.Запасы КАК Запасы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Запасы.Номенклатура = Соответствие.Номенклатура
	|			И Запасы.Характеристика = Соответствие.Характеристика
	|			И Запасы.Ссылка.Организация = Соответствие.Организация
	|ГДЕ
	|	Запасы.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

Если Объект.ЗачетАвансов.Количество() &gt; 0 Тогда
	Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.ПоДокументу;
ИначеЕсли Не Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.НеЗачитывать Тогда
	Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
КонецЕсли;

Выполнить(Алгоритмы.ОбработатьЗаполнениеДокументаПослеЗагрузки);

Выполнить(Алгоритмы.ОбработатьДоговорКонтрагента);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.РасходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ВалютаДокумента --&gt; ВалютаДокумента</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидОперации --&gt; ВидОперации</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРасходнаяНакладная"/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<КодПравилаКонвертации>ВидыОперацийРеализацияТоваров                     </КодПравилаКонвертации>
							<ПередВыгрузкой>
Если Источник.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПродажаПокупателю Тогда
	
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	1 КАК ЕстьТовары,
	|	0 КАК ЕстьУслуги
	|ПОМЕСТИТЬ ВТ_Таблицы
	|ИЗ
	|	Документ.РасходнаяНакладная.Запасы КАК РасходнаяНакладнаяЗапасы
	|ГДЕ
	|	РасходнаяНакладнаяЗапасы.Ссылка = &amp;Ссылка
	|	И РасходнаяНакладнаяЗапасы.ТипНоменклатурыЗапас
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	0,
	|	1
	|ИЗ
	|	Документ.РасходнаяНакладная.Запасы КАК РасходнаяНакладнаяЗапасы
	|ГДЕ
	|	РасходнаяНакладнаяЗапасы.Ссылка = &amp;Ссылка
	|	И НЕ РасходнаяНакладнаяЗапасы.ТипНоменклатурыЗапас
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СУММА(ВТ_Таблицы.ЕстьТовары) КАК ЕстьТовары,
	|	СУММА(ВТ_Таблицы.ЕстьУслуги) КАК ЕстьУслуги
	|ИЗ
	|	ВТ_Таблицы КАК ВТ_Таблицы";
	
	Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
	Выборка = Запрос.Выполнить().Выбрать();
	
	ЕстьТовары 	= Ложь;
	ЕстьУслуги	= Ложь;
	Если Выборка.Следующий() Тогда
		ЕстьТовары = ЗначениеЗаполнено(Выборка.ЕстьТовары) И Выборка.ЕстьТовары &gt; 0;
		ЕстьУслуги = ЗначениеЗаполнено(Выборка.ЕстьУслуги) И Выборка.ЕстьУслуги &gt; 0;
	КонецЕсли;
	
	Если ЕстьТовары И Не ЕстьУслуги Тогда
		
		Значение = "Товары";
		
	ИначеЕсли Не ЕстьТовары И ЕстьУслуги Тогда
		
		Значение = "Услуги";
		
	Иначе
		
		Значение = "ПродажаКомиссия";
		
	КонецЕсли;
	
	ИмяПКО = "";
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>СуммаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>ВидЦен --&gt; ТипЦен</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Кратность --&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Кратность" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>
Выполнить(Алгоритмы.СформироватьСтруктуруДоговораКонтрагента);</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>12</Код>
							<Наименование>НалогообложениеНДС --&gt; УдалитьУчитыватьНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
							<Приемник Имя="УдалитьУчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Источник.НалогообложениеНДС &lt;&gt; Перечисления.ТипыНалогообложенияНДС.НеОблагаетсяНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>40</Код>
							<Наименование>--&gt; ПродажаПокупателю</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>ПродажаПокупателю</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Источник.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПродажаПокупателю;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>43</Код>
							<Наименование>Грузоотправитель --&gt; Грузоотправитель</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>Грузополучатель --&gt; Грузополучатель</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>65</Код>
							<Наименование>ДокументОснование --&gt; СчетНаОплатуПокупателю</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="СчетНаОплатуПокупателю" Вид="Реквизит" Тип="ДокументСсылка.СчетНаОплатуПокупателю"/>
							<КодПравилаКонвертации>СчетНаОплатуПокупателю                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ТипЗнч(Источник.ДокументОснование) = Тип("ДокументСсылка.ПриходнаяНакладная") Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>45</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>50</Код>
							<Наименование>--&gt; СпособЗачетаАвансов</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособЗачетаАвансов" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыЗачетаАвансов"/>
							<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПередачаНаКомиссию Тогда
	Выражение = "Перечисления.СпособыЗачетаАвансов.НеЗачитывать";
ИначеЕсли Источник.Предоплата.Количество() &gt; 0 Тогда
	Выражение = "Перечисления.СпособыЗачетаАвансов.ПоДокументу";
Иначе
	ВедутсяРасчетыПоДокументам = ИСТИНА;
	Если ВедутсяРасчетыПоДокументам Тогда
		Выражение = "Перечисления.СпособыЗачетаАвансов.НеЗачитывать";
	Иначе
		Выражение = "Перечисления.СпособыЗачетаАвансов.Автоматически";
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>18</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.СформироватьТабличнуюЧастьТовары);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование> --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЦенуВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>38</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>63</Код>
								<Наименование>--&gt; НомерГТД</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>64</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>41</Код>
								<Наименование>--&gt; ТоварНаКомиссии</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ТоварНаКомиссии</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПродажаПокупателю
   И ЗначениеЗаполнено(ОбъектКоллекции.Партия)
   И ОбъектКоллекции.Партия.Статус = Перечисления.СтатусыПартий.ТоварыНаКомиссии Тогда
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>76</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>77</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>27</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.СформироватьТабличнуюЧастьУслуги);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>30</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>31</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>33</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>34</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>35</Код>
								<Наименование> --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>42</Код>
								<Наименование> --&gt; Содержание</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Если Не ЗначениеЗаполнено(ОбъектКоллекции.Содержание) Тогда
	Значение = Строка(ОбъектКоллекции.Номенклатура);	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>78</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодУслуги);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>79</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеУслуги);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>47</Код>
							<Наименование>Предоплата --&gt; ЗачетАвансов</Наименование>
							<Порядок>1250</Порядок>
							<Источник Имя="Предоплата" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ЗачетАвансов" Вид="ТабличнаяЧасть"/>
							<ПередВыгрузкой>Если Источник.Предоплата.Количество() &gt; 0
	И Не ЗначениеЗаполнено(Источник.Предоплата[0].Документ) Тогда
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
							<Свойство>
								<Код>48</Код>
								<Наименование>Документ --&gt; ДокументАванса</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Документ" Вид="Реквизит"/>
								<Приемник Имя="ДокументАванса" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>49</Код>
								<Наименование>СуммаРасчетов --&gt; СуммаЗачета</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="СуммаРасчетов" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаЗачета" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>66</Код>
							<Наименование>АдресДоставки --&gt; АдресДоставки</Наименование>
							<Порядок>1300</Порядок>
							<Источник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>67</Код>
							<Наименование>ПодписьГлавногоБухгалтера --&gt; ГлавныйБухгалтер</Наименование>
							<Порядок>1350</Порядок>
							<Источник Имя="ПодписьГлавногоБухгалтера" Вид="Реквизит" Тип="СправочникСсылка.Подписи"/>
							<Приемник Имя="ГлавныйБухгалтер" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ПодписьГлавногоБухгалтера) Тогда
	Значение = Источник.ПодписьГлавногоБухгалтера.ФизическоеЛицо;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>69</Код>
							<Наименование>ДоверенностьДата --&gt; ДоверенностьДата</Наименование>
							<Порядок>1400</Порядок>
							<Источник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>70</Код>
							<Наименование>ДоверенностьНомер --&gt; ДоверенностьНомер</Наименование>
							<Порядок>1450</Порядок>
							<Источник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>68</Код>
							<Наименование>ДоверенностьВыдана --&gt; ДоверенностьВыдана</Наименование>
							<Порядок>1500</Порядок>
							<Источник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>75</Код>
							<Наименование>ДоверенностьЛицо --&gt; ДоверенностьЧерезКого</Наименование>
							<Порядок>1550</Порядок>
							<Источник Имя="ДоверенностьЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="ДоверенностьЧерезКого" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = Строка(Источник.ДоверенностьЛицо);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>71</Код>
							<Наименование>ПодписьРуководителя --&gt; Руководитель</Наименование>
							<Порядок>1600</Порядок>
							<Источник Имя="ПодписьРуководителя" Вид="Реквизит" Тип="СправочникСсылка.Подписи"/>
							<Приемник Имя="Руководитель" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ПодписьРуководителя) Тогда
	Значение = Источник.ПодписьРуководителя.ФизическоеЛицо;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>72</Код>
							<Наименование>ПодписьКладовщика --&gt; ОтпускПроизвел</Наименование>
							<Порядок>1650</Порядок>
							<Источник Имя="ПодписьКладовщика" Вид="Реквизит" Тип="СправочникСсылка.Подписи"/>
							<Приемник Имя="ОтпускПроизвел" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ПодписьКладовщика) Тогда
	Значение = Источник.ПодписьКладовщика.ФизическоеЛицо;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>73</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>1700</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>74</Код>
							<Наименование>БанковскийСчет --&gt; БанковскийСчетОрганизации</Наименование>
							<Порядок>1750</Порядок>
							<Источник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
							<Приемник Имя="БанковскийСчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
							<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СчетНаОплатуПокупателю</Код>
					<Наименование>Документ: Счет на оплату</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	Запасы.Номенклатура,
	|	Запасы.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Документ.СчетНаОплату.Запасы КАК Запасы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Запасы.Номенклатура = Соответствие.Номенклатура
	|			И Запасы.Характеристика = Соответствие.Характеристика
	|			И Запасы.Ссылка.Организация = Соответствие.Организация
	|ГДЕ
	|	Запасы.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>	Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);   
	
	Выполнить(Алгоритмы.ОбработатьДоговорКонтрагента);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.СчетНаОплату</Источник>
					<Приемник>ДокументСсылка.СчетНаОплатуПокупателю</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ВалютаДокумента --&gt; ВалютаДокумента</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>Организация --&gt; ОрганизацияПолучатель</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="ОрганизацияПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>СуммаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ВидЦен --&gt; ТипЦен</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>
Выполнить(Алгоритмы.СформироватьСтруктуруДоговораКонтрагента);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Кратность --&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Кратность" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>23</Код>
							<Наименование>НалогообложениеНДС --&gt; УдалитьУчитыватьНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
							<Приемник Имя="УдалитьУчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Источник.НалогообложениеНДС &lt;&gt; Перечисления.ТипыНалогообложенияНДС.НеОблагаетсяНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>БанковскийСчет --&gt; СтруктурнаяЕдиница</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
							<Приемник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
							<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
							<ПриВыгрузке>Если НЕ ЗначениеЗаполнено(Источник.БанковскийСчет) Тогда 
	
	Если ЗначениеЗаполнено(Источник.Организация) 
		И ЗначениеЗаполнено(Источник.Организация.БанковскийСчетПоУмолчанию)
		И Источник.ВалютаДокумента = Источник.Организация.БанковскийСчетПоУмолчанию.ВалютаДенежныхСредств Тогда
		
		Значение = Источник.Организация.БанковскийСчетПоУмолчанию;
		
	Иначе
		
		Значение = Справочники.БанковскиеСчета.ПустаяСсылка();
		
	КонецЕсли;
	
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>45</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>15</Код>
							<Наименование> --&gt; Товары</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.СформироватьТабличнуюЧастьТовары);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЦенуВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>48</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>49</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа Отключить="true">
							<Код>25</Код>
							<Наименование> --&gt; УдалитьУслуги</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УдалитьУслуги" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>//Выполнить(Алгоритмы.СформироватьТабличнуюЧастьУслуги);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>27</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЦенуВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>31</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование> --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>33</Код>
								<Наименование> --&gt; Содержание</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Если Не ЗначениеЗаполнено(ОбъектКоллекции.Содержание) Тогда
	Значение = Строка(ОбъектКоллекции.Номенклатура);	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>50</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодУслуги);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>51</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеУслуги);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство Отключить="true">
							<Код>46</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>47</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровОтПокупателя</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос("
|ВЫБРАТЬ
|	ВложенныйЗапрос.Номенклатура,
|	ВложенныйЗапрос.Характеристика,
|	ВложенныйЗапрос.Организация
|ПОМЕСТИТЬ Таблица
|ИЗ
|	(ВЫБРАТЬ
|		ПриходнаяНакладнаяЗапасы.Номенклатура КАК Номенклатура,
|		ПриходнаяНакладнаяЗапасы.Характеристика КАК Характеристика,
|		ПриходнаяНакладнаяЗапасы.Ссылка.Организация КАК Организация
|	ИЗ
|		Документ.ПриходнаяНакладная.Запасы КАК ПриходнаяНакладнаяЗапасы
|	ГДЕ
|		ПриходнаяНакладнаяЗапасы.Ссылка = &amp;Ссылка
|	
|	ОБЪЕДИНИТЬ ВСЕ
|	
|	ВЫБРАТЬ
|		ПриходнаяНакладнаяРасходы.Номенклатура,
|		ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка),
|		ПриходнаяНакладнаяРасходы.Ссылка.Организация
|	ИЗ
|		Документ.ПриходнаяНакладная.Расходы КАК ПриходнаяНакладнаяРасходы
|	ГДЕ
|		ПриходнаяНакладнаяРасходы.Ссылка = &amp;Ссылка) КАК ВложенныйЗапрос
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Таблица.Номенклатура,
|	Таблица.Характеристика,
|	СоответствиеНоменклатурыБухгалтерияПредприятия.Код,
|	СоответствиеНоменклатурыБухгалтерияПредприятия.Наименование
|ИЗ
|	Таблица КАК Таблица
|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК СоответствиеНоменклатурыБухгалтерияПредприятия
|		ПО Таблица.Номенклатура = СоответствиеНоменклатурыБухгалтерияПредприятия.Номенклатура
|			И Таблица.Характеристика = СоответствиеНоменклатурыБухгалтерияПредприятия.Характеристика
|			И Таблица.Организация = СоответствиеНоменклатурыБухгалтерияПредприятия.Организация"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    
	
Выполнить(Алгоритмы.ОбработатьЗаполнениеДокументаПослеЗагрузки);
	
Выполнить(Алгоритмы.ОбработатьДоговорКонтрагента);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ВалютаДокумента --&gt; ВалютаДокумента</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидОперации --&gt; ВидОперации</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПриходнаяНакладная"/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<КодПравилаКонвертации>ВидыОперацийВозвратТоваровОтПокупателя            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>9</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>СуммаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>
Выполнить(Алгоритмы.СформироватьСтруктуруДоговораКонтрагента);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Кратность --&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Кратность" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; Склад</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>24</Код>
							<Наименование>НалогообложениеНДС --&gt; УдалитьУчитыватьНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
							<Приемник Имя="УдалитьУчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Источник.НалогообложениеНДС &lt;&gt; Перечисления.ТипыНалогообложенияНДС.НеОблагаетсяНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование> --&gt; ПокупателемВыставляетсяСчетФактураНаВозврат</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПокупателемВыставляетсяСчетФактураНаВозврат" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>30</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>РеализацияТоваровУслуг                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>15</Код>
							<Наименование>Запасы --&gt; Товары</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Источник.Запасы.Выгрузить();
Выполнить(Алгоритмы.ЗаполнитьНомераГТДСтраныПроисхождения);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>18</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЦенуВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>33</Код>
								<Наименование>--&gt; НомерГТД</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>34</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>Партия --&gt; ТоварНаКомиссии</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Партия" Вид="Реквизит" Тип="СправочникСсылка.ПартииНоменклатуры"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ТоварНаКомиссии</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ВозвратОтПокупателя
   И ЗначениеЗаполнено(ОбъектКоллекции.Партия)
   И ОбъектКоллекции.Партия.Статус = Перечисления.СтатусыПартий.ТоварыНаКомиссии Тогда
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>35</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>36</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>32</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Сотрудники"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>СнабжениеИЗакупки</Код>
				<Наименование>Документы. Снабжение и закупки</Наименование>
				<Порядок>150</Порядок>
				<Правило>
					<Код>ПоступлениеТоваровУслуг</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос("
|ВЫБРАТЬ
|	ВложенныйЗапрос.Номенклатура,
|	ВложенныйЗапрос.Характеристика,
|	ВложенныйЗапрос.Организация
|ПОМЕСТИТЬ Таблица
|ИЗ
|	(ВЫБРАТЬ
|		ПриходнаяНакладнаяЗапасы.Номенклатура КАК Номенклатура,
|		ПриходнаяНакладнаяЗапасы.Характеристика КАК Характеристика,
|		ПриходнаяНакладнаяЗапасы.Ссылка.Организация КАК Организация
|	ИЗ
|		Документ.ПриходнаяНакладная.Запасы КАК ПриходнаяНакладнаяЗапасы
|	ГДЕ
|		ПриходнаяНакладнаяЗапасы.Ссылка = &amp;Ссылка
|	
|	ОБЪЕДИНИТЬ ВСЕ
|	
|	ВЫБРАТЬ
|		ПриходнаяНакладнаяРасходы.Номенклатура,
|		ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка),
|		ПриходнаяНакладнаяРасходы.Ссылка.Организация
|	ИЗ
|		Документ.ПриходнаяНакладная.Расходы КАК ПриходнаяНакладнаяРасходы
|	ГДЕ
|		ПриходнаяНакладнаяРасходы.Ссылка = &amp;Ссылка) КАК ВложенныйЗапрос
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	Таблица.Номенклатура,
|	Таблица.Характеристика,
|	СоответствиеНоменклатурыБухгалтерияПредприятия.Код,
|	СоответствиеНоменклатурыБухгалтерияПредприятия.Наименование
|ИЗ
|	Таблица КАК Таблица
|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК СоответствиеНоменклатурыБухгалтерияПредприятия
|		ПО Таблица.Номенклатура = СоответствиеНоменклатурыБухгалтерияПредприятия.Номенклатура
|			И Таблица.Характеристика = СоответствиеНоменклатурыБухгалтерияПредприятия.Характеристика
|			И Таблица.Организация = СоответствиеНоменклатурыБухгалтерияПредприятия.Организация"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

	Если Объект.ЗачетАвансов.Количество() &gt; 0 Тогда
		Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.ПоДокументу;
	ИначеЕсли Не Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.НеЗачитывать Тогда
		Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
	КонецЕсли;
	
	Выполнить(Алгоритмы.ОбработатьЗаполнениеДокументаПослеЗагрузки);
	
	Выполнить(Алгоритмы.ОбработатьДоговорКонтрагента);
	
	//+аиг-пм
	Выполнить(Алгоритмы.аигЗаполнитьГТДиСтрануВНакладной);
	//-аиг-пм</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ВалютаДокумента --&gt; ВалютаДокумента</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидОперации --&gt; ВидОперации</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПриходнаяНакладная"/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<КодПравилаКонвертации>ВидыОперацийПоступлениеТоваровУслуг               </КодПравилаКонвертации>
							<ПередВыгрузкой>
Если Источник.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПоступлениеОтПоставщика Тогда
	
	Если Источник.Запасы.Количество() &gt; 0
		И Источник.Расходы.Количество() = 0 Тогда
		
		Значение = "Товары";
		
	ИначеЕсли Источник.Запасы.Количество() = 0
		И Источник.Расходы.Количество() &gt; 0 Тогда
		
		Значение = "Услуги";
		
	Иначе
		
		Значение = "ПокупкаКомиссия";
		
	КонецЕсли;
	
	ИмяПКО = "";
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>9</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>СуммаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>
Выполнить(Алгоритмы.СформироватьСтруктуруДоговораКонтрагента);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Кратность --&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Кратность" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование> --&gt; НДСВключенВСтоимость</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НДСВключенВСтоимость" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; Склад</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>31</Код>
							<Наименование>НалогообложениеНДС --&gt; УдалитьУчитыватьНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
							<Приемник Имя="УдалитьУчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Источник.НалогообложениеНДС &lt;&gt; Перечисления.ТипыНалогообложенияНДС.НеОблагаетсяНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>ДатаВходящегоДокумента --&gt; ДатаВходящегоДокумента</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>38</Код>
							<Наименование>НомерВходящегоДокумента --&gt; НомерВходящегоДокумента</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>43</Код>
							<Наименование>--&gt; СпособЗачетаАвансов</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособЗачетаАвансов" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыЗачетаАвансов"/>
							<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемНаКомиссию
	ИЛИ Источник.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемВПереработку Тогда
	
	Выражение = "Перечисления.СпособыЗачетаАвансов.НеЗачитывать";
ИначеЕсли Источник.Предоплата.Количество() &gt; 0 Тогда
	Выражение = "Перечисления.СпособыЗачетаАвансов.ПоДокументу";
Иначе
	ВедутсяРасчетыПоДокументам = ИСТИНА;
	Если ВедутсяРасчетыПоДокументам Тогда
		Выражение = "Перечисления.СпособыЗачетаАвансов.НеЗачитывать";
	Иначе
		Выражение = "Перечисления.СпособыЗачетаАвансов.Автоматически";
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>16</Код>
							<Наименование>Запасы --&gt; Товары</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Источник.Запасы.Выгрузить();
Выполнить(Алгоритмы.ЗаполнитьНомераГТДСтраныПроисхождения);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЦенуВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>34</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>45</Код>
								<Наименование>--&gt; НомерГТД</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>46</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>35</Код>
								<Наименование>--&gt; ТоварНаКомиссии</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ТоварНаКомиссии</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если Источник.ВидОперации =  Перечисления.ВидыОперацийПриходнаяНакладная.ПриемНаКомиссию
   И ЗначениеЗаполнено(ОбъектКоллекции.Партия)
   И ОбъектКоллекции.Партия.Статус = Перечисления.СтатусыПартий.ТоварыНаКомиссии Тогда
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>49</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>50</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>24</Код>
							<Наименование>Расходы --&gt; Услуги</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="Расходы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>25</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЦенуВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>36</Код>
								<Наименование>Содержание --&gt; Содержание</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Если Не ЗначениеЗаполнено(ОбъектКоллекции.Содержание) Тогда
	Значение = Строка(ОбъектКоллекции.Номенклатура);	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>48</Код>
								<Наименование>СтруктурнаяЕдиница --&gt; ПодразделениеЗатрат</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
								<Приемник Имя="ПодразделениеЗатрат" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
								<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>47</Код>
								<Наименование>--&gt; ПроизводственныйРасход</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ПроизводственныйРасход</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
СчетУчетаЗатрат = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ОбъектКоллекции.Номенклатура, "СчетУчетаЗатрат");
Если ЗначениеЗаполнено(СчетУчетаЗатрат)
	И Параметры.ИспользуетсяПодсистемаПроизводство
	И (СчетУчетаЗатрат.ТипСчета = Перечисления.ТипыСчетов.КосвенныеЗатраты
	ИЛИ СчетУчетаЗатрат.ТипСчета = Перечисления.ТипыСчетов.НезавершенноеПроизводство) Тогда
	
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>51</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодУслуги);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>52</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеУслуги);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>40</Код>
							<Наименование>Предоплата --&gt; ЗачетАвансов</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="Предоплата" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ЗачетАвансов" Вид="ТабличнаяЧасть"/>
							<ПередВыгрузкой>Если Источник.Предоплата.Количество() &gt; 0
	И Не ЗначениеЗаполнено(Источник.Предоплата[0].Документ) Тогда
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
							<Свойство>
								<Код>41</Код>
								<Наименование>Документ --&gt; ДокументАванса</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Документ" Вид="Реквизит"/>
								<Приемник Имя="ДокументАванса" Вид="Реквизит"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ОпределитьИмяПКОДляДокументаРасчетов);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>42</Код>
								<Наименование>СуммаРасчетов --&gt; СуммаЗачета</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="СуммаРасчетов" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаЗачета" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровПоставщику</Код>
					<Наименование>Документ: Расходная накладная</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	Запасы.Номенклатура,
	|	Запасы.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Документ.РасходнаяНакладная.Запасы КАК Запасы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Запасы.Номенклатура = Соответствие.Номенклатура
	|			И Запасы.Характеристика = Соответствие.Характеристика
	|			И Запасы.Ссылка.Организация = Соответствие.Организация
	|ГДЕ
	|	Запасы.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

Выполнить(Алгоритмы.ОбработатьЗаполнениеДокументаПослеЗагрузки);

Выполнить(Алгоритмы.ОбработатьДоговорКонтрагента);
</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.РасходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровПоставщику</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ВалютаДокумента --&gt; ВалютаДокумента</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидОперации --&gt; ВидОперации</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРасходнаяНакладная"/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровПоставщику"/>
							<КодПравилаКонвертации>ВидыОперацийВозвратТоваровПоставщику              </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>СуммаВключаетНДС --&gt; СуммаВключаетНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ВидЦен --&gt; ТипЦен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>
Выполнить(Алгоритмы.СформироватьСтруктуруДоговораКонтрагента);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Кратность --&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Кратность" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование> --&gt; НДСВключенВСтоимость</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НДСВключенВСтоимость" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; Склад</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>26</Код>
							<Наименование>НалогообложениеНДС --&gt; УдалитьУчитыватьНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
							<Приемник Имя="УдалитьУчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Источник.НалогообложениеНДС &lt;&gt; Перечисления.ТипыНалогообложенияНДС.НеОблагаетсяНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>31</Код>
							<Наименование>--&gt; УдалитьПоставщикуВыставляетсяСчетФактураНаВозврат</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УдалитьПоставщикуВыставляетсяСчетФактураНаВозврат" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит" Тип="ДокументСсылка.ПоступлениеТоваровУслуг"/>
							<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>Грузоотправитель --&gt; Грузоотправитель</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>Грузополучатель --&gt; Грузополучатель</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>18</Код>
							<Наименование>Запасы --&gt; Товары</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Источник.Запасы.Выгрузить();
Выполнить(Алгоритмы.ЗаполнитьНомераГТДСтраныПроисхождения);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>19</Код>
								<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьСтавкуНДСТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЦенуВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>36</Код>
								<Наименование>--&gt; НомерГТД</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>37</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; ТоварНаКомиссии</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ТоварНаКомиссии</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратКомитенту
   И ЗначениеЗаполнено(ОбъектКоллекции.Партия)
   И ОбъектКоллекции.Партия.Статус = Перечисления.СтатусыПартий.ТоварыНаКомиссии Тогда
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>38</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>39</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>РаботыУслугиПроизводство</Код>
				<Наименование>Документы. Работы услуги производство</Наименование>
				<Порядок>300</Порядок>
				<Правило>
					<Код>ТребованиеНакладная</Код>
					<Наименование>Документ: Перемещение запасов</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	Запасы.Номенклатура,
	|	Запасы.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Документ.ПеремещениеЗапасов.Запасы КАК Запасы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Запасы.Номенклатура = Соответствие.Номенклатура
	|			И Запасы.Характеристика = Соответствие.Характеристика
	|			И Запасы.Организация = Соответствие.Организация
	|ГДЕ
	|	Запасы.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

	Если НЕ ЗначениеЗаполнено(Объект.Контрагент)
		И Объект.МатериалыЗаказчика.Количество() &gt; 0 Тогда
		
		Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
			ПараметрыТЧ = ПараметрыОбъекта.Получить("МатериалыЗаказчикаТабличнаяЧасть");
			Объект.Контрагент = ПараметрыТЧ[0].Контрагент;
		КонецЕсли;
		
	КонецЕсли;
	
	Выполнить(Алгоритмы.ОбработатьЗаполнениеДокументаПослеЗагрузки);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПеремещениеЗапасов</Источник>
					<Приемник>ДокументСсылка.ТребованиеНакладная</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; Склад</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>СтруктурнаяЕдиницаПолучатель --&gt; ПодразделениеЗатрат</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаПолучатель" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="ПодразделениеЗатрат" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование> --&gt; СчетаУчетаЗатратВТаблице</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетаУчетаЗатратВТаблице" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование> --&gt; Контрагент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Источник.ДокументОснование) 
	И ТипЗнч(Источник.ДокументОснование) = Тип("ДокументСсылка.ПриходнаяНакладная") Тогда
	
	Значение = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.ДокументОснование, "Контрагент");
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>Запасы --&gt; Материалы</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Материалы" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТаблицаТовары = Источник.Запасы.ВыгрузитьКолонки();
ТаблицаИсточник = Источник.Запасы;

Для каждого ТекСтрока Из ТаблицаИсточник Цикл	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.Партия)
		ИЛИ (ЗначениеЗаполнено(ТекСтрока.Партия)
		   И ТекСтрока.Партия.Статус &lt;&gt; Перечисления.СтатусыПартий.ДавальческоеСырье) Тогда		
		НоваяСтрока = ТаблицаТовары.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, ТекСтрока);	
	КонецЕсли;	
КонецЦикла;

КоллекцияОбъектов = ТаблицаТовары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>11</Код>
								<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Партия --&gt; ТоварНаКомиссии</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Партия" Вид="Реквизит" Тип="СправочникСсылка.ПартииНоменклатуры"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ТоварНаКомиссии</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Партия)
   И ОбъектКоллекции.Партия.Статус = Перечисления.СтатусыПартий.ТоварыНаКомиссии Тогда
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование> --&gt; ПодразделениеЗатрат</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПодразделениеЗатрат" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
								<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.СтруктурнаяЕдиницаПолучатель;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>33</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеУслуги);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>17</Код>
							<Наименование>Запасы --&gt; МатериалыЗаказчика</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="МатериалыЗаказчика" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТаблицаТовары = Источник.Запасы.ВыгрузитьКолонки();
ТаблицаИсточник = Источник.Запасы;

Для каждого ТекСтрока Из ТаблицаИсточник Цикл	
	Если ЗначениеЗаполнено(ТекСтрока.Партия)
	   И ТекСтрока.Партия.Статус = Перечисления.СтатусыПартий.ДавальческоеСырье Тогда	
		НоваяСтрока = ТаблицаТовары.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, ТекСтрока);	
	КонецЕсли;	
КонецЦикла;

КоллекцияОбъектов = ТаблицаТовары;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>18</Код>
								<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>ЗаказПокупателя --&gt; Контрагент</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ЗаказПокупателя" Вид="Реквизит" Тип="ДокументСсылка.ЗаказПокупателя"/>
								<Приемник Имя="" Вид=""/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
								<ИмяПараметраДляПередачи>Контрагент</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Партия)
   И ЗначениеЗаполнено(ОбъектКоллекции.Партия.ВладелецПартии) Тогда
   Значение = ОбъектКоллекции.Партия.ВладелецПартии;
ИначеЕсли ЗначениеЗаполнено(Источник.ЗаказПокупателя) Тогда
   Значение = Источник.ЗаказПокупателя.Контрагент;
ИначеЕсли ЗначениеЗаполнено(ОбъектКоллекции.ЗаказПокупателя) Тогда
   Значение = ОбъектКоллекции.ЗаказПокупателя.Контрагент;
Иначе
   Значение = Неопределено;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>29</Код>
								<Наименование>Партия --&gt;</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Партия" Вид="Реквизит" Тип="СправочникСсылка.ПартииНоменклатуры"/>
								<Приемник Имя="" Вид=""/>
							</Свойство>
							<Свойство>
								<Код>34</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>35</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеУслуги);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ОтчетПроизводстваЗаСмену</Код>
					<Наименование>Документ: Сборка запасов</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ВложенныйЗапрос.Номенклатура,
	|	ВложенныйЗапрос.Характеристика,
	|	ВложенныйЗапрос.Организация
	|ПОМЕСТИТЬ Товары
	|ИЗ
	|	(ВЫБРАТЬ
	|		СборкаЗапасовПродукция.Номенклатура КАК Номенклатура,
	|		СборкаЗапасовПродукция.Характеристика КАК Характеристика,
	|		СборкаЗапасовПродукция.Ссылка.Организация КАК Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Продукция КАК СборкаЗапасовПродукция
	|	ГДЕ
	|		СборкаЗапасовПродукция.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовЗапасы.Номенклатура,
	|		СборкаЗапасовЗапасы.Характеристика,
	|		СборкаЗапасовЗапасы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Запасы КАК СборкаЗапасовЗапасы
	|	ГДЕ
	|		СборкаЗапасовЗапасы.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовОтходы.Номенклатура,
	|		СборкаЗапасовОтходы.Характеристика,
	|		СборкаЗапасовОтходы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Отходы КАК СборкаЗапасовОтходы
	|	ГДЕ
	|		СборкаЗапасовОтходы.Ссылка = &amp;Ссылка) КАК ВложенныйЗапрос
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Товары.Номенклатура,
	|	Товары.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Товары КАК Товары
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Товары.Номенклатура = Соответствие.Номенклатура
	|			И Товары.Характеристика = Соответствие.Характеристика
	|			И Товары.Организация = Соответствие.Организация"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    


Выполнить(Алгоритмы.ОбработатьЗаполнениеДокументаПослеЗагрузки);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.СборкаЗапасов</Источник>
					<Приемник>ДокументСсылка.ОтчетПроизводстваЗаСмену</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; ПодразделениеЗатрат</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="ПодразделениеЗатрат" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
							<ПередВыгрузкой>Отказ = Источник.СтруктурнаяЕдиница.ТипСтруктурнойЕдиницы &lt;&gt; Перечисления.ТипыСтруктурныхЕдиниц.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>38</Код>
							<Наименование>СтруктурнаяЕдиницаПродукции --&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаПродукции" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>
Значение = Источник.СтруктурнаяЕдиницаЗапасов;
СтруктурнаяЕдиница = Значение;
Выполнить(Алгоритмы.ОпределитьПКОДляСтруктурнойЕдиницы);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>54</Код>
							<Наименование>СтруктурнаяЕдиницаЗапасов --&gt; Склад</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаЗапасов" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>
СтруктурнаяЕдиница = Источник.СтруктурнаяЕдиницаЗапасов;
Выполнить(Алгоритмы.ОпределитьПКОДляСтруктурнойЕдиницы);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>51</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>7</Код>
							<Наименование>Продукция --&gt; Продукция</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Продукция" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Продукция" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
Запрос = Новый Запрос;
Запрос.УстановитьПараметр("Документ", Источник.Ссылка);
Запрос.УстановитьПараметр("Дата", Источник.Дата);
Запрос.УстановитьПараметр("РегВалюта", Параметры.НациональнаяВалюта);
Запрос.УстановитьПараметр("УпрВалюта", Параметры.ВалютаУчета);
Запрос.Текст = "ВЫБРАТЬ
				|	МАКСИМУМ(СборкаЗапасовПродукция.НомерСтроки) КАК НомерСтроки,
				|	СборкаЗапасовПродукция.Ссылка КАК Документ,
				|	СборкаЗапасовПродукция.Номенклатура,
				|	СборкаЗапасовПродукция.Характеристика,
				|	СборкаЗапасовПродукция.Номенклатура.КатегорияНоменклатуры КАК НоменклатурнаяГруппа,
				|	СборкаЗапасовПродукция.Спецификация,
				|	СУММА(СборкаЗапасовПродукция.Количество) КАК КоличествоМест,
				|	СУММА(ВЫБОР
				|			КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовПродукция.ЕдиницаИзмерения) = ТИП(Справочник.ЕдиницыИзмерения)
				|					И СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент &gt; 0
				|				ТОГДА СборкаЗапасовПродукция.Количество * СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
				|			ИНАЧЕ СборкаЗапасовПродукция.Количество
				|		КОНЕЦ) КАК Количество,
				|	ВЫБОР
				|		КОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения ССЫЛКА Справочник.ЕдиницыИзмерения
				|			ТОГДА СборкаЗапасовПродукция.Номенклатура.ЕдиницаИзмерения
				|		ИНАЧЕ СборкаЗапасовПродукция.ЕдиницаИзмерения
				|	КОНЕЦ КАК ЕдиницаИзмерения,
				|	ВЫБОР
				|		КОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения ССЫЛКА Справочник.ЕдиницыИзмерения
				|			ТОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
				|		ИНАЧЕ 1
				|	КОНЕЦ КАК Коэффициент
				|ПОМЕСТИТЬ ВременнаяТаблицаПродукция
				|ИЗ
				|	Документ.СборкаЗапасов.Продукция КАК СборкаЗапасовПродукция
				|ГДЕ
				|	СборкаЗапасовПродукция.Ссылка = &amp;Документ
				|
				|СГРУППИРОВАТЬ ПО
				|	СборкаЗапасовПродукция.Спецификация,
				|	СборкаЗапасовПродукция.Номенклатура,
				|	СборкаЗапасовПродукция.Характеристика,
				|	СборкаЗапасовПродукция.Ссылка,
				|	ВЫБОР
				|		КОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения ССЫЛКА Справочник.ЕдиницыИзмерения
				|			ТОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
				|		ИНАЧЕ 1
				|	КОНЕЦ,
				|	ВЫБОР
				|		КОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения ССЫЛКА Справочник.ЕдиницыИзмерения
				|			ТОГДА СборкаЗапасовПродукция.Номенклатура.ЕдиницаИзмерения
				|		ИНАЧЕ СборкаЗапасовПродукция.ЕдиницаИзмерения
				|	КОНЕЦ,
				|	СборкаЗапасовПродукция.Номенклатура.КатегорияНоменклатуры
				|;
				|
				|////////////////////////////////////////////////////////////////////////////////
				|ВЫБРАТЬ РАЗРЕШЕННЫЕ
				|	Запасы.Регистратор,
				|	Запасы.КоррНоменклатура КАК Продукция,
				|	Запасы.КоррХарактеристика КАК ПродукцияХарактеристика,
				|	Запасы.КоррСпецификация КАК СпецификацияПродукции,
				|	СУММА(Запасы.Сумма * ВЫБОР
				|			КОГДА &amp;РегВалюта &lt;&gt; &amp;УпрВалюта
				|				ТОГДА ВЫБОР
				|						КОГДА ЕСТЬNULL(КурсыВалютыЦены.Кратность, 0) &gt; 0
				|								И ЕСТЬNULL(КурсыВалютыЦены.Курс, 0) &gt; 0
				|								И ЕСТЬNULL(КурсыВалюты.Кратность, 0) &gt; 0
				|								И ЕСТЬNULL(КурсыВалюты.Курс, 0) &gt; 0
				|							ТОГДА КурсыВалютыЦены.Курс * КурсыВалюты.Кратность / (КурсыВалюты.Курс * КурсыВалютыЦены.Кратность)
				|						ИНАЧЕ 0
				|					КОНЕЦ
				|			ИНАЧЕ 1
				|		КОНЕЦ) КАК СуммаЗатрат
				|ПОМЕСТИТЬ ВременнаяТаблицаЗатраты
				|ИЗ
				|	РегистрНакопления.Запасы КАК Запасы
				|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;Дата, Валюта = &amp;УпрВалюта) КАК КурсыВалютыЦены
				|		ПО (ИСТИНА)
				|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;Дата, Валюта = &amp;РегВалюта) КАК КурсыВалюты
				|		ПО (ИСТИНА)
				|ГДЕ
				|	Запасы.Регистратор = &amp;Документ
				|	И Запасы.ЗатратыНаВыпуск
				|	И Запасы.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
				|
				|СГРУППИРОВАТЬ ПО
				|	Запасы.КоррНоменклатура,
				|	Запасы.КоррХарактеристика,
				|	Запасы.КоррСпецификация,
				|	Запасы.Регистратор
				|;
				|
				|////////////////////////////////////////////////////////////////////////////////
				|ВЫБРАТЬ
				|	ВременнаяТаблицаПродукция.Номенклатура КАК Номенклатура,
				|	ВременнаяТаблицаПродукция.Характеристика КАК Характеристика,
				|	ВременнаяТаблицаПродукция.Спецификация КАК Спецификация,
				|	ВременнаяТаблицаПродукция.КоличествоМест КАК КоличествоМест,
				|	ВременнаяТаблицаПродукция.Количество КАК Количество,
				|	ВЫБОР
				|		КОГДА ВременнаяТаблицаЗатраты.СуммаЗатрат ЕСТЬ NULL 
				|			ТОГДА 0
				|		ИНАЧЕ ВременнаяТаблицаЗатраты.СуммаЗатрат / ВременнаяТаблицаПродукция.Количество
				|	КОНЕЦ КАК ПлановаяСтоимость,
				|	ВременнаяТаблицаЗатраты.СуммаЗатрат КАК СуммаПлановая,
				|	ВременнаяТаблицаПродукция.НоменклатурнаяГруппа КАК НоменклатурнаяГруппа,
				|	ВременнаяТаблицаПродукция.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
				|	ВременнаяТаблицаПродукция.Коэффициент КАК Коэффициент
				|ИЗ
				|	ВременнаяТаблицаПродукция КАК ВременнаяТаблицаПродукция
				|		ЛЕВОЕ СОЕДИНЕНИЕ ВременнаяТаблицаЗатраты КАК ВременнаяТаблицаЗатраты
				|		ПО ВременнаяТаблицаПродукция.Документ = ВременнаяТаблицаЗатраты.Регистратор
				|			И ВременнаяТаблицаПродукция.Номенклатура = ВременнаяТаблицаЗатраты.Продукция
				|			И ВременнаяТаблицаПродукция.Характеристика = ВременнаяТаблицаЗатраты.ПродукцияХарактеристика
				|			И ВременнаяТаблицаПродукция.Спецификация = ВременнаяТаблицаЗатраты.СпецификацияПродукции
				|
				|УПОРЯДОЧИТЬ ПО
				|	ВременнаяТаблицаПродукция.НомерСтроки";

Если Источник.ВидОперации = Перечисления.ВидыОперацийСборкаЗапасов.Разборка Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "Документ.СборкаЗапасов.Продукция", "Документ.СборкаЗапасов.Запасы");
КонецЕсли;

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Спецификация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Спецификация" Вид="Реквизит" Тип="СправочникСсылка.СпецификацииНоменклатуры"/>
								<КодПравилаКонвертации>СпецификацииНоменклатуры                          </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование> --&gt; Коэффициент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>52</Код>
								<Наименование> --&gt; ПлановаяСтоимость</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПлановаяСтоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>53</Код>
								<Наименование> --&gt; СуммаПлановая</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлановая" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>55</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>56</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>40</Код>
							<Наименование>Запасы --&gt; Материалы</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Материалы" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
Выполнить(Алгоритмы.СформироватьТаблицуРаспределенияМатериалов);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>41</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>42</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>43</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>45</Код>
								<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>46</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>57</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>58</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>12</Код>
							<Наименование>Отходы --&gt; ВозвратныеОтходы</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Отходы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ВозвратныеОтходы" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>14</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>37</Код>
								<Наименование>Партия --&gt; ТоварВПереработке</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Партия" Вид="Реквизит" Тип="СправочникСсылка.ПартииНоменклатуры"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ТоварВПереработке</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Партия)
   И ОбъектКоллекции.Партия.Статус = Перечисления.СтатусыПартий.ДавальческоеСырье Тогда
	Значение = Истина;
Иначе
	Значение = Ложь;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>59</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если ИсходящиеДанные.Свойство("Таблица") 
И ИсходящиеДанные.Таблица.Количество() Тогда


Отбор = Новый Структура("Номенклатура, Характеристика", ОбъектКоллекции.Номенклатура, ОбъектКоллекции.Характеристика);

НайденныеСтроки = ИсходящиеДанные.Таблица.НайтиСтроки(Отбор);

Если НайденныеСтроки.Количество() Тогда

	Значение  =  НайденныеСтроки[0].Код;
	
	Если ПустаяСтрока(Значение) Тогда
		Значение = "нет значения";
	КонецЕсли;

КонецЕсли; 

КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>60</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Если ИсходящиеДанные.Свойство("Таблица") 
И ИсходящиеДанные.Таблица.Количество() Тогда


Отбор = Новый Структура("Номенклатура, Характеристика", ОбъектКоллекции.Номенклатура, ОбъектКоллекции.Характеристика);

НайденныеСтроки = ИсходящиеДанные.Таблица.НайтиСтроки(Отбор);

Если НайденныеСтроки.Количество() Тогда

	Значение  =  НайденныеСтроки[0].Код;
	
	Если ПустаяСтрока(Значение) Тогда
		Значение = "нет значения";
	КонецЕсли;

КонецЕсли; 

КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеПродукции</Код>
					<Наименование>Документ: Производство</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ВложенныйЗапрос.Номенклатура,
	|	ВложенныйЗапрос.Характеристика,
	|	ВложенныйЗапрос.Организация
	|ПОМЕСТИТЬ Товары
	|ИЗ
	|	(ВЫБРАТЬ
	|		СборкаЗапасовЗапасы.Номенклатура,
	|		СборкаЗапасовЗапасы.Характеристика,
	|		СборкаЗапасовЗапасы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Запасы КАК СборкаЗапасовЗапасы
	|	ГДЕ
	|		СборкаЗапасовЗапасы.Ссылка = &amp;Ссылка) КАК ВложенныйЗапрос
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Товары.Номенклатура,
	|	Товары.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Товары КАК Товары
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Товары.Номенклатура = Соответствие.Номенклатура
	|			И Товары.Характеристика = Соответствие.Характеристика
	|			И Товары.Организация = Соответствие.Организация"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

Объект.СкладПолучатель = Справочники.Склады.НайтиПоНаименованию("производство");

Если Объект.ЭтоНовый()
	И Объект.Товары.Количество() = 0 Тогда
	
	Отказ = Истина;
	
Иначе
	
	Объект.НДСвСтоимостиТоваров = Перечисления.ДействиеНДСВСтоимостиТоваров.НеИзменять;
	Документы.ПеремещениеТоваров.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");
	
КонецЕсли;</ПослеЗагрузки>
					<Источник>ДокументСсылка.СборкаЗапасов</Источник>
					<Приемник>ДокументСсылка.ПеремещениеТоваров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>ДопПрефикс = "ПП";
Значение = Лев(Значение, 5) + ДопПрефикс + Сред(Значение, 8);</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>СтруктурнаяЕдиницаЗапасов --&gt; СкладОтправитель</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаЗапасов" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="СкладОтправитель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>
СтруктурнаяЕдиница = Источник.СтруктурнаяЕдиницаЗапасов;
Выполнить(Алгоритмы.ОпределитьПКОДляСтруктурнойЕдиницы);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>СтруктурнаяЕдиницаПродукции --&gt; СкладПолучатель</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаПродукции" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="СкладПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>
СтруктурнаяЕдиница = Источник.СтруктурнаяЕдиницаПродукции;
Выполнить(Алгоритмы.ОпределитьПКОДляСтруктурнойЕдиницы);</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
Запрос = Новый Запрос;
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);

Запрос.Текст = "ВЫБРАТЬ
				|	СборкаЗапасовПродукция.Номенклатура КАК Номенклатура,
				|	СборкаЗапасовПродукция.Характеристика КАК Характеристика,
				|	СборкаЗапасовПродукция.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
				|	СУММА(СборкаЗапасовПродукция.Количество) КАК КоличествоМест,
				|	ВЫБОР
				|		КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовПродукция.ЕдиницаИзмерения) = ТИП(Справочник.ЕдиницыИзмерения)
				|			ТОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
				|		ИНАЧЕ 1
				|	КОНЕЦ КАК Коэффициент,
				|	СУММА(ВЫБОР
				|			КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовПродукция.ЕдиницаИзмерения) = ТИП(Справочник.ЕдиницыИзмерения)
				|					И СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент &gt; 0
				|				ТОГДА СборкаЗапасовПродукция.Количество * СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
				|			ИНАЧЕ СборкаЗапасовПродукция.Количество
				|		КОНЕЦ) КАК Количество,
				|	МАКСИМУМ(СборкаЗапасовПродукция.НомерСтроки) КАК НомерСтроки
				|ИЗ
				|	Документ.СборкаЗапасов.Запасы КАК СборкаЗапасовПродукция
				|ГДЕ
				|	СборкаЗапасовПродукция.Ссылка = &amp;Ссылка
				|
				|СГРУППИРОВАТЬ ПО
				|	СборкаЗапасовПродукция.Номенклатура,
				|	СборкаЗапасовПродукция.Характеристика,
				|	СборкаЗапасовПродукция.ЕдиницаИзмерения,
				|	ВЫБОР
				|		КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовПродукция.ЕдиницаИзмерения) = ТИП(Справочник.ЕдиницыИзмерения)
				|			ТОГДА СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
				|		ИНАЧЕ 1
				|	КОНЕЦ
				|
				|УПОРЯДОЧИТЬ ПО
				|	НомерСтроки";

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеПродукцииУдал</Код>
					<Наименование>Документ: Производство</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ВложенныйЗапрос.Номенклатура,
	|	ВложенныйЗапрос.Характеристика,
	|	ВложенныйЗапрос.Организация
	|ПОМЕСТИТЬ Товары
	|ИЗ
	|	(ВЫБРАТЬ
	|		СборкаЗапасовПродукция.Номенклатура КАК Номенклатура,
	|		СборкаЗапасовПродукция.Характеристика КАК Характеристика,
	|		СборкаЗапасовПродукция.Ссылка.Организация КАК Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Продукция КАК СборкаЗапасовПродукция
	|	ГДЕ
	|		СборкаЗапасовПродукция.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовЗапасы.Номенклатура,
	|		СборкаЗапасовЗапасы.Характеристика,
	|		СборкаЗапасовЗапасы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Запасы КАК СборкаЗапасовЗапасы
	|	ГДЕ
	|		СборкаЗапасовЗапасы.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовОтходы.Номенклатура,
	|		СборкаЗапасовОтходы.Характеристика,
	|		СборкаЗапасовОтходы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Отходы КАК СборкаЗапасовОтходы
	|	ГДЕ
	|		СборкаЗапасовОтходы.Ссылка = &amp;Ссылка) КАК ВложенныйЗапрос
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Товары.Номенклатура,
	|	Товары.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Товары КАК Товары
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Товары.Номенклатура = Соответствие.Номенклатура
	|			И Товары.Характеристика = Соответствие.Характеристика
	|			И Товары.Организация = Соответствие.Организация"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    


Если Объект.ЭтоНовый() Тогда
	Отказ = Истина;
КонецЕсли;</ПослеЗагрузки>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Источник>ДокументСсылка.СборкаЗапасов</Источник>
					<Приемник>ДокументСсылка.ПеремещениеТоваров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>ДопПрефикс = "ПП";
Значение = Лев(Значение, 5) + ДопПрефикс + Сред(Значение, 8);</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеОтходов</Код>
					<Наименование>Документ: Производство</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ВложенныйЗапрос.Номенклатура,
	|	ВложенныйЗапрос.Характеристика,
	|	ВложенныйЗапрос.Организация
	|ПОМЕСТИТЬ Товары
	|ИЗ
	|	(ВЫБРАТЬ
	|		СборкаЗапасовПродукция.Номенклатура КАК Номенклатура,
	|		СборкаЗапасовПродукция.Характеристика КАК Характеристика,
	|		СборкаЗапасовПродукция.Ссылка.Организация КАК Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Продукция КАК СборкаЗапасовПродукция
	|	ГДЕ
	|		СборкаЗапасовПродукция.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовЗапасы.Номенклатура,
	|		СборкаЗапасовЗапасы.Характеристика,
	|		СборкаЗапасовЗапасы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Запасы КАК СборкаЗапасовЗапасы
	|	ГДЕ
	|		СборкаЗапасовЗапасы.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовОтходы.Номенклатура,
	|		СборкаЗапасовОтходы.Характеристика,
	|		СборкаЗапасовОтходы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Отходы КАК СборкаЗапасовОтходы
	|	ГДЕ
	|		СборкаЗапасовОтходы.Ссылка = &amp;Ссылка) КАК ВложенныйЗапрос
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Товары.Номенклатура,
	|	Товары.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Товары КАК Товары
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Товары.Номенклатура = Соответствие.Номенклатура
	|			И Товары.Характеристика = Соответствие.Характеристика
	|			И Товары.Организация = Соответствие.Организация"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

Если Объект.ЭтоНовый()
	И Объект.Товары.Количество() = 0 Тогда
	
	Отказ = Истина;
	
Иначе
	
	Объект.НДСвСтоимостиТоваров = Перечисления.ДействиеНДСВСтоимостиТоваров.НеИзменять;
	Документы.ПеремещениеТоваров.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");
	
КонецЕсли;</ПослеЗагрузки>
					<Источник>ДокументСсылка.СборкаЗапасов</Источник>
					<Приемник>ДокументСсылка.ПеремещениеТоваров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>ДопПрефикс = "ПО";
Значение = Лев(Значение, 5) + ДопПрефикс + Сред(Значение, 8);</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>СтруктурнаяЕдиницаЗапасов --&gt; СкладОтправитель</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаЗапасов" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="СкладОтправитель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>
СтруктурнаяЕдиница = Источник.СтруктурнаяЕдиницаЗапасов;
Выполнить(Алгоритмы.ОпределитьПКОДляСтруктурнойЕдиницы);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>СтруктурнаяЕдиницаОтходов --&gt; СкладПолучатель</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаОтходов" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="СкладПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>
СтруктурнаяЕдиница = Источник.СтруктурнаяЕдиницаОтходов;
Выполнить(Алгоритмы.ОпределитьПКОДляСтруктурнойЕдиницы);</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
Запрос = Новый Запрос;
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);

Запрос.Текст = "ВЫБРАТЬ
               |	СборкаЗапасовОтходы.Номенклатура КАК Номенклатура,
               |	СборкаЗапасовОтходы.Характеристика КАК Характеристика,
               |	СборкаЗапасовОтходы.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
               |	СУММА(СборкаЗапасовОтходы.Количество) КАК КоличествоМест,
               |	ВЫБОР
               |		КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовОтходы.ЕдиницаИзмерения) = ТИП(Справочник.ЕдиницыИзмерения)
               |			ТОГДА СборкаЗапасовОтходы.ЕдиницаИзмерения.Коэффициент
               |		ИНАЧЕ 1
               |	КОНЕЦ КАК Коэффициент,
               |	СУММА(ВЫБОР
               |			КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовОтходы.ЕдиницаИзмерения) = ТИП(Справочник.ЕдиницыИзмерения)
               |					И СборкаЗапасовОтходы.ЕдиницаИзмерения.Коэффициент &gt; 0
               |				ТОГДА СборкаЗапасовОтходы.Количество * СборкаЗапасовОтходы.ЕдиницаИзмерения.Коэффициент
               |			ИНАЧЕ СборкаЗапасовОтходы.Количество
               |		КОНЕЦ) КАК Количество,
               |	МАКСИМУМ(СборкаЗапасовОтходы.НомерСтроки) КАК НомерСтроки
               |ИЗ
               |	Документ.СборкаЗапасов.Отходы КАК СборкаЗапасовОтходы
               |ГДЕ
               |	СборкаЗапасовОтходы.Ссылка = &amp;Ссылка
               |
               |СГРУППИРОВАТЬ ПО
               |	СборкаЗапасовОтходы.Номенклатура,
               |	СборкаЗапасовОтходы.Характеристика,
               |	СборкаЗапасовОтходы.ЕдиницаИзмерения,
               |	ВЫБОР
               |		КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовОтходы.ЕдиницаИзмерения) = ТИП(Справочник.ЕдиницыИзмерения)
               |			ТОГДА СборкаЗапасовОтходы.ЕдиницаИзмерения.Коэффициент
               |		ИНАЧЕ 1
               |	КОНЕЦ
               |
               |УПОРЯДОЧИТЬ ПО
               |	НомерСтроки";
			   
КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>9</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; КоличествоМест</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеОтходовУдал</Код>
					<Наименование>Документ: Производство</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ВложенныйЗапрос.Номенклатура,
	|	ВложенныйЗапрос.Характеристика,
	|	ВложенныйЗапрос.Организация
	|ПОМЕСТИТЬ Товары
	|ИЗ
	|	(ВЫБРАТЬ
	|		СборкаЗапасовПродукция.Номенклатура КАК Номенклатура,
	|		СборкаЗапасовПродукция.Характеристика КАК Характеристика,
	|		СборкаЗапасовПродукция.Ссылка.Организация КАК Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Продукция КАК СборкаЗапасовПродукция
	|	ГДЕ
	|		СборкаЗапасовПродукция.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовЗапасы.Номенклатура,
	|		СборкаЗапасовЗапасы.Характеристика,
	|		СборкаЗапасовЗапасы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Запасы КАК СборкаЗапасовЗапасы
	|	ГДЕ
	|		СборкаЗапасовЗапасы.Ссылка = &amp;Ссылка
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		СборкаЗапасовОтходы.Номенклатура,
	|		СборкаЗапасовОтходы.Характеристика,
	|		СборкаЗапасовОтходы.Ссылка.Организация
	|	ИЗ
	|		Документ.СборкаЗапасов.Отходы КАК СборкаЗапасовОтходы
	|	ГДЕ
	|		СборкаЗапасовОтходы.Ссылка = &amp;Ссылка) КАК ВложенныйЗапрос
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Товары.Номенклатура,
	|	Товары.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Товары КАК Товары
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Товары.Номенклатура = Соответствие.Номенклатура
	|			И Товары.Характеристика = Соответствие.Характеристика
	|			И Товары.Организация = Соответствие.Организация"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

Если Объект.ЭтоНовый() Тогда
	Отказ = Истина;
КонецЕсли;</ПослеЗагрузки>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Источник>ДокументСсылка.СборкаЗапасов</Источник>
					<Приемник>ДокументСсылка.ПеремещениеТоваров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>ДопПрефикс = "ПО";
Значение = Лев(Значение, 5) + ДопПрефикс + Сред(Значение, 8);</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПередачаМатериаловВЭксплуатацию</Код>
					<Наименование>Документ: Перемещение запасов</Наименование>
					<Порядок>350</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	Запасы.Номенклатура,
	|	Запасы.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Документ.ПеремещениеЗапасов.Запасы КАК Запасы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Запасы.Номенклатура = Соответствие.Номенклатура
	|			И Запасы.Характеристика = Соответствие.Характеристика
	|			И Запасы.Ссылка.Организация = Соответствие.Организация
	|ГДЕ
	|	Запасы.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    


// Заполним необходимые реквизиты в табличной части Спецодежда
Для каждого ТекСтрока Из Объект.Спецодежда Цикл
	
	Запрос = Новый Запрос();
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	НазначенияИспользования.Ссылка КАК НазначениеИспользования
	|ИЗ
	|	Справочник.НазначенияИспользования КАК НазначенияИспользования
	|ГДЕ
	|	НазначенияИспользования.Владелец = &amp;Владелец
	|	И НазначенияИспользования.СпособОтраженияРасходов = &amp;СпособОтраженияРасходов";
	Запрос.УстановитьПараметр("Владелец", ТекСтрока.Номенклатура);
	Запрос.УстановитьПараметр("СпособОтраженияРасходов", Параметры.УзелОбменаЗагрузкаДанных.СпособОтраженияРасходов);
	
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		
		ТекСтрока.НазначениеИспользования = Выборка.НазначениеИспользования;
		
	КонецЕсли;
	
	СчетаУчета 				= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	ТекСтрока.СчетУчета 	= СчетаУчета.СчетУчета;
	
	//Спец. одежда всегда 10.11.1. Смотреть на "СчетаУчета.СчетПередачи" не нужно
	ТекСтрока.СчетПередачи	= ПланыСчетов.Хозрасчетный.СпецодеждаВЭксплуатации;
	
	Если ЗначениеЗаполнено(ТекСтрока.НазначениеИспользования) И ТекСтрока.Количество = 0 Тогда
		
		ТекСтрока.Количество = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.НазначениеИспользования, "Количество");
		
	КонецЕсли;
	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.ОтражениеВУСН) Тогда 
		
		УСН                 		= УчетнаяПолитика.ПрименяетсяУСНДоходыМинусРасходы(Объект.Организация, Объект.Дата);
		УСНДоходы           		= УчетнаяПолитика.ПрименяетсяУСНДоходы(Объект.Организация, Объект.Дата);
		ОтражатьВНалоговомУчетеУСН	= УСН И НЕ УСНДоходы;
		
		Если ОтражатьВНалоговомУчетеУСН Тогда
			
			ТекСтрока.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Принимаются;
			
		КонецЕсли;
		
	КонецЕсли;
	
КонецЦикла;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПеремещениеЗапасов</Источник>
					<Приемник>ДокументСсылка.ПередачаМатериаловВЭксплуатацию</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>СтруктурнаяЕдиницаПолучатель --&gt; Местонахождение</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаПолучатель" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Местонахождение" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>7</Код>
							<Наименование>Запасы --&gt; Спецодежда</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Спецодежда" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>8</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; ФизЛицо</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<ПередВыгрузкой>Значение = Источник.СтруктурнаяЕдиницаПолучатель.МОЛ;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>
Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СписаниеМатериаловИзЭксплуатации</Код>
					<Наименование>Документ: Списание запасов</Наименование>
					<Порядок>400</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	Запасы.Номенклатура,
	|	Запасы.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Документ.СписаниеЗапасов.Запасы КАК Запасы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Запасы.Номенклатура = Соответствие.Номенклатура
	|			И Запасы.Характеристика = Соответствие.Характеристика
	|			И Запасы.Ссылка.Организация = Соответствие.Организация
	|ГДЕ
	|	Запасы.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    

Объект.СпособСписанияРасходов = Перечисления.СпособыСписанияРасходов.ПоНазначениюИспользования;

Выполнить(Алгоритмы.ЗаполнитьПартиюПередачиМатериаловВЭксплуатацию);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.СписаниеЗапасов</Источник>
					<Приемник>ДокументСсылка.СписаниеМатериаловИзЭксплуатации</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>Запасы --&gt; Спецодежда</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Спецодежда" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>9</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; ФизЛицо</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<ПередВыгрузкой>Значение = Источник.СтруктурнаяЕдиница.МОЛ;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратМатериаловИзЭксплуатации</Код>
					<Наименование>Документ: Перемещение запасов</Наименование>
					<Порядок>450</Порядок>
					<ПередВыгрузкой>Если Источник.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ=Истина;
КонецЕсли;

ИсходящиеДанные = Новый Структура;

Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	Запасы.Номенклатура,
	|	Запасы.Характеристика,
	|	Соответствие.Код,
	|	Соответствие.Наименование
	|ИЗ
	|	Документ.ПеремещениеЗапасов.Запасы КАК Запасы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СоответствиеНоменклатурыБухгалтерияПредприятия КАК Соответствие
	|		ПО Запасы.Номенклатура = Соответствие.Номенклатура
	|			И Запасы.Характеристика = Соответствие.Характеристика
	|			И Запасы.Ссылка.Организация = Соответствие.Организация
	|ГДЕ
	|	Запасы.Ссылка = &amp;Ссылка"
);

Запрос.УстановитьПараметр("Ссылка", Источник);

Таблица = Запрос.Выполнить().Выгрузить();
ИсходящиеДанные.Вставить("Таблица", Таблица);</ПередВыгрузкой>
					<ПослеЗагрузки>Выполнить(Алгоритмы.ЗаполнениеТабличнойЧастиДокументаНоменклатурой);    
	
Выполнить(Алгоритмы.ЗаполнитьПартиюПередачиМатериаловВЭксплуатацию);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.ПеремещениеЗапасов</Источник>
					<Приемник>ДокументСсылка.ВозвратМатериаловИзЭксплуатации</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>СтруктурнаяЕдиницаПолучатель --&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтруктурнаяЕдиницаПолучатель" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>Запасы --&gt; Спецодежда</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Спецодежда" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; ФизЛицо</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<ПередВыгрузкой>Значение = Источник.СтруктурнаяЕдиница.МОЛ;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Код_БП</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Код_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКодТовары);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Наименование_БП</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>Наименование_БП</ИмяПараметраДляПередачи>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьНаименованиеТовары);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РаспределениеМатериальныхЗатрат</Код>
					<Наименование>Документ: Распределение затрат</Наименование>
					<Порядок>500</Порядок>
					<ПослеЗагрузки>	
	Если Объект.ЭтоНовый()
		И Объект.Материалы.Количество() = 0 Тогда
		Отказ = Истина;
	КонецЕсли;
	
	Выполнить(Алгоритмы.ОбработатьЗаполнениеДокументаПослеЗагрузки);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>ДокументСсылка.РаспределениеЗатрат</Источник>
					<Приемник>ДокументСсылка.ТребованиеНакладная</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>ДопПрефикс = "РМ";
Значение = Лев(Значение, 5) + ДопПрефикс + Сред(Значение, 8);</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>СтруктурнаяЕдиница --&gt; Склад</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтруктурнаяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.СтруктурныеЕдиницы"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>
СтруктурнаяЕдиница = Источник.СтруктурнаяЕдиница;
Выполнить(Алгоритмы.ОпределитьПКОДляСтруктурнойЕдиницы);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СчетаУчетаЗатратВТаблице</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетаУчетаЗатратВТаблице" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>Запасы --&gt; Материалы</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Запасы" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Материалы" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
				|	РаспределениеЗатратЗапасы.Номенклатура КАК Номенклатура,
				|	СУММА(РаспределениеЗатратРаспределениеЗапасов.Количество) КАК Количество,
				|	СУММА(РаспределениеЗатратРаспределениеЗапасов.Количество) КАК КоличествоМест,
				|	РаспределениеЗатратЗапасы.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
				|	МАКСИМУМ(ЕСТЬNULL(РаспределениеЗатратЗапасы.ЕдиницаИзмерения.Коэффициент, 1)) КАК Коэффициент,
				|	РаспределениеЗатратРаспределениеЗапасов.Номенклатура.КатегорияНоменклатуры КАК НоменклатурнаяГруппа,
				|	МАКСИМУМ(РаспределениеЗатратРаспределениеЗапасов.НомерСтроки) КАК НомерСтроки
				|ИЗ
				|	Документ.РаспределениеЗатрат.Запасы КАК РаспределениеЗатратЗапасы
				|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.РаспределениеЗатрат.РаспределениеЗапасов КАК РаспределениеЗатратРаспределениеЗапасов
				|		ПО РаспределениеЗатратЗапасы.КлючСвязи = РаспределениеЗатратРаспределениеЗапасов.КлючСвязи
				|			И РаспределениеЗатратЗапасы.Ссылка = РаспределениеЗатратРаспределениеЗапасов.Ссылка
				|ГДЕ
				|	РаспределениеЗатратЗапасы.Ссылка = &amp;Ссылка
				|	И РаспределениеЗатратРаспределениеЗапасов.Ссылка = &amp;Ссылка
				|
				|СГРУППИРОВАТЬ ПО
				|	РаспределениеЗатратЗапасы.Номенклатура,
				|	РаспределениеЗатратЗапасы.ЕдиницаИзмерения,
				|	РаспределениеЗатратРаспределениеЗапасов.Номенклатура.КатегорияНоменклатуры
				|
				|УПОРЯДОЧИТЬ ПО
				|	НомерСтроки";

Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>9</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоличествоВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Выполнить(Алгоритмы.ЗаполнитьКоэффициентВТабличнойЧасти);</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>150</Порядок>
			<Группа Отключить="false">
				<Код>МаркетингИПродажи</Код>
				<Наименование>МаркетингИПродажи</Наименование>
				<Порядок>1450</Порядок>
				<Правило Отключить="false">
					<Код>РасходнаяНакладная</Код>
					<Наименование>Документ "Расходная накладная"</Наименование>
					<Порядок>250</Порядок>
					<Описание>Для документов с видом операции "Продажа покупателю" и "Передача на комиссию" используется ПКО "РеализацияТоваровУслуг".
Для документов с видом операции "Передача в переработку" используется ПКО "ПередачаТоваров".
Для документов с видом операции "Возврат комитенту", "Возврат из переработки", "Возврат поставщику" используется ПКО "ВозвратТоваровПоставщику".</Описание>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.РасходнаяНакладная</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Объект.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПродажаПокупателю
 ИЛИ Объект.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПередачаНаКомиссию Тогда
	ИмяПКО = "РеализацияТоваровУслуг";
ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПередачаВПереработку Тогда
	Отказ = Истина;
ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратКомитенту
	  ИЛИ Объект.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратИзПереработки
	  ИЛИ Объект.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратПоставщику Тогда
	ИмяПКО = "ВозвратТоваровПоставщику";
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>СчетНаОплату</Код>
					<Наименование>Документ "Счет на оплату"</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>СчетНаОплатуПокупателю                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.СчетНаОплату</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>СнабжениеИЗакупки</Код>
				<Наименование>СнабжениеИЗакупки</Наименование>
				<Порядок>1500</Порядок>
				<Правило Отключить="false">
					<Код>ПриходнаяНакладная</Код>
					<Наименование>Документ "Приходная накладная"</Наименование>
					<Порядок>300</Порядок>
					<Описание>Для документов с видом операции "Возврат от покупателя", "Возврат от комиссионера" используется ПКО "ВозвратТоваровОтПокупателя".
Для документов с видом операции "Прием на комиссию", "Прием в переработку", "Поступление от поставщика" используется ПКО "ПоступлениеТоваровУслуг".</Описание>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Объект.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ВозвратОтПокупателя
	ИЛИ Объект.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ВозвратОтКомиссионера Тогда

	ИмяПКО = "ВозвратТоваровОтПокупателя";
	
ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемНаКомиссию
	ИЛИ Объект.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПоступлениеОтПоставщика 
	ИЛИ Объект.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемВПереработку Тогда
	
	ИмяПКО = "ПоступлениеТоваровУслуг";
	
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>РаботыУслугиПроизводство</Код>
				<Наименование>РаботыУслугиПроизводство</Наименование>
				<Порядок>1600</Порядок>
				<Правило Отключить="false">
					<Код>ОтчетПроизводстваЗаСмену</Код>
					<Наименование>Документ "Сборка запасов"</Наименование>
					<Порядок>1900</Порядок>
					<КодПравилаКонвертации>ОтчетПроизводстваЗаСмену                          </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.СборкаЗапасов</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>
//Если Объект.СтруктурнаяЕдиницаПродукции &lt;&gt; Объект.СтруктурнаяЕдиницаЗапасов
Если Объект.Продукция.Количество() &gt; 0
	И Не Объект.ПометкаУдаления Тогда
	ВыгрузитьПоПравилу(Объект,,,, "ПеремещениеПродукции");
Иначе

	ВыгрузитьПоПравилу(Объект,,,, "ПеремещениеПродукцииУдал");
КонецЕсли;

Если Объект.СтруктурнаяЕдиницаОтходов &lt;&gt; Объект.СтруктурнаяЕдиницаЗапасов
	И Объект.Отходы.Количество() &gt; 0
	И Не Объект.ПометкаУдаления Тогда
	ВыгрузитьПоПравилу(Объект,,,, "ПеремещениеОтходов");
Иначе

	ВыгрузитьПоПравилу(Объект,,,, "ПеремещениеОтходовУдал");
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
			</Группа>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Группа Имя="Выгрузка">
			<Алгоритм Имя="ЗаполнитьЕдиницуИзмеренияВТабличнойЧасти" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ТипЗнч(ОбъектКоллекции.ЕдиницаИзмерения) = Тип("СправочникСсылка.ЕдиницыИзмерения") Тогда
	Значение = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ОбъектКоллекции.Номенклатура, "ЕдиницаИзмерения");	
Иначе
	Значение = ОбъектКоллекции.ЕдиницаИзмерения;
КонецЕсли;</Текст>
				<Параметры>Значение, ОбъектКоллекции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьКодТовары" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ИсходящиеДанные.Свойство("Таблица") 
И ИсходящиеДанные.Таблица.Количество() Тогда

	
Отбор = Новый Структура("Номенклатура, Характеристика", ОбъектКоллекции.Номенклатура, ОбъектКоллекции.Характеристика);

НайденныеСтроки = ИсходящиеДанные.Таблица.НайтиСтроки(Отбор);

Если НайденныеСтроки.Количество() Тогда

	Значение  =  НайденныеСтроки[0].Код;
	

КонецЕсли; 

КонецЕсли; 

Если НЕ ЗначениеЗаполнено(Значение) Тогда
		Значение = "нет значения";
КонецЕсли;</Текст>
				<Параметры>Значение, ИсходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьКодУслуги" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ИсходящиеДанные.Свойство("Таблица") 
И ИсходящиеДанные.Таблица.Количество() Тогда

Отбор = Новый Структура("Номенклатура, Характеристика", ОбъектКоллекции.Номенклатура, Справочники.ХарактеристикиНоменклатуры.ПустаяСсылка());

НайденныеСтроки = ИсходящиеДанные.Таблица.НайтиСтроки(Отбор);

Если НайденныеСтроки.Количество() Тогда

	Значение  =  НайденныеСтроки[0].Код;

КонецЕсли; 

КонецЕсли; 

Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение = "нет значения";
КонецЕсли;</Текст>
				<Параметры>Значение, ИсходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьКоличествоВТабличнойЧасти" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ТипЗнч(ОбъектКоллекции.ЕдиницаИзмерения) = Тип("СправочникСсылка.ЕдиницыИзмерения") Тогда
	Коэффициент = ОбъектКоллекции.ЕдиницаИзмерения.Коэффициент;	
	Если Коэффициент &gt; 0 Тогда
		Значение = ОбъектКоллекции.Количество * Коэффициент;
	КонецЕсли;
Иначе
	Значение = ОбъектКоллекции.Количество;
КонецЕсли;</Текст>
				<Параметры>Значение, ОбъектКоллекции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьКоэффициентВТабличнойЧасти" ИспользуетсяПриЗагрузке="false">
				<Текст>Значение = ?(ТипЗнч(ОбъектКоллекции.ЕдиницаИзмерения) = Тип("СправочникСсылка.ЕдиницыИзмерения"), ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ОбъектКоллекции.ЕдиницаИзмерения, "Коэффициент"), 1);</Текст>
				<Параметры>Значение, ОбъектКоллекции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНаименованиеТовары" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ИсходящиеДанные.Свойство("Таблица") 
И ИсходящиеДанные.Таблица.Количество() Тогда

Отбор = Новый Структура("Номенклатура, Характеристика", ОбъектКоллекции.Номенклатура, ОбъектКоллекции.Характеристика);

НайденныеСтроки = ИсходящиеДанные.Таблица.НайтиСтроки(Отбор);

Если НайденныеСтроки.Количество() Тогда

	Значение  =  НайденныеСтроки[0].Наименование;
КонецЕсли; 

КонецЕсли; 

Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Значение =  Строка(ОбъектКоллекции.Номенклатура) +" "+Строка(ОбъектКоллекции.Характеристика);
КонецЕсли;</Текст>
				<Параметры>Значение, ИсходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНаименованиеУслуги" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ИсходящиеДанные.Свойство("Таблица") 
И ИсходящиеДанные.Таблица.Количество() Тогда

Отбор = Новый Структура("Номенклатура, Характеристика", ОбъектКоллекции.Номенклатура, Справочники.ХарактеристикиНоменклатуры.ПустаяСсылка());

НайденныеСтроки = ИсходящиеДанные.Таблица.НайтиСтроки(Отбор);

Если НайденныеСтроки.Количество() Тогда

	Значение  =  НайденныеСтроки[0].Наименование;
	
КонецЕсли; 

КонецЕсли; 

Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение =  Строка(ОбъектКоллекции.Номенклатура);
КонецЕсли;</Текст>
				<Параметры>Значение, ИсходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНомераГТДСтраныПроисхождения" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ТипЗнч(КоллекцияОбъектов) = Тип("ТаблицаЗначений")
	И КоллекцияОбъектов.Количество() &gt; 0 Тогда
	
	ТаблицаНомеровГТД = Новый ТаблицаЗначений;
	ТаблицаНомеровГТД.Колонки.Добавить("Номенклатура");
	ТаблицаНомеровГТД.Колонки.Добавить("Характеристика");
	ТаблицаНомеровГТД.Колонки.Добавить("Партия");
	
	Если ТипЗнч(Источник) = Тип("ДокументОбъект.ПриходнаяНакладная") Тогда
		
		Запрос = Новый Запрос;
		Запрос.Текст =
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	СчетФактураПолученныйЗапасы.Номенклатура,
		|	СчетФактураПолученныйЗапасы.Характеристика,
		|	СчетФактураПолученныйЗапасы.Партия,
		|	СчетФактураПолученныйЗапасы.НомерГТД,
		|	СчетФактураПолученныйЗапасы.СтранаПроисхождения,
		|	СУММА(СчетФактураПолученныйЗапасы.Количество) КАК КоличествоВСФ
		|ИЗ
		|	Документ.СчетФактураПолученный.Запасы КАК СчетФактураПолученныйЗапасы
		|ГДЕ
		|	СчетФактураПолученныйЗапасы.Ссылка.ДокументОснование = &amp;ДокументОснование
		|
		|СГРУППИРОВАТЬ ПО
		|	СчетФактураПолученныйЗапасы.Характеристика,
		|	СчетФактураПолученныйЗапасы.Номенклатура,
		|	СчетФактураПолученныйЗапасы.СтранаПроисхождения,
		|	СчетФактураПолученныйЗапасы.НомерГТД,
		|	СчетФактураПолученныйЗапасы.Партия";
		
		Запрос.УстановитьПараметр("ДокументОснование", Источник.Ссылка);
		ТаблицаНомеровГТД = Запрос.Выполнить().Выгрузить();
		
	ИначеЕсли ТипЗнч(Источник) = Тип("ДокументОбъект.РасходнаяНакладная") Тогда
		
		Запрос = Новый Запрос;
		Запрос.Текст =
		"ВЫБРАТЬ
		|	СчетФактура.Ссылка
		|ПОМЕСТИТЬ СчетаФактуры
		|ИЗ
		|	Документ.СчетФактура КАК СчетФактура
		|ГДЕ
		|	СчетФактура.ДокументОснование = &amp;ДокументОснование
		|
		|ОБЪЕДИНИТЬ
		|
		|ВЫБРАТЬ
		|	СчетФактураДокументыОснования.Ссылка
		|ИЗ
		|	Документ.СчетФактура.ДокументыОснования КАК СчетФактураДокументыОснования
		|ГДЕ
		|	СчетФактураДокументыОснования.ДокументОснование = &amp;ДокументОснование
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	СчетФактураЗапасы.Номенклатура,
		|	СчетФактураЗапасы.Характеристика,
		|	СчетФактураЗапасы.Партия,
		|	СчетФактураЗапасы.НомерГТД,
		|	СчетФактураЗапасы.СтранаПроисхождения,
		|	СУММА(СчетФактураЗапасы.Количество) КАК КоличествоВСФ
		|ИЗ
		|	СчетаФактуры КАК СчетаФактуры
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.СчетФактура.Запасы КАК СчетФактураЗапасы
		|		ПО СчетаФактуры.Ссылка = СчетФактураЗапасы.Ссылка
		|
		|СГРУППИРОВАТЬ ПО
		|	СчетФактураЗапасы.Партия,
		|	СчетФактураЗапасы.Номенклатура,
		|	СчетФактураЗапасы.НомерГТД,
		|	СчетФактураЗапасы.Характеристика,
		|	СчетФактураЗапасы.СтранаПроисхождения";
		
		Запрос.УстановитьПараметр("ДокументОснование", Источник.Ссылка);
		ТаблицаНомеровГТД = Запрос.Выполнить().Выгрузить();
		
	КонецЕсли;
	
	// Распределение номеров ГТД
	ТаблицаЗапасы	= КоллекцияОбъектов.СкопироватьКолонки();
	
	СтруктураПоиска	= Новый Структура("Номенклатура, Характеристика, Партия");
	
	Для каждого СтрокаТаблицы Из КоллекцияОбъектов Цикл
		
		СуммаПоСтроке		= СтрокаТаблицы.Сумма;
		СуммаНДСПоСтроке	= СтрокаТаблицы.СуммаНДС;
		ВсегоПоСтроке		= СтрокаТаблицы.Всего;
		
		СтруктураПоиска.Номенклатура	= СтрокаТаблицы.Номенклатура;
		СтруктураПоиска.Характеристика	= СтрокаТаблицы.Характеристика;
		СтруктураПоиска.Партия			= СтрокаТаблицы.Партия;
		
		МассивСтрокГТД		= ТаблицаНомеровГТД.НайтиСтроки(СтруктураПоиска);
		
		КоличествоОстаток	= СтрокаТаблицы.Количество;
		Для каждого СтрокаМассива Из МассивСтрокГТД Цикл
			
			НоваяСтрока = ТаблицаЗапасы.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, СтрокаТаблицы);
			
			НоваяСтрока.НомерГТД			= СтрокаМассива.НомерГТД;
			НоваяСтрока.СтранаПроисхождения	= СтрокаМассива.СтранаПроисхождения;
			
			Если КоличествоОстаток &lt;= СтрокаМассива.КоличествоВСФ Тогда
				
				НоваяСтрока.Количество		= КоличествоОстаток;
				СтрокаМассива.КоличествоВСФ	= СтрокаМассива.КоличествоВСФ - КоличествоОстаток;
				КоличествоОстаток			= 0;
				
				Если СтрокаМассива.КоличествоВСФ = 0 Тогда
					ТаблицаНомеровГТД.Удалить(СтрокаМассива);
				КонецЕсли;
				
				НоваяСтрока.Сумма		= СуммаПоСтроке;
				НоваяСтрока.СуммаНДС	= СуммаНДСПоСтроке;
				НоваяСтрока.Всего		= ВсегоПоСтроке;
				
				Прервать;
				
			Иначе
				
				НоваяСтрока.Количество	= СтрокаМассива.КоличествоВСФ;
				КоличествоОстаток		= КоличествоОстаток - СтрокаМассива.КоличествоВСФ;
				ТаблицаНомеровГТД.Удалить(СтрокаМассива);
				
				НоваяСтрока.Сумма = НоваяСтрока.Количество * НоваяСтрока.Цена;
				
				Если КоллекцияОбъектов.Колонки.Найти("ПроцентСкидкиНаценки") &lt;&gt; Неопределено Тогда
					Если СтрокаТаблицы.ПроцентСкидкиНаценки = 100 Тогда
						НоваяСтрока.Сумма = 0;
					ИначеЕсли НЕ СтрокаТаблицы.ПроцентСкидкиНаценки = 0
						И НЕ НоваяСтрока.Количество = 0 Тогда
						
						НоваяСтрока.Сумма = НоваяСтрока.Сумма * (1 - СтрокаТаблицы.ПроцентСкидкиНаценки / 100);
					КонецЕсли;
				КонецЕсли;
				
				СтавкаНДС			 = ?(ЗначениеЗаполнено(НоваяСтрока.СтавкаНДС), НоваяСтрока.СтавкаНДС.Ставка, 0);
				НоваяСтрока.СуммаНДС = ?(Источник.СуммаВключаетНДС, 
					НоваяСтрока.Сумма - (НоваяСтрока.Сумма) / ((СтавкаНДС + 100) / 100),
					НоваяСтрока.Сумма * СтавкаНДС / 100);
				
				НоваяСтрока.Всего    = НоваяСтрока.Сумма + ?(Источник.СуммаВключаетНДС, 0, НоваяСтрока.СуммаНДС);
				
				СуммаПоСтроке		 = СуммаПоСтроке - НоваяСтрока.Сумма;
				СуммаНДСПоСтроке	 = СуммаНДСПоСтроке - НоваяСтрока.СуммаНДС;
				ВсегоПоСтроке		 = ВсегоПоСтроке - НоваяСтрока.Всего;
				
			КонецЕсли;
			
		КонецЦикла;
		
		Если КоличествоОстаток &gt; 0 Тогда
			
			НоваяСтрока				= ТаблицаЗапасы.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, СтрокаТаблицы);
			
			НоваяСтрока.Количество			= КоличествоОстаток;
			
			НоваяСтрока.Сумма				= СуммаПоСтроке;
			НоваяСтрока.СуммаНДС			= СуммаНДСПоСтроке;
			НоваяСтрока.Всего				= ВсегоПоСтроке;
			
		КонецЕсли;
		
	КонецЦикла;
	
	КоллекцияОбъектов = ТаблицаЗапасы;
	
КонецЕсли;</Текст>
				<Параметры>КоллекцияОбъектов, Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСтавкуНДСВознаграждения" ИспользуетсяПриЗагрузке="false">
				<Текст>Если Источник.СтавкаНДСВознаграждения.НеОблагается Тогда
	Выражение = "Перечисления.СтавкиНДС.БезНДС";	
ИначеЕсли Источник.СтавкаНДСВознаграждения.Ставка = 18
	 И НЕ Источник.СтавкаНДСВознаграждения.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС18";
ИначеЕсли Источник.СтавкаНДСВознаграждения.Ставка = 18
		И Источник.СтавкаНДСВознаграждения.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС18_118";
ИначеЕсли Источник.СтавкаНДСВознаграждения.Ставка = 10 
	 И НЕ Источник.СтавкаНДСВознаграждения.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС10";
ИначеЕсли Источник.СтавкаНДСВознаграждения.Ставка = 10 
		И Источник.СтавкаНДСВознаграждения.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС10_110";
ИначеЕсли Источник.СтавкаНДСВознаграждения.Ставка = 0 Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС0"; 
ИначеЕсли Источник.СтавкаНДСВознаграждения.Ставка = 20
	 И НЕ Источник.СтавкаНДСВознаграждения.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС20";
ИначеЕсли Источник.СтавкаНДСВознаграждения.Ставка = 20
		И Источник.СтавкаНДСВознаграждения.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС20_120";
Иначе
	Выражение = "Перечисления.СтавкиНДС.НДС18";
КонецЕсли;</Текст>
				<Параметры>Выражение, Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСтавкуНДСТабличнойЧасти" ИспользуетсяПриЗагрузке="false">
				<Текст>// Алгоритм предназначен для заполнения ставки НДС в типовой табличной части
// Вызывается в обработчике "перед выгрузкой" ПКС
Если ОбъектКоллекции.СтавкаНДС.НеОблагается Тогда
	Выражение = "Перечисления.СтавкиНДС.БезНДС";	
ИначеЕсли ОбъектКоллекции.СтавкаНДС.Ставка = 18
		И НЕ ОбъектКоллекции.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС18";
ИначеЕсли ОбъектКоллекции.СтавкаНДС.Ставка = 18
		И ОбъектКоллекции.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС18_118";
ИначеЕсли ОбъектКоллекции.СтавкаНДС.Ставка = 10 
	 И НЕ ОбъектКоллекции.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС10";
ИначеЕсли ОбъектКоллекции.СтавкаНДС.Ставка = 10 
		И ОбъектКоллекции.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС10_110";
ИначеЕсли ОбъектКоллекции.СтавкаНДС.Ставка = 0 Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС0"; 
ИначеЕсли ОбъектКоллекции.СтавкаНДС.Ставка = 20
	 И НЕ ОбъектКоллекции.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС20";
ИначеЕсли ОбъектКоллекции.СтавкаНДС.Ставка = 20
		И ОбъектКоллекции.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС20_120";
Иначе
	Выражение = "Перечисления.СтавкиНДС.НДС18";
КонецЕсли;</Текст>
				<Параметры>Выражение, ОбъектКоллекции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСтавкуНДСШапки" ИспользуетсяПриЗагрузке="false">
				<Текст>Если Источник.СтавкаНДС.НеОблагается Тогда
	Выражение = "Перечисления.СтавкиНДС.БезНДС";	
ИначеЕсли Источник.СтавкаНДС.Ставка = 18
	 И НЕ Источник.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС18";
ИначеЕсли Источник.СтавкаНДС.Ставка = 18
		И Источник.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС18_118";
ИначеЕсли Источник.СтавкаНДС.Ставка = 10 
	 И НЕ Источник.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС10";
ИначеЕсли Источник.СтавкаНДС.Ставка = 10 
		И Источник.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС10_110";
ИначеЕсли Источник.СтавкаНДС.Ставка = 0 Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС0"; 
ИначеЕсли Источник.СтавкаНДС.Ставка = 20
	 И НЕ Источник.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС20";
ИначеЕсли Источник.СтавкаНДС.Ставка = 20
		И Источник.СтавкаНДС.Расчетная Тогда
	Выражение = "Перечисления.СтавкиНДС.НДС20_120";
Иначе
	Выражение = "Перечисления.СтавкиНДС.НДС18";
КонецЕсли;</Текст>
				<Параметры>Выражение, Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьЦенуВТабличнойЧасти" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ТипЗнч(ОбъектКоллекции.ЕдиницаИзмерения) = Тип("СправочникСсылка.ЕдиницыИзмерения") Тогда
	Коэффициент = ОбъектКоллекции.ЕдиницаИзмерения.Коэффициент;	
	Если Коэффициент &gt; 0 Тогда
		Значение = ОбъектКоллекции.Цена / Коэффициент;
	КонецЕсли;
Иначе
	Значение = ОбъектКоллекции.Цена;
КонецЕсли;</Текст>
				<Параметры>Значение, ОбъектКоллекции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОпределитьБухгалтерскийСчетПоОперации" ИспользуетсяПриЗагрузке="false">
				<Текст>БухгалтерскийСчет = "";

Если ЗначениеЗаполнено(Операция)
	И ТипЗнч(Операция) = Тип("ПланСчетовСсылка.Управленческий") Тогда
	
	СвойстваСчета = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(Операция, "ТипСчета, Валютный");
	
	ДокументВВалюте = Ложь;
	Если СвойстваСчета.Валютный = Истина Тогда
		МетаданныеДокумента = Документ.Метаданные();
		Если МетаданныеДокумента.Реквизиты.Найти("ВалютаДокумента") &lt;&gt; Неопределено Тогда 
			Если Документ.ВалютаДокумента &lt;&gt; Константы.НациональнаяВалюта.Получить() Тогда
				ДокументВВалюте = Истина;
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
	
	ТипСчета = СвойстваСчета.ТипСчета;
	Если ТипСчета = Перечисления.ТипыСчетов.ПрочиеДоходы Тогда
		БухгалтерскийСчет = "91.01";
	ИначеЕсли ТипСчета = Перечисления.ТипыСчетов.ПрочиеРасходы Тогда
		БухгалтерскийСчет = "91.02";
	ИначеЕсли ТипСчета = Перечисления.ТипыСчетов.ДенежныеСредства Тогда
		Если Операция = ПланыСчетов.Управленческий.ФинансовыеВложения Тогда
			БухгалтерскийСчет = "58.03";
		ИначеЕсли ДокументВВалюте = Истина Тогда
			БухгалтерскийСчет = "57.21";
		Иначе
			БухгалтерскийСчет = "57.01";
		КонецЕсли;
	ИначеЕсли ТипСчета = Перечисления.ТипыСчетов.КредитыИЗаймы Тогда
		Если ДокументВВалюте = Истина Тогда
			БухгалтерскийСчет = "66.23";
		Иначе
			БухгалтерскийСчет = "66.03";
		КонецЕсли;
	ИначеЕсли ТипСчета = Перечисления.ТипыСчетов.ДолгосрочныеОбязательства Тогда
		Если ДокументВВалюте = Истина Тогда
			БухгалтерскийСчет = "67.23";
		Иначе
			БухгалтерскийСчет = "67.03";
		КонецЕсли;
	ИначеЕсли ТипСчета = Перечисления.ТипыСчетов.Дебиторы
		ИЛИ ТипСчета = Перечисления.ТипыСчетов.Кредиторы Тогда
		Если ДокументВВалюте = Истина Тогда
			БухгалтерскийСчет = "76.29";
		Иначе
			БухгалтерскийСчет = "76.09";
		КонецЕсли;	
	ИначеЕсли ТипСчета = Перечисления.ТипыСчетов.Капитал Тогда
		БухгалтерскийСчет = "80.09";
		
	ИначеЕсли ТипСчета = Перечисления.ТипыСчетов.Расходы Тогда
		Если Операция = ПланыСчетов.Управленческий.КоммерческиеРасходы Тогда
			Если ПолучитьФункциональнуюОпцию("ИспользоватьПодсистемуПроизводство") = Истина Тогда
				БухгалтерскийСчет = "44.02";
			Иначе
				БухгалтерскийСчет = "44.01";
			КонецЕсли;
		Иначе
			БухгалтерскийСчет = "26";
		КонецЕсли;
	КонецЕсли;
КонецЕсли;</Текст>
				<Параметры>БухгалтерскийСчет, Операция, Документ</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОпределитьИмяПКОДляДокументаОснования" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ТипЗнч(ОбъектКоллекции.ДокументОснование) = Тип("ДокументСсылка.ЗаказПокупателя") Тогда
	Если ОбъектКоллекции.ТипДокумента = "РеализацияТоваровИУслуг" Тогда
		ИмяПКО = "ЗаказНарядРеализацияТоваровУслуг";
	Иначе
		ИмяПКО = "ЗаказНарядАктОбОказанииПроизводственныхУслуг";
	КонецЕсли;
ИначеЕсли ТипЗнч(ОбъектКоллекции.ДокументОснование) = Тип("ДокументСсылка.РасходнаяНакладная") Тогда
	Если ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПродажаПокупателю
	 ИЛИ ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПередачаНаКомиссию Тогда
		ИмяПКО = "РеализацияТоваровУслуг";
	ИначеЕсли ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратКомитенту
		  ИЛИ ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратИзПереработки
		  ИЛИ ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратПоставщику Тогда
		ИмяПКО = "ВозвратТоваровПоставщику";
	КонецЕсли;
ИначеЕсли ТипЗнч(ОбъектКоллекции.ДокументОснование) = Тип("ДокументСсылка.ПриходнаяНакладная") Тогда
	Если ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ВозвратОтПокупателя
	 ИЛИ ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ВозвратОтКомиссионера Тогда
		ИмяПКО = "ВозвратТоваровОтПокупателя";
	ИначеЕсли ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемНаКомиссию
		  ИЛИ ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемВПереработку
		  ИЛИ ОбъектКоллекции.ДокументОснование.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПоступлениеОтПоставщика Тогда
		ИмяПКО = "ПоступлениеТоваровУслуг";
	КонецЕсли;
КонецЕсли;</Текст>
				<Параметры>ИмяПКО, ОбъектКоллекции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОпределитьИмяПКОДляДокументаРасчетов" ИспользуетсяПриЗагрузке="false">
				<Текст>Если ТипЗнч(ОбъектКоллекции.Документ) = Тип("ДокументСсылка.ЗаказПокупателя") 
	И ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийЗаказПокупателя.ЗаказНаряд Тогда
	
	Если ОбъектКоллекции.Документ.Работы.Количество() &gt; 0 Тогда
	Иначе
		ИмяПКО = "РеализацияТоваровУслуг";
	КонецЕсли;

ИначеЕсли ТипЗнч(ОбъектКоллекции.Документ) = Тип("ДокументСсылка.РасходнаяНакладная") Тогда
	Если ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПродажаПокупателю
	 ИЛИ ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ПередачаНаКомиссию Тогда
		ИмяПКО = "РеализацияТоваровУслуг";
	ИначеЕсли ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратКомитенту
		  ИЛИ ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратИзПереработки
		  ИЛИ ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийРасходнаяНакладная.ВозвратПоставщику Тогда
		ИмяПКО = "ВозвратТоваровПоставщику";
	КонецЕсли;
ИначеЕсли ТипЗнч(ОбъектКоллекции.Документ) = Тип("ДокументСсылка.ПриходнаяНакладная") Тогда
	Если ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ВозвратОтПокупателя
	 ИЛИ ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ВозвратОтКомиссионера Тогда
		ИмяПКО = "ВозвратТоваровОтПокупателя";
	ИначеЕсли ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемНаКомиссию
		  ИЛИ ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемВПереработку
		  ИЛИ ОбъектКоллекции.Документ.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПоступлениеОтПоставщика Тогда
		ИмяПКО = "ПоступлениеТоваровУслуг";
	КонецЕсли;
КонецЕсли;</Текст>
				<Параметры>ИмяПКО, ОбъектКоллекции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОпределитьПКОДляСтруктурнойЕдиницы" ИспользуетсяПриЗагрузке="false">
				<Текст>
Если СтруктурнаяЕдиница.ТипСтруктурнойЕдиницы &lt;&gt; Перечисления.ТипыСтруктурныхЕдиниц.Подразделение Тогда
	ИмяПКО = "Склады";
Иначе
	ИмяПКО = "ПроизводственныеСклады";
	ВыгрузитьПоПравилу(СтруктурнаяЕдиница,,,, ИмяПКО);
КонецЕсли;</Текст>
				<Параметры>СтруктурнаяЕдиница, ИмяПКО</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьСтруктуруДоговораВзаимозачет" ИспользуетсяПриЗагрузке="false">
				<Текст>
Договор = ?(ИмяТабличнойЧасти = "", Источник.Договор, ОбъектКоллекции.Договор);
Контрагент = ?(ИмяТабличнойЧасти = "Дебитор", Источник.КонтрагентИсточник, Источник.Контрагент); 

Если Контрагент.ВестиРасчетыПоДоговорам &lt;&gt; Истина Тогда
	
	ИмяПКО = "ДоговорыКонтрагентов";
	
	СписокВидовДоговора = Справочники.ДоговорыКонтрагентов.ПолучитьСписокВидовДоговораДляДокумента(Источник, Источник.ВидОперации);
		
	Если Договор.Организация &lt;&gt; Источник.Организация
		ИЛИ СписокВидовДоговора.НайтиПоЗначению(Договор.ВидДоговора) = Неопределено Тогда 
			
		СтруктураДоговора = Новый Структура;
		СтруктураДоговора.Вставить("Наименование");
		СтруктураДоговора.Вставить("Владелец");
		СтруктураДоговора.Вставить("Код");
		СтруктураДоговора.Вставить("Организация");
		СтруктураДоговора.Вставить("ПометкаУдаления");
		СтруктураДоговора.Вставить("РасчетыВУсловныхЕдиницах");
		СтруктураДоговора.Вставить("ВалютаРасчетов");
		СтруктураДоговора.Вставить("ЭтоГруппа");
		СтруктураДоговора.Вставить("ВидДоговора");
		СтруктураДоговора.Вставить("ВидЦен");
		СтруктураДоговора.Вставить("ДатаДоговора");
		СтруктураДоговора.Вставить("НомерДоговора");
			
		ЗаполнитьЗначенияСвойств(СтруктураДоговора, Договор);
			
		СтруктураДоговора.Код = "";
		СтруктураДоговора.Организация = Источник.Организация;
			
		Если СписокВидовДоговора.Количество() &gt; 0 Тогда
			СтруктураДоговора.ВидДоговора = СписокВидовДоговора[0].Значение;
		КонецЕсли;
			
		Значение = СтруктураДоговора;
			
	КонецЕсли;
	
Иначе
	
	Значение = Договор;
	ИмяПКО = "ДоговорыКонтрагентовПоискПоИдентификатору";

КонецЕсли;</Текст>
				<Параметры>Источник, ОбъектКоллекции, ИмяТабличнойЧасти, Значение, ИмяПКО</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьСтруктуруДоговораКонтрагента" ИспользуетсяПриЗагрузке="false">
				<Текст>
Если Источник.Контрагент.ВестиРасчетыПоДоговорам &lt;&gt; Истина Тогда
	
	ИмяПКО = "ДоговорыКонтрагентов";
	
	Если ТипЗнч(Источник) = Тип("ДокументОбъект.СчетФактура") 
		ИЛИ ТипЗнч(Источник) = Тип("ДокументОбъект.СчетФактураПолученный") Тогда
			
		Документ = Источник.ДокументОснование;
	Иначе
		Документ = Источник.Ссылка;
	КонецЕсли;
		
	Если ТипЗнч(Документ) = Тип("ДокументСсылка.АктВыполненныхРабот")
		ИЛИ ТипЗнч(Документ) = Тип("ДокументСсылка.АвансовыйОтчет")
		ИЛИ ТипЗнч(Документ) = Тип("ДокументСсылка.ДополнительныеРасходы")
		ИЛИ ТипЗнч(Документ) = Тип("ДокументСсылка.ОтчетКомиссионера") 
		ИЛИ ТипЗнч(Документ) = Тип("ДокументСсылка.ОтчетКомитенту")
		ИЛИ ТипЗнч(Документ) = Тип("ДокументСсылка.ОтчетОПереработке")
		ИЛИ ТипЗнч(Документ) = Тип("ДокументСсылка.ОтчетПереработчика")
		ИЛИ ТипЗнч(Документ) = Тип("ДокументСсылка.СчетНаОплату") Тогда
			
		СписокВидовДоговора = Справочники.ДоговорыКонтрагентов.ПолучитьСписокВидовДоговораДляДокумента(Документ);
	Иначе
		СписокВидовДоговора = Справочники.ДоговорыКонтрагентов.ПолучитьСписокВидовДоговораДляДокумента(Документ, Документ.ВидОперации);
	КонецЕсли;
		
	Договор = ?(ЗначениеЗаполнено(ОбъектКоллекции), ОбъектКоллекции.Договор, Источник.Договор);
		
	Если Договор.Организация &lt;&gt; Источник.Организация
		ИЛИ СписокВидовДоговора.НайтиПоЗначению(Договор.ВидДоговора) = Неопределено Тогда 
			
		СтруктураДоговора = Новый Структура;
		СтруктураДоговора.Вставить("Наименование");
		СтруктураДоговора.Вставить("Владелец");
		СтруктураДоговора.Вставить("Код");
		СтруктураДоговора.Вставить("Организация");
		СтруктураДоговора.Вставить("ПометкаУдаления");
		СтруктураДоговора.Вставить("РасчетыВУсловныхЕдиницах");
		СтруктураДоговора.Вставить("ВалютаРасчетов");
		СтруктураДоговора.Вставить("ЭтоГруппа");
		СтруктураДоговора.Вставить("ВидДоговора");
		СтруктураДоговора.Вставить("ВидЦен");
		СтруктураДоговора.Вставить("ДатаДоговора");
		СтруктураДоговора.Вставить("НомерДоговора");
			
		ЗаполнитьЗначенияСвойств(СтруктураДоговора, Договор);
			
		СтруктураДоговора.Код = "";
		СтруктураДоговора.Организация = Источник.Организация;
			
		Если СписокВидовДоговора.Количество() &gt; 0 Тогда
			СтруктураДоговора.ВидДоговора = СписокВидовДоговора[0].Значение;
		КонецЕсли;
			
		Если ТипЗнч(Источник) = Тип("ДокументОбъект.ДополнительныеРасходы") Тогда
				
			Для каждого СтрокаТабличнойЧасти Из Источник.Запасы Цикл
				Если ТипЗнч(СтрокаТабличнойЧасти.ДокументПоступления) = Тип("ДокументСсылка.ПриходнаяНакладная")
					И СтрокаТабличнойЧасти.ДокументПоступления.ВидОперации = Перечисления.ВидыОперацийПриходнаяНакладная.ПриемНаКомиссию Тогда
						
					СтруктураДоговора.ВидДоговора = Перечисления.ВидыДоговоров.СКомитентом;
					Прервать;
				КонецЕсли;
			КонецЦикла;
				
		КонецЕсли;
			
		Значение = СтруктураДоговора;
			
	КонецЕсли;
	
Иначе
	
	ИмяПКО = "ДоговорыКонтрагентовПоискПоИдентификатору";

КонецЕсли;</Текст>
				<Параметры>Источник, ОбъектКоллекции, Значение, ИмяПКО</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьТаблицуРаспределенияМатериалов" ИспользуетсяПриЗагрузке="false">
				<Текст>
КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Номенклатура");
КоллекцияОбъектов.Колонки.Добавить("Характеристика");
КоллекцияОбъектов.Колонки.Добавить("Количество");
КоллекцияОбъектов.Колонки.Добавить("КоличествоМест");
КоллекцияОбъектов.Колонки.Добавить("ЕдиницаИзмерения");
КоллекцияОбъектов.Колонки.Добавить("Коэффициент");
КоллекцияОбъектов.Колонки.Добавить("НоменклатурнаяГруппа");

Если Источник.ВидОперации = Перечисления.ВидыОперацийСборкаЗапасов.Сборка Тогда
	
	Если Источник.Продукция.Количество() = 1 Тогда
		
		Для каждого СтрокаТаблицы Из Источник.Запасы Цикл
			ТипНоменклатуры = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "ТипНоменклатуры");
			Если ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Запас Тогда
				НоваяСтрока = КоллекцияОбъектов.Добавить();
				ЗаполнитьЗначенияСвойств(НоваяСтрока, СтрокаТаблицы);
				НоваяСтрока.КоличествоМест = СтрокаТаблицы.Количество;
				НоваяСтрока.НоменклатурнаяГруппа = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.Продукция[0].Номенклатура, "КатегорияНоменклатуры"); 
			КонецЕсли;
		КонецЦикла;
		
	Иначе
		
		ДокументСсылкаСборкаЗапасов = Источник.Ссылка;
		
		СтруктураДополнительныеСвойства = Новый Структура;
		УправлениеНебольшойФирмойСервер.ИнициализироватьДополнительныеСвойстваДляПроведения(ДокументСсылкаСборкаЗапасов, СтруктураДополнительныеСвойства);
		
		Запрос = Новый Запрос;
		Запрос.Текст = 
		"ВЫБРАТЬ
		|	СборкаЗапасовПродукция.НомерСтроки КАК КоррНомерСтроки,
		|	СборкаЗапасовПродукция.Номенклатура КАК КоррНоменклатура,
		|	ВЫБОР
		|		КОГДА &amp;ИспользоватьХарактеристики
		|			ТОГДА СборкаЗапасовПродукция.Характеристика
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка)
		|	КОНЕЦ КАК КоррХарактеристика,
		|	ВЫБОР
		|		КОГДА &amp;ИспользоватьПартии
		|			ТОГДА СборкаЗапасовПродукция.Партия
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ПартииНоменклатуры.ПустаяСсылка)
		|	КОНЕЦ КАК КоррПартия,
		|	СборкаЗапасовПродукция.Спецификация КАК КоррСпецификация,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиница.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|	КОНЕЦ КАК КоррСчетУчета,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиницаПродукции.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|	КОНЕЦ КАК СчетУчетаПродукции,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиница.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|	КОНЕЦ КАК СчетДт,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиницаПродукции.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|	КОНЕЦ КАК СчетДтПродукции,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ОтветственноеХранение)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ТоварыНаКомиссии)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ДавальческоеСырье)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ ВЫБОР
		|				КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиница.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|					ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|				ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|			КОНЕЦ
		|	КОНЕЦ КАК СчетКтПродукции,
		|	ВЫБОР
		|		КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовПродукция.ЕдиницаИзмерения) = ТИП(Справочник.КлассификаторЕдиницИзмерения)
		|			ТОГДА СборкаЗапасовПродукция.Количество
		|		ИНАЧЕ СборкаЗапасовПродукция.Количество * СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
		|	КОНЕЦ КАК КоррКоличество,
		|	ЛОЖЬ КАК Распределено
		|ПОМЕСТИТЬ Вт_Продукция
		|ИЗ
		|	Документ.СборкаЗапасов.Продукция КАК СборкаЗапасовПродукция
		|ГДЕ
		|	СборкаЗапасовПродукция.Ссылка = &amp;Ссылка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	МАКСИМУМ(Вт_Продукция.КоррНомерСтроки) КАК КоррНомерСтроки,
		|	Вт_Продукция.КоррНоменклатура,
		|	Вт_Продукция.КоррХарактеристика,
		|	Вт_Продукция.КоррПартия,
		|	Вт_Продукция.КоррСпецификация,
		|	Вт_Продукция.КоррСчетУчета,
		|	Вт_Продукция.СчетУчетаПродукции,
		|	Вт_Продукция.СчетДт,
		|	Вт_Продукция.СчетДтПродукции,
		|	Вт_Продукция.СчетКтПродукции,
		|	СУММА(Вт_Продукция.КоррКоличество) КАК КоррКоличество,
		|	Вт_Продукция.Распределено
		|ИЗ
		|	Вт_Продукция КАК Вт_Продукция
		|
		|СГРУППИРОВАТЬ ПО
		|	Вт_Продукция.КоррНоменклатура,
		|	Вт_Продукция.КоррХарактеристика,
		|	Вт_Продукция.КоррПартия,
		|	Вт_Продукция.КоррСпецификация,
		|	Вт_Продукция.КоррСчетУчета,
		|	Вт_Продукция.СчетУчетаПродукции,
		|	Вт_Продукция.СчетДт,
		|	Вт_Продукция.СчетДтПродукции,
		|	Вт_Продукция.СчетКтПродукции,
		|	Вт_Продукция.Распределено";
		
		Запрос.УстановитьПараметр("Ссылка", ДокументСсылкаСборкаЗапасов);
		Запрос.УстановитьПараметр("ИспользоватьХарактеристики", СтруктураДополнительныеСвойства.УчетнаяПолитика.ИспользоватьХарактеристики);
		Запрос.УстановитьПараметр("ИспользоватьПартии",  СтруктураДополнительныеСвойства.УчетнаяПолитика.ИспользоватьПартии);
		
		ТаблицаПродукция = Запрос.Выполнить().Выгрузить();
		Документы.СборкаЗапасов.СформироватьТаблицуРаспределенияМатериаловСборка(ДокументСсылкаСборкаЗапасов, СтруктураДополнительныеСвойства, ТаблицаПродукция);
		
		ТаблицаРаспределенияМатериаловСборка = СтруктураДополнительныеСвойства.ТаблицыДляДвижений.ТаблицаРаспределенияМатериаловСборка;
		
		Запрос = Новый Запрос;
		Запрос.Текст = 
		"ВЫБРАТЬ
		|	ТаблицаРаспределенияМатериаловСборка.НомерСтроки,
		|	ТаблицаРаспределенияМатериаловСборка.Номенклатура,
		|	ТаблицаРаспределенияМатериаловСборка.Характеристика,
		|	ТаблицаРаспределенияМатериаловСборка.Количество,
		|	ТаблицаРаспределенияМатериаловСборка.КоррНоменклатура КАК Продукция
		|ПОМЕСТИТЬ ВТ_ТаблицаРаспределенияМатериаловСборка
		|ИЗ
		|	&amp;ТаблицаРаспределенияМатериаловСборка КАК ТаблицаРаспределенияМатериаловСборка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	МАКСИМУМ(ВТ_ТаблицаРаспределенияМатериаловСборка.НомерСтроки) КАК НомерСтроки,
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Номенклатура КАК Номенклатура,
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Характеристика КАК Характеристика,
		|	СУММА(ВТ_ТаблицаРаспределенияМатериаловСборка.Количество) КАК Количество,
		|	СУММА(ВТ_ТаблицаРаспределенияМатериаловСборка.Количество) КАК КоличествоМест,
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Продукция.КатегорияНоменклатуры КАК НоменклатурнаяГруппа,
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Номенклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
		|	МАКСИМУМ(1) КАК Коэффициент
		|ИЗ
		|	ВТ_ТаблицаРаспределенияМатериаловСборка КАК ВТ_ТаблицаРаспределенияМатериаловСборка
		|
		|СГРУППИРОВАТЬ ПО
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Номенклатура,
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Характеристика,
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Продукция.КатегорияНоменклатуры,
		|	ВТ_ТаблицаРаспределенияМатериаловСборка.Номенклатура.ЕдиницаИзмерения
		|
		|УПОРЯДОЧИТЬ ПО
		|	МАКСИМУМ(ВТ_ТаблицаРаспределенияМатериаловСборка.НомерСтроки)";
		
		Запрос.УстановитьПараметр("ТаблицаРаспределенияМатериаловСборка", ТаблицаРаспределенияМатериаловСборка);
		
		Выборка = Запрос.Выполнить().Выбрать();
		Пока Выборка.Следующий() Цикл
			НоваяСтрока = КоллекцияОбъектов.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, Выборка);
		КонецЦикла;
		
	КонецЕсли;
	
Иначе
	
	Если Источник.Запасы.Количество() = 1 Тогда
		
		Для каждого СтрокаТаблицы Из Источник.Продукция Цикл
			ТипНоменклатуры = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "ТипНоменклатуры");
			Если ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Запас Тогда
				НоваяСтрока = КоллекцияОбъектов.Добавить();
				ЗаполнитьЗначенияСвойств(НоваяСтрока, СтрокаТаблицы);
				НоваяСтрока.КоличествоМест = СтрокаТаблицы.Количество;
				НоваяСтрока.НоменклатурнаяГруппа = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.Запасы[0].Номенклатура, "НоменклатурнаяГруппа"); 
			КонецЕсли;
		КонецЦикла;
		
	Иначе
		
		ДокументСсылкаСборкаЗапасов = Источник.Ссылка;
		
		СтруктураДополнительныеСвойства = Новый Структура;
		УправлениеНебольшойФирмойСервер.ИнициализироватьДополнительныеСвойстваДляПроведения(ДокументСсылкаСборкаЗапасов, СтруктураДополнительныеСвойства);
		
		Запрос = Новый Запрос;
		Запрос.Текст = 
		"ВЫБРАТЬ
		|	СборкаЗапасовПродукция.НомерСтроки КАК НомерСтроки,
		|	СборкаЗапасовПродукция.Номенклатура КАК Номенклатура,
		|	ВЫБОР
		|		КОГДА &amp;ИспользоватьХарактеристики
		|			ТОГДА СборкаЗапасовПродукция.Характеристика
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка)
		|	КОНЕЦ КАК Характеристика,
		|	ВЫБОР
		|		КОГДА &amp;ИспользоватьПартии
		|			ТОГДА СборкаЗапасовПродукция.Партия
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ПартииНоменклатуры.ПустаяСсылка)
		|	КОНЕЦ КАК Партия,
		|	ВЫБОР
		|		КОГДА &amp;ИспользоватьПартии
		|			ТОГДА СборкаЗапасовПродукция.Партия.Статус
		|		ИНАЧЕ ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ПустаяСсылка)
		|	КОНЕЦ КАК ПартияСтатус,
		|	СборкаЗапасовПродукция.Спецификация КАК Спецификация,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ОтветственноеХранение)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ТоварыНаКомиссии)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ДавальческоеСырье)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ ВЫБОР
		|				КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиница.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|					ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|				ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|			КОНЕЦ
		|	КОНЕЦ КАК СчетУчета,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ОтветственноеХранение)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ТоварыНаКомиссии)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ДавальческоеСырье)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ ВЫБОР
		|				КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиницаЗапасов.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|					ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|				ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|			КОНЕЦ
		|	КОНЕЦ КАК СчетУчетаЗапасов,
		|	ВЫБОР
		|		КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовПродукция.ЕдиницаИзмерения) = ТИП(Справочник.КлассификаторЕдиницИзмерения)
		|			ТОГДА СборкаЗапасовПродукция.Количество
		|		ИНАЧЕ СборкаЗапасовПродукция.Количество * СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
		|	КОНЕЦ КАК Количество,
		|	ВЫБОР
		|		КОГДА СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ОтветственноеХранение)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ТоварыНаКомиссии)
		|				ИЛИ СборкаЗапасовПродукция.Партия.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыПартий.ДавальческоеСырье)
		|			ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|		ИНАЧЕ ВЫБОР
		|				КОГДА СборкаЗапасовПродукция.Ссылка.СтруктурнаяЕдиница.ТипСтруктурнойЕдиницы = ЗНАЧЕНИЕ(Перечисление.ТипыСтруктурныхЕдиниц.Склад)
		|					ТОГДА СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗапасов
		|				ИНАЧЕ СборкаЗапасовПродукция.Номенклатура.СчетУчетаЗатрат
		|			КОНЕЦ
		|	КОНЕЦ КАК СчетКт,
		|	ВЫБОР
		|		КОГДА ТИПЗНАЧЕНИЯ(СборкаЗапасовПродукция.ЕдиницаИзмерения) = ТИП(Справочник.КлассификаторЕдиницИзмерения)
		|			ТОГДА СборкаЗапасовПродукция.Резерв
		|		ИНАЧЕ СборкаЗапасовПродукция.Резерв * СборкаЗапасовПродукция.ЕдиницаИзмерения.Коэффициент
		|	КОНЕЦ КАК Резерв
		|ПОМЕСТИТЬ Вт_Продукция
		|ИЗ
		|	Документ.СборкаЗапасов.Продукция КАК СборкаЗапасовПродукция
		|ГДЕ
		|	СборкаЗапасовПродукция.Ссылка = &amp;Ссылка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	МАКСИМУМ(Вт_Продукция.НомерСтроки) КАК НомерСтроки,
		|	Вт_Продукция.Номенклатура,
		|	Вт_Продукция.Характеристика,
		|	Вт_Продукция.Партия,
		|	Вт_Продукция.ПартияСтатус,
		|	Вт_Продукция.СчетУчета,
		|	Вт_Продукция.СчетУчетаЗапасов,
		|	Вт_Продукция.Спецификация,
		|	СУММА(Вт_Продукция.Количество) КАК Количество,
		|	СУММА(Вт_Продукция.Резерв) КАК Резерв,
		|	Вт_Продукция.СчетКт,
		|	ЛОЖЬ КАК Распределено
		|ИЗ
		|	Вт_Продукция КАК Вт_Продукция
		|
		|СГРУППИРОВАТЬ ПО
		|	Вт_Продукция.Номенклатура,
		|	Вт_Продукция.Характеристика,
		|	Вт_Продукция.Партия,
		|	Вт_Продукция.ПартияСтатус,
		|	Вт_Продукция.СчетУчета,
		|	Вт_Продукция.СчетУчетаЗапасов,
		|	Вт_Продукция.Спецификация,
		|	Вт_Продукция.СчетКт";
		
		Запрос.УстановитьПараметр("Ссылка", ДокументСсылкаСборкаЗапасов);
		Запрос.УстановитьПараметр("ИспользоватьХарактеристики", СтруктураДополнительныеСвойства.УчетнаяПолитика.ИспользоватьХарактеристики);
		Запрос.УстановитьПараметр("ИспользоватьПартии",  СтруктураДополнительныеСвойства.УчетнаяПолитика.ИспользоватьПартии);
		
		ТаблицаПродукция = Запрос.Выполнить().Выгрузить();
		Документы.СборкаЗапасов.СформироватьТаблицуРаспределенияМатериаловРазборка(ДокументСсылкаСборкаЗапасов, СтруктураДополнительныеСвойства, ТаблицаПродукция);
		
		ТаблицаРаспределенияМатериаловРазборка = СтруктураДополнительныеСвойства.ТаблицыДляДвижений.ТаблицаРаспределенияМатериаловРазборка;
		
		Запрос = Новый Запрос;
		Запрос.Текст = 
		"ВЫБРАТЬ
		|	ТаблицаРаспределенияМатериаловРазборка.НомерСтроки,
		|	ТаблицаРаспределенияМатериаловРазборка.Номенклатура,
		|	ТаблицаРаспределенияМатериаловРазборка.Количество,
		|	ТаблицаРаспределенияМатериаловРазборка.КоррНоменклатура КАК Продукция
		|ПОМЕСТИТЬ Вт_ТаблицаРаспределенияМатериаловРазборка
		|ИЗ
		|	&amp;ТаблицаРаспределенияМатериаловРазборка КАК ТаблицаРаспределенияМатериаловРазборка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	МАКСИМУМ(Вт_ТаблицаРаспределенияМатериаловРазборка.НомерСтроки) КАК НомерСтроки,
		|	Вт_ТаблицаРаспределенияМатериаловРазборка.Номенклатура КАК Номенклатура,
		|	СУММА(Вт_ТаблицаРаспределенияМатериаловРазборка.Количество) КАК Количество,
		|	СУММА(Вт_ТаблицаРаспределенияМатериаловРазборка.Количество) КАК КоличествоМест,
		|	Вт_ТаблицаРаспределенияМатериаловРазборка.Продукция.КатегорияНоменклатуры КАК НоменклатурнаяГруппа,
		|	Вт_ТаблицаРаспределенияМатериаловРазборка.Номенклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
		|	МАКСИМУМ(1) КАК Коэффициент
		|ИЗ
		|	Вт_ТаблицаРаспределенияМатериаловРазборка КАК Вт_ТаблицаРаспределенияМатериаловРазборка
		|
		|СГРУППИРОВАТЬ ПО
		|	Вт_ТаблицаРаспределенияМатериаловРазборка.Номенклатура,
		|	Вт_ТаблицаРаспределенияМатериаловРазборка.Продукция.КатегорияНоменклатуры,
		|	Вт_ТаблицаРаспределенияМатериаловРазборка.Номенклатура.ЕдиницаИзмерения
		|
		|УПОРЯДОЧИТЬ ПО
		|	МАКСИМУМ(Вт_ТаблицаРаспределенияМатериаловРазборка.НомерСтроки)";
		
		Запрос.УстановитьПараметр("ТаблицаРаспределенияМатериаловРазборка", ТаблицаРаспределенияМатериаловРазборка);
		
		Выборка = Запрос.Выполнить().Выбрать();
		Пока Выборка.Следующий() Цикл
			НоваяСтрока = КоллекцияОбъектов.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, Выборка);
		КонецЦикла;
		
	КонецЕсли;
	
КонецЕсли;</Текст>
				<Параметры>Источник, КоллекцияОбъектов</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьТабличнуюЧастьДебитор" ИспользуетсяПриЗагрузке="false">
				<Текст>// Алгоритм предназначен формирования типовой табличной части Дебитор документа Взаимозачет
// Вызывается из обработчика события "перед обработкой" ПКГС

ТаблицаИсточник = Источник.Дебитор;
ТаблицаДебитор = ТаблицаИсточник.ВыгрузитьКолонки();
ТаблицаДебитор.Колонки.Добавить("КурсВзаиморасчетов");
ТаблицаДебитор.Колонки.Добавить("КратностьВзаиморасчетов");
ТаблицаДебитор.Колонки.Добавить("Сумма");

Для каждого ТекСтрока Из ТаблицаИсточник Цикл
	
	Если ТекСтрока.ПризнакАванса = ПризнакАванса Тогда
		
		НоваяСтрока = ТаблицаДебитор.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, ТекСтрока);
		
		ВалютаДоговора = ТекСтрока.Договор.ВалютаРасчетов;
		Если ВалютаДоговора = Параметры.НациональнаяВалюта Тогда
			НоваяСтрока.КурсВзаиморасчетов	   = 1;
			НоваяСтрока.КратностьВзаиморасчетов  = 1;
			НоваяСтрока.Сумма = НоваяСтрока.СуммаРасчетов;
		Иначе
			СтруктураКурса = РаботаСКурсамиВалют.ПолучитьКурсВалюты(ВалютаДоговора, Источник.Дата);
			НоваяСтрока.КурсВзаиморасчетов	   = СтруктураКурса.Курс;
			НоваяСтрока.КратностьВзаиморасчетов  = СтруктураКурса.Кратность;
			
			Если ТекСтрока.Договор.РасчетыВУсловныхЕдиницах Тогда
				НоваяСтрока.Сумма = РаботаСКурсамиВалютКлиентСервер.ПересчитатьИзВалютыВВалюту(НоваяСтрока.СуммаРасчетов,
					ВалютаДоговора, Параметры.НациональнаяВалюта,
					НоваяСтрока.КурсВзаиморасчетов, 1,
					НоваяСтрока.КратностьВзаиморасчетов, 1
				);
			Иначе
				НоваяСтрока.Сумма = НоваяСтрока.СуммаРасчетов;
			КонецЕсли;
		КонецЕсли;
		
	КонецЕсли;
	
КонецЦикла;

КоллекцияОбъектов = ТаблицаДебитор;</Текст>
				<Параметры>КоллекцияОбъектов, Источник, ПризнакАванса</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьТабличнуюЧастьКредитор" ИспользуетсяПриЗагрузке="false">
				<Текст>// Алгоритм предназначен формирования типовой табличной части Кредитор документа Взаимозачет
// Вызывается из обработчика события "перед обработкой" ПКГС

ТаблицаИсточник = Источник.Кредитор;
ТаблицаКредитор = ТаблицаИсточник.ВыгрузитьКолонки();
ТаблицаКредитор.Колонки.Добавить("КурсВзаиморасчетов");
ТаблицаКредитор.Колонки.Добавить("КратностьВзаиморасчетов");
ТаблицаКредитор.Колонки.Добавить("Сумма");

Для каждого ТекСтрока Из ТаблицаИсточник Цикл
	
	Если ТекСтрока.ПризнакАванса = ПризнакАванса Тогда
		
		НоваяСтрока = ТаблицаКредитор.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, ТекСтрока);
		
		ВалютаДоговора = ТекСтрока.Договор.ВалютаРасчетов;
		Если ВалютаДоговора = Параметры.НациональнаяВалюта Тогда
			НоваяСтрока.КурсВзаиморасчетов	   = 1;
			НоваяСтрока.КратностьВзаиморасчетов  = 1;
			НоваяСтрока.Сумма = НоваяСтрока.СуммаРасчетов;
		Иначе
			СтруктураКурса = РаботаСКурсамиВалют.ПолучитьКурсВалюты(ВалютаДоговора, Источник.Дата);
			НоваяСтрока.КурсВзаиморасчетов	   = СтруктураКурса.Курс;
			НоваяСтрока.КратностьВзаиморасчетов  = СтруктураКурса.Кратность;
			
			Если ТекСтрока.Договор.РасчетыВУсловныхЕдиницах Тогда
				НоваяСтрока.Сумма = РаботаСКурсамиВалютКлиентСервер.ПересчитатьИзВалютыВВалюту(НоваяСтрока.СуммаРасчетов,
					ВалютаДоговора, Параметры.НациональнаяВалюта,
					НоваяСтрока.КурсВзаиморасчетов, 1,
					НоваяСтрока.КратностьВзаиморасчетов, 1
				);
			Иначе
				НоваяСтрока.Сумма = НоваяСтрока.СуммаРасчетов;
			КонецЕсли;
		КонецЕсли;
		
	КонецЕсли;
	
КонецЦикла;

КоллекцияОбъектов = ТаблицаКредитор;</Текст>
				<Параметры>КоллекцияОбъектов, Источник, ПризнакАванса</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьТабличнуюЧастьПокупатели" ИспользуетсяПриЗагрузке="false">
				<Текст>ТабличнаяЧастьПокупатели = Новый ТаблицаЗначений;
ТабличнаяЧастьПокупатели.Колонки.Добавить("КлючСтроки");
ТабличнаяЧастьПокупатели.Колонки.Добавить("Покупатель");
ТабличнаяЧастьПокупатели.Колонки.Добавить("ВыставленСФ");
ТабличнаяЧастьПокупатели.Колонки.Добавить("ДатаСФ");
ТабличнаяЧастьПокупатели.Колонки.Добавить("СчетФактура");

ЗначенияЗаполненияСтроки = Новый Структура;
ЗначенияЗаполненияСтроки.Вставить("КлючСтроки", 0);
ЗначенияЗаполненияСтроки.Вставить("Покупатель", Источник.Контрагент); 

//Если есть в УНФ выписанный СФ, подставить его, если нет, взвести флаг и заполнить дату
ЗначенияЗаполненияСтроки.Вставить("ВыставленСФ", Истина); 

Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	СчетФактура.Ссылка КАК СчетФактураВыставленный
|ИЗ
|	Документ.СчетФактура КАК СчетФактура
|ГДЕ
|	(СчетФактура.ДокументОснование = &amp;ДокументОснование
|			ИЛИ СчетФактура.ДокументыОснования.Ссылка = &amp;ДокументОснование)
|	И СчетФактура.Проведен";

Запрос.УстановитьПараметр("ДокументОснование", Источник.Ссылка);
РезультатВыполненияЗапроса = Запрос.Выполнить();

ЕстьВыписанныйСчетФактура = Ложь;

Если НЕ РезультатВыполненияЗапроса.Пустой() Тогда
	
	Выборка = РезультатВыполненияЗапроса.Выбрать();
	Выборка.Следующий();
	
	Если ЗначениеЗаполнено(Выборка.СчетФактураВыставленный) Тогда
		
		//Есть выписанный СФ
		ЗначенияЗаполненияСтроки.Вставить("ДатаСФ",			Выборка.СчетФактураВыставленный.Дата);
		ЗначенияЗаполненияСтроки.Вставить("СчетФактура", 	Выборка.СчетФактураВыставленный);
		
		Сообщить("" + Выборка.СчетФактураВыставленный);
		
		ЕстьВыписанныйСчетФактура = Истина;
	КонецЕсли;
	
КонецЕсли;

//Нет выписанного счета-фактуры
Если НЕ ЕстьВыписанныйСчетФактура Тогда 
	
	ЗначенияЗаполненияСтроки.Вставить("ДатаСФ",			Источник.Дата);
	
КонецЕсли;

ЗаполнитьЗначенияСвойств(ТабличнаяЧастьПокупатели.Добавить(), ЗначенияЗаполненияСтроки);

КоллекцияОбъектов = ТабличнаяЧастьПокупатели;</Текст>
				<Параметры>КоллекцияОбъектов, Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьТабличнуюЧастьТовары" ИспользуетсяПриЗагрузке="false">
				<Текст>// Алгоритм предназначен формирования типовой табличной части Товары товарных документов
// Вызывается из обработчика события "перед обработкой" ПКГС

// Сформируем пустую таблицу для хранения товаров на основе типовой табличной части Товары
ТаблицаТовары = Источник.Запасы.ВыгрузитьКолонки();
ТаблицаТовары.Колонки.Добавить("КоличествоМест");
ТаблицаИсточник = Источник.Запасы;

// Заполним результирующую таблицу из табличной части Товары номенклатурой, отличной от услуг 
Для каждого ТекСтрока Из ТаблицаИсточник Цикл
	Если ТекСтрока.Номенклатура.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Запас Тогда
		НоваяСтрока = ТаблицаТовары.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, ТекСтрока);
		НоваяСтрока.КоличествоМест = ТекСтрока.Количество;
	КонецЕсли;
КонецЦикла;

// Инициализируем коллекцию заполненной таблицей, чтобы не выполнялось стандартного получения коллекции. 
КоллекцияОбъектов = ТаблицаТовары;</Текст>
				<Параметры>КоллекцияОбъектов, Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьТабличнуюЧастьУслуги" ИспользуетсяПриЗагрузке="false">
				<Текст>// Алгоритм предназначен формирования типовой табличной части Услуги товарных документов
// Вызывается из обработчика события "перед обработкой" ПКГС

// Сформируем пустую таблицу для хранения услуг на основе типовой табличной части Товары
ТаблицаУслуги = Источник.Запасы.ВыгрузитьКолонки();
ТаблицаИсточник = Источник.Запасы;

// Заполним результирующую таблицу из табличной части Товары только услугами 
Для каждого ТекСтрока Из ТаблицаИсточник Цикл
	Если ТекСтрока.Номенклатура.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Услуга 
	 ИЛИ ТекСтрока.Номенклатура.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Работа Тогда
		НоваяСтрока = ТаблицаУслуги.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, ТекСтрока);
	КонецЕсли;
КонецЦикла;

// Инициализируем коллекцию заполненной таблицей, чтобы не выполнялось стандартного получения коллекции
КоллекцияОбъектов = ТаблицаУслуги;</Текст>
				<Параметры>КоллекцияОбъектов, Источник</Параметры>
			</Алгоритм>
		</Группа>
		<Группа Имя="Загрузка">
			<Группа Имя="_ЗаполнениеДокументов">
				<Алгоритм Имя="аигЗаполнитьГТДиСтрануВНакладной" ИспользуетсяПриЗагрузке="true">
					<Текст>ТабличнаяЧасть = Объект.Товары;
Если ТабличнаяЧасть.Количество() &gt; 0 Тогда
	Для Каждого СтрокаТовара Из ТабличнаяЧасть Цикл
		Если НЕ ЗначениеЗаполнено(СтрокаТовара.НомерГТД) Тогда
			СтрокаТовара.НомерГТД = СтрокаТовара.Номенклатура.НомерГТД;
			СтрокаТовара.СтранаПроисхождения = СтрокаТовара.Номенклатура.СтранаПроисхождения;
		КонецЕсли;
	КонецЦикла;
КонецЕсли;</Текст>
					<Параметры>Объект</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ЗаполнениеОтражениеВУСН" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ТабличнаяЧасть

Если УчетнаяПолитика.Существует(Объект.Организация, Объект.Дата, Истина, Объект.Ссылка) Тогда
	
	ВариантОтраженияУСН = ?(УчетнаяПолитика.ПрименяетсяУСН(Объект.Организация, Объект.Дата) И
		УчетнаяПолитика.ПрименяетсяУСНДоходыМинусРасходы(Объект.Организация, Объект.Дата),
		Перечисления.ОтражениеВУСН.Принимаются, Перечисления.ОтражениеВУСН.ПустаяСсылка());
	
	// Заполняем отражение в УСН для ТЧ
	Для Каждого СтрокаТаблицы Из ТабличнаяЧасть Цикл
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.ОтражениеВУСН) Или ВариантОтраженияУСН = Перечисления.ОтражениеВУСН.ПустаяСсылка() Тогда
			СтрокаТаблицы.ОтражениеВУСН = ВариантОтраженияУСН;
		КонецЕсли;
	КонецЦикла;
	
КонецЕсли;</Текст>
					<Параметры>Объект, ТабличнаяЧасть</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ЗаполнениеОтражениеНДСВСтоимости" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

Если УчетнаяПолитика.Существует(Объект.Организация, Объект.Дата, Истина, Объект.Ссылка) Тогда
	Если Не УчетнаяПолитика.ПлательщикНДС(Объект.Организация, Объект.Дата) Тогда
		Объект.НДСВключенВСтоимость = Истина;
	КонецЕсли;
КонецЕсли;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ЗаполнениеТабличнойЧастиДокументаНоменклатурой" ИспользуетсяПриЗагрузке="true">
					<Текст>
Массив = Новый Массив;
	
Если ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияТоваровУслуг")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.СчетНаОплатуПокупателю")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеТоваровУслуг")  Тогда
	
	Массив.Добавить("Товары");
	Массив.Добавить("Услуги");
	
ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровОтПокупателя")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровПоставщику")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.ПеремещениеТоваров") Тогда
	
	Массив.Добавить("Товары");
	
ИначеЕсли  ТипЗнч(Объект) = Тип("ДокументОбъект.ТребованиеНакладная") Тогда

	Массив.Добавить("Материалы");
	Массив.Добавить("МатериалыЗаказчика");

ИначеЕсли  ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетПроизводстваЗаСмену") Тогда

	Массив.Добавить("Продукция");
	Массив.Добавить("Материалы");

ИначеЕсли  ТипЗнч(Объект) = Тип("ДокументОбъект.ПередачаМатериаловВЭксплуатацию") 
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеМатериаловИзЭксплуатации")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратМатериаловИзЭксплуатации")  Тогда
	
	Массив.Добавить("Спецодежда");
	
КонецЕсли;

Для Каждого Элемент Из Массив Цикл
	
	Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
			
		ПараметрыТЧ = ПараметрыОбъекта.Получить(Элемент+ "ТабличнаяЧасть");
		Если ПараметрыТЧ &lt;&gt; Неопределено 
			И ПараметрыТЧ.Колонки.Найти("Код_БП") &lt;&gt; Неопределено 
			И ПараметрыТЧ.Колонки.Найти("Наименование_БП") &lt;&gt; Неопределено  Тогда
			
			Отбор = Новый Структура;
			
			Для Каждого СтрокаТаблицы Из Объект[Элемент] Цикл
			
				Отбор.Очистить();
							  	
				Если ЗначениеЗаполнено(СтрокаТаблицы.Номенклатура) Тогда
					Продолжить;
				КонецЕсли;

				Код =  ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].Код_БП;
				Наименование = ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].Наименование_БП;
				
				Если НЕ  Код  = "нет значения"  Тогда
				    Отбор.Вставить("Код", Код);
				КонецЕсли;
				
				Отбор.Вставить("Наименование",  Наименование);
				
				НайтиСтроки = Параметры.ТаблицаНоменклатуры.НайтиСтроки(Отбор);
				
				Если НайтиСтроки.Количество() Тогда
					СтрокаТаблицы.Номенклатура = НайтиСтроки[0].Ссылка;
					//РОНД+
					//если заполнена спецификация и у нее не указан владелец, то будем подставлять текущее значение
					Если Элемент = "Продукция"
							И ЗначениеЗаполнено(СтрокаТаблицы.Спецификация)
							И НЕ ЗначениеЗаполнено(СтрокаТаблицы.Спецификация.Владелец) Тогда
							ОбъектСпецификации =  СтрокаТаблицы.Спецификация.ПолучитьОбъект();
							ОбъектСпецификации.Владелец = СтрокаТаблицы.Номенклатура;
							Попытка
								ОбъектСпецификации.Записать();
							Исключение
								Сообщить("Не установлен владелец спецификации: " +  ОбъектСпецификации.Ссылка);
							КонецПопытки;	
					КонецЕсли;			
				КонецЕсли;
								
			КонецЦикла;
			
		КонецЕсли;
	КонецЕсли;
	
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта, Параметры</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьАвансовыйОтчет" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

Для Каждого СтрокаТаблицы Из Объект.Товары Цикл
	
		СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																						СтрокаТаблицы.Номенклатура,
																						Объект.Склад);
																						
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
			СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
		КонецЕсли;
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДС) Тогда
			СтрокаТаблицы.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда
			СтрокаТаблицы.СпособУчетаНДС = ?(СтрокаТаблицы.ПредъявленСФ,
				СчетаУчета.СпособУчетаНДС, Перечисления.СпособыУчетаНДС.Списывается);
		ИначеЕсли Не СтрокаТаблицы.ПредъявленСФ Тогда 
			СтрокаТаблицы.СпособУчетаНДС = Перечисления.СпособыУчетаНДС.Списывается;	
		ИначеЕсли СтрокаТаблицы.СпособУчетаНДС = Перечисления.СпособыУчетаНДС.Списывается Тогда
			СтрокаТаблицы.СпособУчетаНДС = Неопределено;	
		КонецЕсли;
		
КонецЦикла;

Для Каждого СтрокаТаблицы Из Объект.Прочее Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																					СтрокаТаблицы.Номенклатура,
																					Объект.Склад);
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетЗатрат) Тогда
		СтрокаТаблицы.СчетЗатрат = СчетаУчета.СчетУчета;
		СтрокаТаблицы.Субконто1 = СчетаУчета.Субконто1;
		СтрокаТаблицы.Субконто2 = СчетаУчета.Субконто2;
		СтрокаТаблицы.Субконто3 = СчетаУчета.Субконто3;
	КонецЕсли;
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетЗатратНУ) Тогда
		СтрокаТаблицы.СчетЗатратНУ = СчетаУчета.СчетУчета;
		СтрокаТаблицы.СубконтоНУ1 = СчетаУчета.Субконто1;
		СтрокаТаблицы.СубконтоНУ2 = СчетаУчета.Субконто2;
		СтрокаТаблицы.СубконтоНУ3 = СчетаУчета.Субконто3;
	КонецЕсли;
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДС) 
		И СтрокаТаблицы.СтавкаНДС &lt;&gt; Перечисления.СтавкиНДС.БезНДС Тогда
		СтрокаТаблицы.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
	КонецЕсли;
	
	Для каждого СтрокаВидыСубконто Из СчетаУчета.СчетУчета.ВидыСубконто Цикл
		
		ОписаниеТиповВидаСубконто = СтрокаВидыСубконто.ВидСубконто.ТипЗначения;
		Если ОписаниеТиповВидаСубконто.СодержитТип(Тип("СправочникСсылка.СтатьиЗатрат")) Тогда
			СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки] = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
		ИначеЕсли ОписаниеТиповВидаСубконто.СодержитТип(Тип("СправочникСсылка.ПрочиеДоходыИРасходы")) Тогда
			СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки] = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.ПрочиеДоходыИРасходы.ПрочиеВнереализационныеДоходыРасходы");
		ИначеЕсли ОписаниеТиповВидаСубконто.СодержитТип(Тип("СправочникСсылка.НоменклатурныеГруппы")) Тогда
			СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки] = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "НоменклатурнаяГруппа");
		КонецЕсли;
		
		СтрокаТаблицы["СубконтоНУ" + СтрокаВидыСубконто.НомерСтроки] = СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки];
	КонецЦикла;
	
	Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда
		СтрокаТаблицы.СпособУчетаНДС = ?(СтрокаТаблицы.ПредъявленСФ,
			СчетаУчета.СпособУчетаНДС, Перечисления.СпособыУчетаНДС.Списывается);
	ИначеЕсли Не СтрокаТаблицы.ПредъявленСФ Тогда 
		СтрокаТаблицы.СпособУчетаНДС = Перечисления.СпособыУчетаНДС.Списывается;	
	ИначеЕсли СтрокаТаблицы.СпособУчетаНДС = Перечисления.СпособыУчетаНДС.Списывается Тогда
		СтрокаТаблицы.СпособУчетаНДС = Неопределено;	
	КонецЕсли;
	
КонецЦикла;	

ПараметрыТЧ = Неопределено;
Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	
	ПараметрыТЧ = ПараметрыОбъекта.Получить("ПрочееТабличнаяЧасть");
	Если ПараметрыТЧ &lt;&gt; Неопределено 
		И ПараметрыТЧ.Колонки.Найти("ПроизводственныйРасход") &lt;&gt; Неопределено Тогда
		
		Для каждого СтрокаТаблицы Из Объект.Прочее Цикл	
			
			Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетЗатрат) Тогда
				Если ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].ПроизводственныйРасход Тогда
					СтрокаТаблицы.СчетЗатрат = ПланыСчетов.Хозрасчетный.ОбщехозяйственныеРасходы;
				Иначе
					СтрокаТаблицы.СчетЗатрат = ПланыСчетов.Хозрасчетный.ИздержкиОбращения;
				КонецЕсли;
				СтрокаТаблицы.Субконто1 = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "СтатьяЗатрат");
				
				СтрокаТаблицы.СчетЗатратНУ = СтрокаТаблицы.СчетЗатрат;
				СтрокаТаблицы.СубконтоНУ1 = СтрокаТаблицы.Субконто1;
				
				Если Не ЗначениеЗаполнено(СтрокаТаблицы.Субконто1) Тогда
					СтрокаТаблицы.Субконто1 = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
					СтрокаТаблицы.СубконтоНУ1 = СтрокаТаблицы.Субконто1;
				КонецЕсли;
				
			КонецЕсли;
			
			Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДС) 
				И СтрокаТаблицы.СтавкаНДС &lt;&gt; Перечисления.СтавкиНДС.БезНДС Тогда
				
				СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
				СтрокаТаблицы.Номенклатура,
				Объект.Склад);
				СтрокаТаблицы.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
			КонецЕсли;
			
		КонецЦикла;
	КонецЕсли;
КонецЕсли;
	
Для Каждого СтрокаТаблицы Из Объект.ОплатаПоставщикам Цикл
	
	РеквизитыДоговораКонтрагента = ОбщегоНазначения.ПолучитьЗначенияРеквизитов(СтрокаТаблицы.ДоговорКонтрагента, "Владелец,ВалютаВзаиморасчетов");
	
	Если ЗначениеЗаполнено(СтрокаТаблицы.ДоговорКонтрагента) И Не ЗначениеЗаполнено(СтрокаТаблицы.Контрагент) Тогда
		СтрокаТаблицы.Контрагент = РеквизитыДоговораКонтрагента.Владелец;
	КонецЕсли;
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация,
		СтрокаТаблицы.Контрагент,
		СтрокаТаблицы.ДоговорКонтрагента);
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаРасчетовПоАвансам) Тогда
		СтрокаТаблицы.СчетУчетаРасчетовПоАвансам   = СчетаУчета.СчетАвансов;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаРасчетовСКонтрагентом) Тогда
		Если СтрокаТаблицы.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
			СтрокаТаблицы.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовСКомитентом;
		Иначе
			СтрокаТаблицы.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
		КонецЕсли;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.Сделка) Тогда
		СтрокаТаблицы.Сделка = Неопределено;
	КонецЕсли;
	
КонецЦикла;

//Заполняем параметры, зависящие от режима налогообложения
Выполнить(Алгоритмы.ЗаполнениеОтражениеНДСВСтоимости);

ТабличнаяЧасть = Объект.Товары;
Выполнить(Алгоритмы.ЗаполнениеОтражениеВУСН);

ТабличнаяЧасть = Объект.Прочее;
Выполнить(Алгоритмы.ЗаполнениеОтражениеВУСН);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьАктОбОказанииПроизводственныхУслуг" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

// Заполним счета учета затрат
Если Не ЗначениеЗаполнено(Объект.СчетЗатрат) Тогда
	Объект.СчетЗатрат = ПланыСчетов.Хозрасчетный.ОсновноеПроизводство;
КонецЕсли;

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																					Объект.Контрагент,
																					Объект.ДоговорКонтрагента);
Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
КонецЕсли;

Если Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически
	ИЛИ Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.ПоДокументу Тогда
	
	Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда
		Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансовПокупателя;
	КонецЕсли;
	
Иначе
	Объект.СчетУчетаРасчетовПоАвансам = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
КонецЕсли;

ТабличнаяЧасть = Объект.Услуги;
ЭтоУслуги      = Истина;
ЕстьКомиссия   = Ложь;
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаНоменклатурыПродажа);

Для каждого СтрокаТаблицы Из Объект.Услуги Цикл
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СуммаПлановая) Тогда
		Ценообразование.ЗаполнитьПлановуюСебестоимость(СтрокаТаблицы, Объект.Дата);
		ОбработкаТабличныхЧастейКлиентСервер.ПересчитатьПлановуюСумму(СтрокаТаблицы, 1);
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СуммаПлановая) Тогда
		СтрокаТаблицы.ПлановаяСтоимость = СтрокаТаблицы.Цена;
		СтрокаТаблицы.СуммаПлановая = СтрокаТаблицы.Сумма;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.Спецификация) Тогда
		СтрокаТаблицы.Спецификация = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "ОсновнаяСпецификацияНоменклатуры");
	КонецЕсли;
	
КонецЦикла;

//Заполняем параметры, зависящие от режима налогообложения
Выполнить(Алгоритмы.ЗаполнениеОтражениеНДСВСтоимости);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьВозвратТоваровОтПокупателя" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																					Объект.Контрагент,
																					Объект.ДоговорКонтрагента);
Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда	
	Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансовПокупателя;
КонецЕсли;	

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоТаре) Тогда	
	Объект.СчетУчетаРасчетовПоТаре = СчетаУчета.СчетУчетаТарыПокупателя;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СчетУчетаНДС) Тогда
	Объект.СчетУчетаНДС = ПланыСчетов.Хозрасчетный.НДСпоПриобретеннымМПЗ;
КонецЕсли;

Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	
	ПараметрыТЧ = ПараметрыОбъекта.Получить("ТоварыТабличнаяЧасть");
	Если ПараметрыТЧ &lt;&gt; Неопределено И ПараметрыТЧ.Колонки.Найти("ТоварНаКомиссии") &lt;&gt; Неопределено Тогда
		
		Для каждого СтрокаТаблицы Из Объект.Товары Цикл	
			
			Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета)
				И ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].ТоварНаКомиссии Тогда
				СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ТоварыНаСкладе;
			КонецЕсли;
			
		КонецЦикла;
	КонецЕсли;
КонецЕсли;

Для Каждого СтрокаТаблицы Из Объект.Товары Цикл
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.Номенклатура) Тогда
		Продолжить;
	КонецЕсли; 
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																					СтрокаТаблицы.Номенклатура,
																					Объект.Склад);
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.ПереданныеСчетУчета) Тогда
		СтрокаТаблицы.ПереданныеСчетУчета = СчетаУчета.СчетПередачи;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетДоходов) Тогда
		СтрокаТаблицы.СчетДоходов = СчетаУчета.СчетДоходов;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетРасходов) Тогда
		СтрокаТаблицы.СчетРасходов = СчетаУчета.СчетРасходов;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДСПоРеализации) Тогда
		СтрокаТаблицы.СчетУчетаНДСПоРеализации = СчетаУчета.СчетУчетаНДСПродажи;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СтрокаТаблицы.СчетДоходов) Тогда
		СвойстваСчетаДоходов = БухгалтерскийУчетВызовСервераПовтИсп.ПолучитьСвойстваСчета(СтрокаТаблицы.СчетДоходов);
		Если СвойстваСчетаДоходов.КоличествоСубконто &gt; 0 Тогда
			СтрокаТаблицы.Субконто = СвойстваСчетаДоходов.ВидСубконто1ТипЗначения.ПривестиЗначение(СтрокаТаблицы.Субконто);
			Если ТипЗнч(СтрокаТаблицы.Субконто) = Тип("СправочникСсылка.НоменклатурныеГруппы") Тогда
				СтрокаТаблицы.Субконто = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "НоменклатурнаяГруппа");
			КонецЕсли;
		Иначе
			СтрокаТаблицы.Субконто = Неопределено;
		КонецЕсли;
	Иначе
		СтрокаТаблицы.Субконто = Неопределено;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда
		СтрокаТаблицы.СпособУчетаНДС = СчетаУчета.СпособУчетаНДС;
	КонецЕсли;

КонецЦикла;

ТабличнаяЧасть = Объект.Товары;
Выполнить(Алгоритмы.ЗаполнениеОтражениеВУСН);

Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВозвратнойТары);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьВозвратТоваровПоставщику" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																					Объект.Контрагент,
																					Объект.ДоговорКонтрагента);

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоПретензиям) Тогда
	Объект.СчетУчетаРасчетовПоПретензиям = СчетаУчета.СчетРасчетовПоПретензиям;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоТаре) Тогда
	Объект.СчетУчетаРасчетовПоТаре = СчетаУчета.СчетУчетаТары;
КонецЕсли;

ТоварыНаКомиссии = Неопределено;

Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	ПараметрыТЧ = ПараметрыОбъекта.Получить("ТоварыТабличнаяЧасть");
	Если ПараметрыТЧ &lt;&gt; Неопределено 
		И ПараметрыТЧ.Колонки.Найти("ТоварНаКомиссии") &lt;&gt; Неопределено Тогда
		
		ТоварыНаКомиссии = ПараметрыТЧ;
	КонецЕсли;
КонецЕсли;
	
Для Каждого СтрокаТаблицы Из Объект.Товары Цикл
	
	Если ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		Продолжить;
	КонецЕсли;
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																					СтрокаТаблицы.Номенклатура,
																					Объект.Склад);
	
	ЭтоКомиссия = Ложь;
	Если Объект.ВидОперации = Перечисления.ВидыОперацийВозвратТоваровПоставщику.ПокупкаКомиссия Тогда
		
		Если ТоварыНаКомиссии &lt;&gt; Неопределено
			И ТоварыНаКомиссии[СтрокаТаблицы.НомерСтроки - 1].ТоварНаКомиссии Тогда
			
			ЭтоКомиссия = Истина;
		КонецЕсли;
		
		Если СчетаУчета.СчетУчетаЯвляетсяЗабалансовым = ЭтоКомиссия Тогда
			СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
		КонецЕсли;
		
		Если ЭтоКомиссия И НЕ СчетаУчета.СчетУчетаЯвляетсяЗабалансовым Тогда
			СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
		Иначе
			СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
		КонецЕсли;
		
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
			СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ТоварыНаСкладе;
		КонецЕсли;
		
		СтрокаТаблицы.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
		
	ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийВозвратТоваровПоставщику.ИзПереработки Тогда
		
		СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчетаДавСырья;
		
	Иначе
		
		Если НЕ СчетаУчета.СчетУчетаЯвляетсяЗабалансовым Тогда
			СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
		КонецЕсли;
		
		СтрокаТаблицы.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
		
	КонецЕсли;
	
КонецЦикла;

//Заполняем параметры, зависящие от режима налогообложения
Выполнить(Алгоритмы.ЗаполнениеОтражениеНДСВСтоимости);

Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВозвратнойТары);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьЗаполнениеДокументаПослеЗагрузки" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ИмяПКО
// - ПараметрыОбъекта

Попытка
	Если ТипЗнч(Объект) = Тип("ДокументОбъект.АвансовыйОтчет") Тогда

		Выполнить(Алгоритмы.ОбработатьАвансовыйОтчет);
					
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеТоваровУслуг") Тогда

		Выполнить(Алгоритмы.ОбработатьПоступлениеТоваров);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеДопРасходов") Тогда

		Выполнить(Алгоритмы.ОбработатьПоступлениеДопРасходов);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровПоставщику") Тогда
		
		Выполнить(Алгоритмы.ОбработатьВозвратТоваровПоставщику);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияТоваровУслуг") Тогда
		
		Выполнить(Алгоритмы.ОбработатьРеализацияТоваров);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АктОбОказанииПроизводственныхУслуг") Тогда
		
		Выполнить(Алгоритмы.ОбработатьАктОбОказанииПроизводственныхУслуг);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ТребованиеНакладная") Тогда
		
		Выполнить(Алгоритмы.ОбработатьТребованиеНакладная);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетПроизводстваЗаСмену") Тогда
		
		Выполнить(Алгоритмы.ОбработатьОтчетПроизводстваЗаСмену);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомиссионераОПродажах") Тогда
		
		Выполнить(Алгоритмы.ОбработатьОтчетКомиссионераОПродажах);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомитентуОПродажах") Тогда
		
		Выполнить(Алгоритмы.ОбработатьОтчетКомитентуОПродажах);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровОтПокупателя") Тогда
		
		Выполнить(Алгоритмы.ОбработатьВозвратТоваровОтПокупателя);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеИзПереработки") Тогда
		
		Выполнить(Алгоритмы.ОбработатьПоступлениеИзПереработки);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияУслугПоПереработке") Тогда
		
		Выполнить(Алгоритмы.ОбработатьРеализацияУслугПоПереработке);
		                                                                      
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПередачаТоваров") Тогда
		
		Выполнить(Алгоритмы.ОбработатьПередачаТоваров);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОприходованиеТоваров") Тогда
		
		Выполнить(Алгоритмы.ОбработатьОприходованиеТоваров);
		                                                                                         
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеТоваров") Тогда
		
		Выполнить(Алгоритмы.ОбработатьСписаниеТоваров);
		
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетОРозничныхПродажах") Тогда
		
		Выполнить(Алгоритмы.ОбработатьОтчетОРозничныхПродажах);

	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаДолга") Тогда
		
		Выполнить(Алгоритмы.ОбработатьКорректировкаДолга);
		
	КонецЕсли;
	
Исключение
	Сообщить(НСтр("ru = 'Ошибка при выполнении отложенного заполнения. Правила конвертации: '")+Объект);
КонецПопытки</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьКорректировкаДолга" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

Если Объект.ДебиторскаяЗадолженность.Количество()&gt;0 Тогда
	
	ИмяТЧ = "ДебиторскаяЗадолженность";
	Выполнить(Алгоритмы.ОбработатьТабличнуюЧастьДокументКорректировкаДолга);
	
КонецЕсли;

Если Объект.КредиторскаяЗадолженность.Количество()&gt;0 Тогда
	
	ИмяТЧ = "КредиторскаяЗадолженность";
	Выполнить(Алгоритмы.ОбработатьТабличнуюЧастьДокументКорректировкаДолга);
	
КонецЕсли;

Если Объект.ВидОперации = Перечисления.ВидыОперацийКорректировкаДолга.СписаниеЗадолженности Тогда
	
	Если Объект.ДебиторскаяЗадолженность.Количество() &gt; 0
		И Объект.КредиторскаяЗадолженность.Количество() = 0
		И Не ЗначениеЗаполнено(Объект.СчетДт) Тогда
		
		Объект.СчетДт = ПланыСчетов.Хозрасчетный.ПрочиеРасходы;
		
	ИначеЕсли Объект.ДебиторскаяЗадолженность.Количество() = 0
		И Объект.КредиторскаяЗадолженность.Количество() &gt; 0
		И Не ЗначениеЗаполнено(Объект.СчетКт) Тогда
		
		Объект.СчетКт = ПланыСчетов.Хозрасчетный.ПрочиеДоходы;
		
	КонецЕсли
	
КонецЕсли;

Если Объект.ВалютаДокумента = Константы.ВалютаРегламентированногоУчета.Получить() Тогда
	Объект.СуммаДтЗадолженности = Объект.ДебиторскаяЗадолженность.Итог("Сумма");
	Объект.СуммаКтЗадолженности = Объект.КредиторскаяЗадолженность.Итог("Сумма");
Иначе
	Объект.СуммаДтЗадолженности = Объект.ДебиторскаяЗадолженность.Итог("СуммаВзаиморасчетов");
	Объект.СуммаКтЗадолженности = Объект.КредиторскаяЗадолженность.Итог("СуммаВзаиморасчетов");
	
	Если Объект.ДебиторскаяЗадолженность.Количество() &gt; 0
		И ЗначениеЗаполнено(Объект.ДебиторскаяЗадолженность[0].ДоговорКонтрагента) Тогда
		
		Объект.ВалютаДокумента = Объект.ДебиторскаяЗадолженность[0].ДоговорКонтрагента.ВалютаВзаиморасчетов;
		Объект.КурсДокумента	   = Объект.ДебиторскаяЗадолженность[0].КурсВзаиморасчетов;
		Объект.КратностьДокумента  = Объект.ДебиторскаяЗадолженность[0].КратностьВзаиморасчетов;
		
	ИначеЕсли Объект.КредиторскаяЗадолженность.Количество() &gt; 0
		И ЗначениеЗаполнено(Объект.КредиторскаяЗадолженность[0].ДоговорКонтрагента) Тогда
		
		Объект.ВалютаДокумента = Объект.КредиторскаяЗадолженность[0].ДоговорКонтрагента.ВалютаВзаиморасчетов;
		Объект.КурсДокумента	   = Объект.КредиторскаяЗадолженность[0].КурсВзаиморасчетов;
		Объект.КратностьДокумента  = Объект.КредиторскаяЗадолженность[0].КратностьВзаиморасчетов;
		
	КонецЕсли;	
	
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.ВидОперации) Тогда
	Объект.ВидОперации = Перечисления.ВидыОперацийКорректировкаДолга.Прочее;
КонецЕсли;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьОприходованиеТоваров" ИспользуетсяПриЗагрузке="true">
					<Текст>
// Параметры:
// - Объект
// - ПараметрыОбъекта

Если Не ЗначениеЗаполнено(Объект.СтатьяПрочихДоходовРасходов) Тогда
	Объект.СтатьяПрочихДоходовРасходов = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.ПрочиеДоходыИРасходы.ОприходованиеИзлишков");
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СтатьяПрочихДоходовРасходов) Тогда
	Объект.СтатьяПрочихДоходовРасходов = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.ПрочиеДоходыИРасходы.ПрочиеВнереализационныеДоходыРасходы");
КонецЕсли;

Для Каждого СтрокаТаблицы Из Объект.Товары Цикл
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																						СтрокаТаблицы.Номенклатура,
																						Объект.Склад);
		СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
	КонецЕсли;
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьОтчетКомиссионераОПродажах" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

Документы.ОтчетКомиссионераОПродажах.ЗаполнитьСчетаУчетаРасчетов(,Ложь,Объект);

ТабличнаяЧасть = Объект.Товары;
ЭтоУслуги      = Ложь;
ЕстьКомиссия   = Ложь;
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаНоменклатурыПродажа);

ТабличнаяЧасть = Объект.Услуги;
ЭтоУслуги      = Истина;
ЕстьКомиссия   = Ложь;
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаНоменклатурыПродажа);

Если Не ЗначениеЗаполнено(Объект.СчетУчетаЗатрат) Тогда
	Объект.СчетУчетаЗатрат = ПланыСчетов.Хозрасчетный.ИздержкиОбращения;
	СчетУчета = Объект.СчетУчетаЗатрат;
	Выполнить(Алгоритмы.ПривестиСубконтоВСоответствиеСчетуУчета);
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.Субконто1) Тогда
	Объект.Субконто1 = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.УслугиКомиссионеров");
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.Субконто1) Тогда
	Объект.Субконто1 = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
КонецЕсли;

//Заполняем параметры, зависящие от режима налогообложения
Выполнить(Алгоритмы.ЗаполнениеОтражениеНДСВСтоимости);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьОтчетКомитентуОПродажах" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																					Объект.Контрагент,
																					Объект.ДоговорКонтрагента);
	
Если НЕ ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
КонецЕсли;

Если НЕ ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда
	Если Объект.УдержатьВознаграждение Тогда
		Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетРасчетовСКомитентом;
	Иначе
		Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансовПокупателя;
	КонецЕсли;
КонецЕсли;

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																				Объект.УслугаПоВознаграждению);

Если Не ЗначениеЗаполнено(Объект.СчетУчетаНДСПоРеализации) Тогда
	Объект.СчетУчетаНДСПоРеализации = СчетаУчета.СчетУчетаНДСПродажи;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СчетДоходов) Тогда
	Объект.СчетДоходов = СчетаУчета.СчетДоходов;
КонецЕсли;

Если Объект.СчетДоходов.ВидыСубконто.Количество() &gt; 0 Тогда
	Если Объект.СчетДоходов.ВидыСубконто[0].ВидСубконто.ТипЗначения.СодержитТип(ТипЗнч(Объект.Субконто)) Тогда
		//Не надо менять, значение подходит
	Иначе
		Объект.Субконто = Новый(Объект.СчетДоходов.ВидыСубконто[0].ВидСубконто.ТипЗначения.Типы()[0])
	КонецЕсли;
Иначе
	Объект.Субконто = Неопределено;
КонецЕсли;

Если ТипЗнч(Объект.Субконто) = Тип("СправочникСсылка.НоменклатурныеГруппы") 
   И ЗначениеЗаполнено(Объект.УслугаПоВознаграждению) 
   И ЗначениеЗаполнено(Объект.УслугаПоВознаграждению.НоменклатурнаяГруппа) Тогда

	Объект.Субконто = Объект.УслугаПоВознаграждению.НоменклатурнаяГруппа;

КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.УслугаПоВознаграждению) Тогда
	 Объект.УслугаПоВознаграждению = Параметры.УзелОбменаЗагрузкаДанных.УслугаПоВознаграждению;
 КонецЕсли;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьОтчетОРозничныхПродажах" ИспользуетсяПриЗагрузке="true">
					<Текст>
// Параметры:
// - Объект
// - ПараметрыОбъекта

Выполнить(Алгоритмы.ЗаполнитьСчетУчетаКассы);

Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	
	ПараметрыТЧ = ПараметрыОбъекта.Получить("ТоварыТабличнаяЧасть");
	Если ПараметрыТЧ &lt;&gt; Неопределено И ПараметрыТЧ.Колонки.Найти("ТоварНаКомиссии") &lt;&gt; Неопределено Тогда
		
		Для каждого СтрокаТаблицы Из Объект.Товары Цикл
			
			Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета)
				И ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].ТоварНаКомиссии Тогда
				СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ТоварыНаСкладе;
			КонецЕсли;
			
		КонецЦикла;
	КонецЕсли;
КонецЕсли;

ТабличнаяЧасть = Объект.Товары;
ЭтоУслуги      = Ложь;
ЕстьКомиссия   = Ложь;

Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаНоменклатурыПродажа);

Для Каждого СтрокаТаблицы Из Объект.Оплата Цикл
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																						СтрокаТаблицы.Контрагент,
																						СтрокаТаблицы.ДоговорКонтрагента);
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаРасчетов) Тогда
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.ВидОплаты.СчетУчетаРасчетов) Тогда
			СтрокаТаблицы.СчетУчетаРасчетов = СчетаУчета.СчетРасчетов;
		Иначе
			СтрокаТаблицы.СчетУчетаРасчетов = СтрокаТаблицы.ВидОплаты.СчетУчетаРасчетов;
		КонецЕсли;
	КонецЕсли;
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьОтчетПроизводстваЗаСмену" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

// Заполним реквизиты шапки
Если Не ЗначениеЗаполнено(Объект.СчетЗатрат) Тогда
	Объект.СчетЗатрат = ПланыСчетов.Хозрасчетный.ОсновноеПроизводство;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.НДСвСтоимостиТоваров) Тогда
	Объект.НДСвСтоимостиТоваров = Перечисления.ДействиеНДСВСтоимостиТоваров.НеИзменять;
КонецЕсли;

Объект.ДляСписанияНДСиспользоватьСчетИАналитикуУчетаЗатрат = Истина;

// Заполним необходимые реквизиты в табличной части Продукция
Для каждого ТекСтрока Из Объект.Продукция Цикл
	
	ПлановаяСтоимость = ТекСтрока.ПлановаяСтоимость;
	СуммаПлановая = ТекСтрока.СуммаПлановая;
	Ценообразование.ЗаполнитьПлановуюСебестоимость(ТекСтрока, Объект.Дата);
	ОбработкаТабличныхЧастейКлиентСервер.ПересчитатьПлановуюСумму(ТекСтрока);
	Если ТекСтрока.СуммаПлановая = 0 Тогда
		ТекСтрока.ПлановаяСтоимость = ПлановаяСтоимость;
		ТекСтрока.СуммаПлановая = СуммаПлановая;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.Счет) Тогда
		СчетаУчета						= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
		ТекСтрока.Счет					= СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.НоменклатурнаяГруппа) Тогда
		ТекСтрока.НоменклатурнаяГруппа	= ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "НоменклатурнаяГруппа");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.Спецификация) Тогда
		ТекСтрока.Спецификация 			= ТекСтрока.Номенклатура.ОсновнаяСпецификацияНоменклатуры;
	КонецЕсли;
	
КонецЦикла;

// Заполним необходимые реквизиты в табличной части Услуги
Для каждого ТекСтрока Из Объект.Услуги Цикл
	
	ПлановаяСтоимость = ТекСтрока.ПлановаяСтоимость;
	СуммаПлановая = ТекСтрока.СуммаПлановая;
	Ценообразование.ЗаполнитьПлановуюСебестоимость(ТекСтрока, Объект.Дата);
	ОбработкаТабличныхЧастейКлиентСервер.ПересчитатьПлановуюСумму(ТекСтрока);
	Если ТекСтрока.СуммаПлановая = 0 Тогда
		ТекСтрока.ПлановаяСтоимость = ПлановаяСтоимость;
		ТекСтрока.СуммаПлановая = СуммаПлановая;
	КонецЕсли;
	
	СчетаУчета 						= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	ТекСтрока.Счет 					= СчетаУчета.СчетУчета;
	ТекСтрока.Субконто1 			= СчетаУчета.Субконто1;
	ТекСтрока.Субконто2 			= СчетаУчета.Субконто2;
	ТекСтрока.Субконто3 			= СчетаУчета.Субконто3;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.НоменклатурнаяГруппа) Тогда
		ТекСтрока.НоменклатурнаяГруппа 	= ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "НоменклатурнаяГруппа");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.Спецификация) Тогда
		ТекСтрока.Спецификация 			= ТекСтрока.Номенклатура.ОсновнаяСпецификацияНоменклатуры;
	КонецЕсли;
	
КонецЦикла;

// Заполним необходимые реквизиты в табличной части Материалы
Для каждого ТекСтрока Из Объект.Материалы Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	
	Если Не ЗначениеЗаполнено(ТекСтрока.Счет) Тогда
		ТекСтрока.Счет					= СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.ОтражениеВУСН 		= Перечисления.ОтражениеВУСН.Принимаются;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат 			= ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "СтатьяЗатрат");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат 			= ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.СписаниеМатериалов");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат 			= ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.НоменклатурнаяГруппа) Тогда
		ТекСтрока.НоменклатурнаяГруппа	= ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "НоменклатурнаяГруппа");
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда
		ТекСтрока.СпособУчетаНДС		= СчетаУчета.СпособУчетаНДС;
	КонецЕсли;
	
КонецЦикла;

Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	ПараметрыТЧ = ПараметрыОбъекта.Получить("ВозвратныеОтходыТабличнаяЧасть");
КонецЕсли;

// Заполним необходимые реквизиты в табличной части Возвратные отходы
Для каждого ТекСтрока Из Объект.ВозвратныеОтходы Цикл
	
	ТипЦенПлановойСебестоимости   = Константы.ТипЦенПлановойСебестоимостиНоменклатуры.Получить();
	ВалютаРеглментированногоУчета = Параметры.ВалютаРегламентированногоУчета;
	
	Если ЗначениеЗаполнено(ТипЦенПлановойСебестоимости) Тогда
		ТекСтрока.Цена = Ценообразование.ПолучитьЦенуНоменклатуры(
			ТекСтрока.Номенклатура,
			ТипЦенПлановойСебестоимости,
			Объект.Дата,
			ВалютаРеглментированногоУчета,
			1
		);
	КонецЕсли;
	
	ТекСтрока.Сумма = ТекСтрока.Количество * ТекСтрока.Цена;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.Счет) Тогда
		СчетаУчета					= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
		ТекСтрока.Счет				= СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если ПараметрыОбъекта &lt;&gt; Неопределено 
		И ПараметрыТЧ.Колонки.Найти("ТоварВПереработке") &lt;&gt; Неопределено
		И ПараметрыТЧ[ТекСтрока.НомерСтроки - 1].ТоварВПереработке Тогда
		
		ТекСтрока.Счет 				= ПланыСчетов.Хозрасчетный.МатериалыПринятыеВПереработкуВПроизводстве;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат 		= ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "СтатьяЗатрат");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат 		= ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.СписаниеМатериалов");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат 		= ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.НоменклатурнаяГруппа) Тогда
		ТекСтрока.НоменклатурнаяГруппа = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "НоменклатурнаяГруппа");
	КонецЕсли;
	
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьПередачаТоваров" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоТаре) Тогда
	Объект.СчетУчетаРасчетовПоТаре = СчетаУчета.СчетУчетаТарыПокупателя;
КонецЕсли;

Для каждого ТекСтрока Из Объект.Товары Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетУчета) Тогда
		ТекСтрока.СчетУчета		= СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетПередачи) Тогда
		ТекСтрока.СчетПередачи	= ?(Объект.ВидОперации = Перечисления.ВидыОперацийПередачаТоваров.ВПереработку, СчетаУчета.СчетПередачи, СчетаУчета.СчетУчета);
	КонецЕсли;
	
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьПоступлениеДопРасходов" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																					Объект.Контрагент,
																					Объект.ДоговорКонтрагента);

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда
	Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансов;
КонецЕсли;

Если Объект.Товары.Количество()&gt;0 Тогда
	ТабличнаяЧасть = Объект.Товары;
	Выполнить(Алгоритмы.ЗаполнениеОтражениеВУСН);
КонецЕсли;

//Заполним табличную часть "Товары"
Для Каждого СтрокаТаблицы Из Объект.Товары Цикл

	Если Не ЗначениеЗаполнено(СтрокаТаблицы.Номенклатура) Тогда
		Продолжить;
	КонецЕсли;

	Если Не ЗначениеЗаполнено(СтрокаТаблицы.ОтражениеВУСН) Тогда
		СтрокаТаблицы.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Принимаются;
	КонецЕсли;

	// Заполнение счетов учета номенклатуры
	Склад = Неопределено;
	Если ЗначениеЗаполнено(СтрокаТаблицы.ДокументПартии) И ОбщегоНазначенияБПВызовСервера.ЕстьРеквизитДокумента("Склад", СтрокаТаблицы.ДокументПартии.Метаданные()) Тогда
		Склад = СтрокаТаблицы.ДокументПартии.Склад;
	КонецЕсли;

	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																					СтрокаТаблицы.Номенклатура, 
																					Склад);
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДС) Тогда
		СтрокаТаблицы.СчетУчетаНДС = ПланыСчетов.Хозрасчетный.НДСпоПриобретеннымУслугам;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНУ) Тогда
		СтрокаТаблицы.СчетУчетаНУ = СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда
		СтрокаТаблицы.СпособУчетаНДС = СчетаУчета.СпособУчетаНДС;
	КонецЕсли;
	
КонецЦикла;

//Заполняем параметры, зависящие от режима налогообложения
Выполнить(Алгоритмы.ЗаполнениеОтражениеНДСВСтоимости);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьПоступлениеИзПереработки" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

// Заполним счета учета затрат
Если НЕ ЗначениеЗаполнено(Объект.СчетЗатрат) Тогда
	Объект.СчетЗатрат = ПланыСчетов.Хозрасчетный.ОсновноеПроизводство;
КонецЕсли;

// Заполним счета учета расчетов с контрагентом
СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(
	Объект.Организация, 
	Объект.Контрагент, 
	Объект.ДоговорКонтрагента
);

Если НЕ ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
КонецЕсли;

Если НЕ ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда
	Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансов;
КонецЕсли;

// Заполним необходимые реквизиты в табличной части Услуги 
Для каждого ТекСтрока Из Объект.Услуги Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	
	Если Не ЗначениеЗаполнено (ТекСтрока.СчетУчетаНДС) Тогда
		ТекСтрока.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.ОтражениеВУСН) Тогда
		ТекСтрока.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Принимаются;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "СтатьяЗатрат");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.СписаниеМатериалов");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда
		ТекСтрока.СпособУчетаНДС = СчетаУчета.СпособУчетаНДС;
	КонецЕсли;
	
КонецЦикла;

// Заполним счета и другие необходимые реквизиты в табличной части Возвращенные материалы
Для каждого ТекСтрока Из Объект.ИспользованныеМатериалы Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетУчета) Тогда
		ТекСтрока.СчетУчета 	= СчетаУчета.СчетПередачи;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.ОтражениеВУСН) Тогда
		ТекСтрока.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Принимаются;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "СтатьяЗатрат");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.СписаниеМатериалов");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
	КонецЕсли;
	
КонецЦикла;

// Заполним счета и другие необходимые реквизиты в табличной части Возвращенные материалы
Для каждого ТекСтрока Из Объект.ВозвращенныеМатериалы Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.СчетУчета) Тогда
		ТекСтрока.СчетУчета = СчетаУчета.СчетПередачи;
	КонецЕсли;
	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.СчетПередачи) Тогда
		ТекСтрока.СчетПередачи = СчетаУчета.СчетУчета;
	КонецЕсли;
	
КонецЦикла;

// Заполним счета в табличной части Продукция
Для каждого ТекСтрока Из Объект.Продукция Цикл
	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.Счет) Тогда
		
		СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
		
		Если НЕ ЗначениеЗаполнено(ТекСтрока.Счет) Тогда
			ТекСтрока.Счет = СчетаУчета.СчетУчета;
		КонецЕсли;
		
		Если НЕ ЗначениеЗаполнено(ТекСтрока.Спецификация) Тогда
			ТекСтрока.Спецификация = ТекСтрока.Номенклатура.ОсновнаяСпецификацияНоменклатуры;
		КонецЕсли;
		
	КонецЕсли;
	
	// Заполним плановую сумму в табличной части Продукция
	Если НЕ ЗначениеЗаполнено(ТекСтрока.СуммаПлановая) Тогда    
		
		ТипЦенПлановойСебестоимости = Параметры.ТипЦенПлановойСебестоимости;
			ВалютаРегламентированногоУчета = Параметры.ВалютаРегламентированногоУчета;
			ТекСтрока.ПлановаяСтоимость = Ценообразование.ПолучитьЦенуНоменклатуры(
			ТекСтрока.Номенклатура,
			ТипЦенПлановойСебестоимости,
			Объект.Дата,
			ВалютаРегламентированногоУчета,
			1
		);
		
		ОбработкаТабличныхЧастейКлиентСервер.ПересчитатьПлановуюСумму(ТекСтрока);
		
	КонецЕсли;
	
КонецЦикла;

//Заполняем параметры, зависящие от режима налогообложения
Выполнить(Алгоритмы.ЗаполнениеОтражениеНДСВСтоимости);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьПоступлениеТоваров" ИспользуетсяПриЗагрузке="true">
					<Текст>	// Параметры:
	// - Объект
	// - ПараметрыОбъекта
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация, 
																						Объект.Контрагент, 
																						Объект.ДоговорКонтрагента);
	ВидДоговораКонтрагента = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.ДоговорКонтрагента, "ВидДоговора");
	
	Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
		Если ВидДоговораКонтрагента = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
			Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовСКомитентом;
		ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеТоваровУслуг.ВПереработку Тогда
			Объект.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
		Иначе
			Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
		КонецЕсли;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда
		Если Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеТоваровУслуг.ВПереработку
			Или ВидДоговораКонтрагента = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
			Объект.СчетУчетаРасчетовПоАвансам = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
		Иначе
			Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансов;
		КонецЕсли;
	КонецЕсли;
	
	//Заполним табличную часть "Товары"
	Для Каждого СтрокаТаблицы Из Объект.Товары Цикл
	
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.Номенклатура) Тогда
			Продолжить;
		КонецЕсли;
	
		СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																						СтрокаТаблицы.Номенклатура,
																						Объект.Склад);
																						
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда

			Если Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеТоваровУслуг.ПокупкаКомиссия
				И ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.ДоговорКонтрагента, "ВидДоговора") = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
				
				Если СчетаУчета.СчетУчетаЯвляетсяЗабалансовым = Истина Тогда
					СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ТоварыНаСкладе;
				Иначе
					СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
				КонецЕсли;
				
			ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеТоваровУслуг.ВПереработку Тогда
				
				СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчетаДавСырья;
				
			Иначе
				
				Если СчетаУчета.СчетУчетаЯвляетсяЗабалансовым &lt;&gt; Истина Тогда
					СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
				Иначе
					СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
				КонецЕсли;
				
				СтрокаТаблицы.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
			КонецЕсли;
			
		КонецЕсли;
		
		Если Объект.ВидОперации &lt;&gt; Перечисления.ВидыОперацийПоступлениеТоваровУслуг.ВПереработку
			И ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда
			
			СтрокаТаблицы.СпособУчетаНДС = СчетаУчета.СпособУчетаНДС;
		КонецЕсли;
	
	КонецЦикла;
	
	Если Объект.Товары.Количество()&gt;0 Тогда
		ТабличнаяЧасть = Объект.Товары;
		Выполнить(Алгоритмы.ЗаполнениеОтражениеВУСН);
	КонецЕсли;
	
	//Заполним табличную часть "Услуги"
	Для Каждого СтрокаТаблицы Из Объект.Услуги Цикл
	
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.Номенклатура) Тогда
			Продолжить;
		КонецЕсли;
	
		СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																					  	СтрокаТаблицы.Номенклатура,
																					  	Объект.Склад);
	
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетЗатрат) Тогда
			СтрокаТаблицы.СчетЗатрат = СчетаУчета.СчетУчета;
			СтрокаТаблицы.Субконто1 = СчетаУчета.Субконто1;
			СтрокаТаблицы.Субконто2 = СчетаУчета.Субконто2;
			СтрокаТаблицы.Субконто3 = СчетаУчета.Субконто3;
		КонецЕсли;
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетЗатратНУ) Тогда
			СтрокаТаблицы.СчетЗатратНУ = СчетаУчета.СчетУчета;
			СтрокаТаблицы.СубконтоНУ1 = СчетаУчета.Субконто1;
			СтрокаТаблицы.СубконтоНУ2 = СчетаУчета.Субконто2;
			СтрокаТаблицы.СубконтоНУ3 = СчетаУчета.Субконто3;
		КонецЕсли;
		Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДС) Тогда 
			СтрокаТаблицы.СчетУчетаНДС = СчетаУчета.СчетУчетаНДС;
		КонецЕсли;
		
		Для каждого СтрокаВидыСубконто Из СчетаУчета.СчетУчета.ВидыСубконто Цикл
			
			ОписаниеТиповВидаСубконто = СтрокаВидыСубконто.ВидСубконто.ТипЗначения;
			Если ОписаниеТиповВидаСубконто.СодержитТип(Тип("СправочникСсылка.СтатьиЗатрат")) Тогда
				СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки] = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
			ИначеЕсли ОписаниеТиповВидаСубконто.СодержитТип(Тип("СправочникСсылка.ПрочиеДоходыИРасходы")) Тогда
				СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки] = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.ПрочиеДоходыИРасходы.ПрочиеВнереализационныеДоходыРасходы");
			ИначеЕсли ОписаниеТиповВидаСубконто.СодержитТип(Тип("СправочникСсылка.НоменклатурныеГруппы")) Тогда
				СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки] = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "НоменклатурнаяГруппа");
			КонецЕсли;
			
			СтрокаТаблицы["СубконтоНУ" + СтрокаВидыСубконто.НомерСтроки] = СтрокаТаблицы["Субконто" + СтрокаВидыСубконто.НомерСтроки];
		КонецЦикла;
		
		Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда 
			СтрокаТаблицы.СпособУчетаНДС = СчетаУчета.СпособУчетаНДС;
		КонецЕсли;
	
	КонецЦикла;
	
	Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
		
		ПараметрыТЧ = ПараметрыОбъекта.Получить("ТоварыТабличнаяЧасть");
		Если ПараметрыТЧ &lt;&gt; Неопределено 
			И ПараметрыТЧ.Колонки.Найти("ТоварНаКомиссии") &lt;&gt; Неопределено Тогда
			
			Для каждого СтрокаТаблицы Из Объект.Товары Цикл
				
				Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета)
					И ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].ТоварНаКомиссии Тогда
					СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ТоварыНаСкладе;
				КонецЕсли;
				
			КонецЦикла;
		КонецЕсли;
		
		ПараметрыТЧ = ПараметрыОбъекта.Получить("УслугиТабличнаяЧасть");
		Если ПараметрыТЧ &lt;&gt; Неопределено 
			И ПараметрыТЧ.Колонки.Найти("ПроизводственныйРасход") &lt;&gt; Неопределено Тогда
			
			Для каждого СтрокаТаблицы Из Объект.Услуги Цикл	
				
				Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетЗатрат) Тогда
					Если ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].ПроизводственныйРасход Тогда
						СтрокаТаблицы.СчетЗатрат = ПланыСчетов.Хозрасчетный.ОбщехозяйственныеРасходы;
					Иначе
						СтрокаТаблицы.СчетЗатрат = ПланыСчетов.Хозрасчетный.ИздержкиОбращения;
					КонецЕсли;
					СтрокаТаблицы.Субконто1 = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТаблицы.Номенклатура, "СтатьяЗатрат");
					
					СтрокаТаблицы.СчетЗатратНУ = СтрокаТаблицы.СчетЗатрат;
					СтрокаТаблицы.СубконтоНУ1 = СтрокаТаблицы.Субконто1;
					
					Если Не ЗначениеЗаполнено(СтрокаТаблицы.Субконто1) Тогда
						СтрокаТаблицы.Субконто1 = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
						СтрокаТаблицы.СубконтоНУ1 = СтрокаТаблицы.Субконто1;
					КонецЕсли;
					
				КонецЕсли;
			КонецЦикла;
		КонецЕсли;
	КонецЕсли;
	
	//Заполняем параметры, зависящие от режима налогообложения
	Выполнить(Алгоритмы.ЗаполнениеОтражениеНДСВСтоимости);
	
	Если Объект.Услуги.Количество()&gt;0 Тогда
		ТабличнаяЧасть = Объект.Услуги;
		Выполнить(Алгоритмы.ЗаполнениеОтражениеВУСН);
	КонецЕсли;
	
	//Заполняем параметры, зависящие от режима налогообложения
	Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВозвратнойТары);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьРеализацияТоваров" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																					Объект.Контрагент,
																					Объект.ДоговорКонтрагента);
Если (ОбщегоНазначения.ЗначениеРеквизитаОбъекта( Объект.ДоговорКонтрагента, "ВидДоговора") = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером)
	Или (Объект.ВидОперации = Перечисления.ВидыОперацийРеализацияТоваров.ОтгрузкаБезПереходаПраваСобственности) Тогда
		Объект.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
		Объект.СчетУчетаРасчетовПоАвансам = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
Иначе
	Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
		Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
	КонецЕсли;
	Если (Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически)
		Или (Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.ПоДокументу) Тогда
		Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда
			Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансовПокупателя;
		КонецЕсли;
	Иначе
		Объект.СчетУчетаРасчетовПоАвансам = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
	КонецЕсли;
КонецЕсли;

Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	
	ПараметрыТЧ = ПараметрыОбъекта.Получить("ТоварыТабличнаяЧасть");
	Если ПараметрыТЧ &lt;&gt; Неопределено И ПараметрыТЧ.Колонки.Найти("ТоварНаКомиссии") &lt;&gt; Неопределено Тогда
		
		Для каждого СтрокаТаблицы Из Объект.Товары Цикл	
			
			Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета)
				И ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].ТоварНаКомиссии Тогда
				СтрокаТаблицы.СчетУчета = ПланыСчетов.Хозрасчетный.ТоварыНаСкладе;
			КонецЕсли;
			
		КонецЦикла;
	КонецЕсли;
КонецЕсли;

ТабличнаяЧасть = Объект.Товары;
ЭтоУслуги      = Ложь;
ЕстьКомиссия   = Истина;
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаНоменклатурыПродажа);

ТабличнаяЧасть = Объект.Услуги;
ЭтоУслуги      = Истина;
ЕстьКомиссия   = Ложь;
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаНоменклатурыПродажа);</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьРеализацияУслугПоПереработке" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

// Заполним счета учета расчетов с контрагентом
СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(
	Объект.Организация,
	Объект.Контрагент,
	Объект.ДоговорКонтрагента
);

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовСКонтрагентом) Тогда
	Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.СчетУчетаРасчетовПоАвансам) Тогда
	Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансовПокупателя;
КонецЕсли;

ТипЦенПлановойСебестоимости = Константы.ТипЦенПлановойСебестоимостиНоменклатуры.Получить();
ВалютаРеглментированногоУчета = Параметры.ВалютаРегламентированногоУчета;

// Заполним необходимые реквизиты в табличной части Услуги 
Для каждого ТекСтрока Из Объект.Услуги Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура);
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетДоходов) Тогда
		ТекСтрока.СчетДоходов				= СчетаУчета.СчетДоходов;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетРасходов) Тогда
		ТекСтрока.СчетРасходов 				= СчетаУчета.СчетРасходов;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетУчетаНДСПоРеализации) Тогда
		ТекСтрока.СчетУчетаНДСПоРеализации	= СчетаУчета.СчетУчетаНДСПродажи;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетУчета) Тогда
		ТекСтрока.СчетУчета					= СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СуммаПлановая) Тогда
		ТекСтрока.ПлановаяСтоимость = Ценообразование.ПолучитьЦенуНоменклатуры(
			ТекСтрока.Номенклатура,
			ТипЦенПлановойСебестоимости,
			Объект.Дата,
			ВалютаРеглментированногоУчета,
			1
		);
		
		ОбработкаТабличныхЧастейКлиентСервер.ПересчитатьПлановуюСумму(ТекСтрока);
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ТекСтрока.Номенклатура) Тогда
		Содержание = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "НаименованиеПолное");
	КонецЕсли;
	
	ТекСтрока.Содержание = ?(ЗначениеЗаполнено(Содержание), Содержание, ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "Наименование"));
	
КонецЦикла;

Для каждого ТекСтрока Из Объект.МатериалыЗаказчика Цикл
	
	Если ЗначениеЗаполнено(ТекСтрока.СчетУчета) Тогда
		Продолжить;
	КонецЕсли;
	
	СчетаУчета 			= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура);
	ТекСтрока.СчетУчета = СчетаУчета.СчетПередачиЗаб;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СчетУчета) Тогда
		ТекСтрока.СчетУчета = ПланыСчетов.Хозрасчетный.МатериалыПринятыеВПереработкуВПроизводстве;	
	КонецЕсли;
	
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьСписаниеТоваров" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

ТабличнаяЧасть = Объект.Товары;

Для Каждого СтрокаТаблицы Из Объект.Товары Цикл
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																						СтрокаТаблицы.Номенклатура,
																						Объект.Склад);
		СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
	КонецЕсли;
КонецЦикла;

Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВозвратнойТары);

Выполнить(Алгоритмы.ЗаполнениеОтражениеВУСН);

Объект.СуммаДокумента = Объект.Товары.Итог("Сумма");</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьТабличнуюЧастьДокументКорректировкаДолга" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта
// - ТабличнаяЧасть

ЗаполнятьКоррСчет = Объект.ВидОперации = Перечисления.ВидыОперацийКорректировкаДолга.ПереносЗадолженности;
ЗаполнятьСчетамиУчетаАвансов = Объект.ВидАвансаЗадолженности = Перечисления.ВидыАвансаЗадолженности.АвансыПокупателя
	ИЛИ Объект.ВидАвансаЗадолженности = Перечисления.ВидыАвансаЗадолженности.АвансыПоставщику;

Для Каждого СтрокаТаблицы Из Объект[ИмяТЧ] Цикл
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаРасчетов)
		ИЛИ Не ЗначениеЗаполнено(СтрокаТаблицы.КорСчетУчетаРасчетов) Тогда
		
		Если ЗначениеЗаполнено(СтрокаТаблицы.ДоговорКонтрагента) Тогда
			Реквизиты 	= БухгалтерскийУчетПереопределяемый.ПолучитьРеквизитыДоговораКонтрагента(СтрокаТаблицы.ДоговорКонтрагента);
			СчетаУчета 	= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(	Объект.Организация,
																								СтрокаТаблицы.ДоговорКонтрагента.Владелец,
																								СтрокаТаблицы.ДоговорКонтрагента);
																								
			Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда																					
				ПараметрыТЧ = ПараметрыОбъекта.Получить(ИмяТЧ + "ТабличнаяЧасть");
				Если ПараметрыТЧ &lt;&gt; Неопределено 
					И ПараметрыТЧ.Колонки.Найти("ПризнакАванса") &lt;&gt; Неопределено
					И ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].ПризнакАванса = Истина Тогда
					
					ЗаполнятьСчетамиУчетаАвансов = Истина;
				КонецЕсли;
			КонецЕсли;
																								
			Если Реквизиты.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком
				Или Реквизиты.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
				
				Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаРасчетов) Тогда
					Если ЗаполнятьСчетамиУчетаАвансов Тогда
						СтрокаТаблицы.СчетУчетаРасчетов = СчетаУчета.СчетАвансов;
					Иначе
						СтрокаТаблицы.СчетУчетаРасчетов = СчетаУчета.СчетРасчетов;
					КонецЕсли;
				КонецЕсли;
				
				Если ЗаполнятьКоррСчет 
					И Не ЗначениеЗаполнено(СтрокаТаблицы.КорСчетУчетаРасчетов) Тогда
					Если ЗаполнятьСчетамиУчетаАвансов Тогда
						СтрокаТаблицы.КорСчетУчетаРасчетов = СчетаУчета.СчетАвансов;
					Иначе
						СтрокаТаблицы.КорСчетУчетаРасчетов = СчетаУчета.СчетРасчетов;
					КонецЕсли;
				КонецЕсли;
				
			Иначе
				
				Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаРасчетов) Тогда
					Если ЗаполнятьСчетамиУчетаАвансов Тогда
						СтрокаТаблицы.СчетУчетаРасчетов = СчетаУчета.СчетАвансовПокупателя;
					Иначе
						СтрокаТаблицы.СчетУчетаРасчетов = СчетаУчета.СчетРасчетовПокупателя;
					КонецЕсли;
				КонецЕсли;
				
				Если ЗаполнятьКоррСчет 
					И Не ЗначениеЗаполнено(СтрокаТаблицы.КорСчетУчетаРасчетов) Тогда
					Если ЗаполнятьСчетамиУчетаАвансов Тогда
						СтрокаТаблицы.КорСчетУчетаРасчетов = СчетаУчета.СчетАвансовПокупателя;
					Иначе
						СтрокаТаблицы.КорСчетУчетаРасчетов = СчетаУчета.СчетРасчетовПокупателя;
					КонецЕсли;
				КонецЕсли;
				
			КонецЕсли;
			
		КонецЕсли;
		
	КонецЕсли;
		
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта, ИмяТЧ</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ОбработатьТребованиеНакладная" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ПараметрыОбъекта

// Заполним реквизиты шапки
Если НЕ ЗначениеЗаполнено(Объект.НДСвСтоимостиТоваров) Тогда
	Объект.НДСвСтоимостиТоваров = Перечисления.ДействиеНДСВСтоимостиТоваров.НеИзменять;
КонецЕсли;

Объект.ДляСписанияНДСиспользоватьСчетИАналитикуУчетаЗатрат = Истина;

Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	ПараметрыТЧ = ПараметрыОбъекта.Получить("МатериалыТабличнаяЧасть");
КонецЕсли;

ПараметрыОбъектаАктуальны 	= (ПараметрыОбъекта &lt;&gt; Неопределено);
Если ТипЗнч(ПараметрыТЧ) = Тип("ТаблицаЗначений") Тогда
	ЕстьКолонкаТоварыНаКомиссии = (ПараметрыТЧ.Колонки.Найти("ТоварНаКомиссии") &lt;&gt; Неопределено);
Иначе
	ЕстьКолонкаТоварыНаКомиссии  = Ложь;
КонецЕсли;

// Заполним счета учета в табличной части Материалы
Для каждого ТекСтрока Из Объект.Материалы Цикл
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "СтатьяЗатрат");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.СписаниеМатериалов");
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ТекСтрока.СтатьяЗатрат) Тогда
		ТекСтрока.СтатьяЗатрат = ОбщегоНазначенияКлиентСервер.ПредопределенныйЭлемент("Справочник.СтатьиЗатрат.ПрочиеЗатраты");
	КонецЕсли;
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура);
	
	Если Не ЗначениеЗаполнено(ТекСтрока.Счет) Тогда
		ТекСтрока.Счет = СчетаУчета.СчетУчета;
	КонецЕсли;
	
	Если ПараметрыОбъектаАктуальны
		И ЕстьКолонкаТоварыНаКомиссии
		И ПараметрыТЧ[ТекСтрока.НомерСтроки - 1].ТоварНаКомиссии Тогда
		
		ТекСтрока.Счет = ПланыСчетов.Хозрасчетный.ТоварыНаСкладе;
		
	КонецЕсли;
	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.СчетЗатрат) Тогда
		ТекСтрока.СчетЗатрат = ПланыСчетов.Хозрасчетный.ОсновноеПроизводство;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СчетаУчета.СпособУчетаНДС) Тогда 
		ТекСтрока.СпособУчетаНДС = СчетаУчета.СпособУчетаНДС;
	КонецЕсли;
	
КонецЦикла;

// Заполним счета учета в табличной части Материалы
Для каждого ТекСтрока Из Объект.МатериалыЗаказчика Цикл
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, ТекСтрока.Номенклатура, Объект.Склад);
	Если НЕ ЗначениеЗаполнено(ТекСтрока.Счет) Тогда
		ТекСтрока.Счет = СчетаУчета.СчетУчетаДавСырья;
	КонецЕсли;
	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.СчетПередачи) Тогда
		ТекСтрока.СчетПередачи = СчетаУчета.СчетПередачиЗаб;
	КонецЕсли;
	
	Если НЕ ЗначениеЗаполнено(ТекСтрока.СчетПередачи) Тогда
		ТекСтрока.СчетПередачи = ПланыСчетов.Хозрасчетный.МатериалыПринятыеВПереработкуВПроизводстве;
	КонецЕсли;
	
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ПривестиСубконтоВСоответствиеСчетуУчета" ИспользуетсяПриЗагрузке="true">
					<Текст>ЭлементыСубконто = Новый Структура("Субконто1,Субконто2,Субконто3", Объект.Субконто1, Объект.Субконто2, Объект.Субконто3);
ЧислоАктивныхСубконто = ?(ЗначениеЗаполнено(СчетУчета), СчетУчета.ВидыСубконто.Количество(), 0);

Для Сч = 1 По ЧислоАктивныхСубконто Цикл
	ТипСубк = СчетУчета.ВидыСубконто[Сч - 1].ВидСубконто.ТипЗначения;
	
	Если ТипСубк.ПривестиЗначение(ЭлементыСубконто["Субконто" + Сч]) &lt;&gt; ЭлементыСубконто["Субконто" + Сч] Тогда
		ЭлементыСубконто["Субконто" + Сч] = ТипСубк.ПривестиЗначение(ЭлементыСубконто["Субконто" + Сч]);
	КонецЕсли;
	
КонецЦикла;

Для Сч = (ЧислоАктивныхСубконто + 1) По 3 Цикл
	
	Если Не ЭлементыСубконто["Субконто" + Сч] = Неопределено Тогда
		ЭлементыСубконто["Субконто" + Сч] = Неопределено;
	КонецЕсли;
	
КонецЦикла;</Текст>
					<Параметры>Объект, СчетУчета</Параметры>
				</Алгоритм>
			</Группа>
			<Группа Имя="_ОбработчикиЗаполненияСчетов">
				<Алгоритм Имя="ЗаполнитьСчетаУчетаВозвратнойТары" ИспользуетсяПриЗагрузке="true">
					<Текст>Для Каждого СтрокаТаблицы Из Объект.ВозвратнаяТара Цикл
	
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.Номенклатура) Тогда
		Продолжить;
	КонецЕсли; 
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																					СтрокаТаблицы.Номенклатура,
																					Объект.Склад);
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
	КонецЕсли;
	
КонецЦикла;</Текст>
					<Параметры>Объект</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ЗаполнитьСчетаУчетаНоменклатуры" ИспользуетсяПриЗагрузке="true">
					<Текст>// Параметры:
// - Объект
// - ТабличнаяЧасть

Для Каждого СтрокаТаблицы Из ТабличнаяЧасть Цикл

	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, СтрокаТаблицы.Номенклатура);

	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		СтрокаТаблицы.СчетУчета  = СчетаУчета.СчетПередачи;
	КонецЕсли;

	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетДоходов) Тогда
		СтрокаТаблицы.СчетДоходов  = СчетаУчета.СчетДоходов;
	КонецЕсли;

	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетРасходов) Тогда
		СтрокаТаблицы.СчетРасходов = СчетаУчета.СчетРасходов;
	КонецЕсли;

	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДСПоРеализации) Тогда
		СтрокаТаблицы.СчетУчетаНДСПоРеализации = СчетаУчета.СчетУчетаНДСПродажи;
	КонецЕсли;

	Если СтрокаТаблицы.СчетДоходов.ВидыСубконто.Количество() &gt; 0 Тогда
		СтрокаТаблицы.Субконто = Новый(СтрокаТаблицы.СчетДоходов.ВидыСубконто[0].ВидСубконто.ТипЗначения.Типы()[0]);
		Если ТипЗнч(СтрокаТаблицы.Субконто) = Тип("СправочникСсылка.НоменклатурныеГруппы") Тогда
			СтрокаТаблицы.Субконто = СтрокаТаблицы.Номенклатура.НоменклатурнаяГруппа;
		КонецЕсли;
	Иначе
		СтрокаТаблицы.Субконто = Неопределено;
	КонецЕсли;
		
КонецЦикла;</Текст>
					<Параметры>Объект, ТабличнаяЧасть</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ЗаполнитьСчетаУчетаНоменклатурыПродажа" ИспользуетсяПриЗагрузке="true">
					<Текст>
// Параметры:
// - Объект
// - ПараметрыОбъекта
// - ТабличнаяЧасть
// - ЭтоУслуги
// - ЕстьКомиссия

Для Каждого СтрокаТаблицы Из ТабличнаяЧасть Цикл
	
	Склад = Неопределено;
	Если Объект.Метаданные().Реквизиты.Найти("Склад") &lt;&gt; Неопределено Тогда
		Склад = Объект.Склад;
	КонецЕсли;
	
	СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(	Объект.Организация,
																					СтрокаТаблицы.Номенклатура,
																					Склад);
																	
	Если Не ЭтоУслуги И Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчета) Тогда
		СтрокаТаблицы.СчетУчета = СчетаУчета.СчетУчета;
		Если ЕстьКомиссия Тогда
			СтрокаТаблицы.ПереданныеСчетУчета = СчетаУчета.СчетПередачи;
		КонецЕсли;
	КонецЕсли;

	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетДоходов) Тогда
		СтрокаТаблицы.СчетДоходов = СчетаУчета.СчетДоходов;
	КонецЕсли;
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетРасходов) Тогда
		СтрокаТаблицы.СчетРасходов = СчетаУчета.СчетРасходов;
	КонецЕсли;
	Если Не ЗначениеЗаполнено(СтрокаТаблицы.СчетУчетаНДСПоРеализации) Тогда
		СтрокаТаблицы.СчетУчетаНДСПоРеализации = СчетаУчета.СчетУчетаНДСПродажи;
	КонецЕсли;

	Если СтрокаТаблицы.СчетДоходов.ВидыСубконто.Количество() &gt; 0 Тогда
		СтрокаТаблицы.Субконто = Новый(СтрокаТаблицы.СчетДоходов.ВидыСубконто[0].ВидСубконто.ТипЗначения.Типы()[0]);
		Если ТипЗнч(СтрокаТаблицы.Субконто) = Тип("СправочникСсылка.НоменклатурныеГруппы") Тогда
			СтрокаТаблицы.Субконто = СтрокаТаблицы.Номенклатура.НоменклатурнаяГруппа;
		КонецЕсли;
	Иначе
		СтрокаТаблицы.Субконто = Неопределено;
	КонецЕсли;
		
КонецЦикла;</Текст>
					<Параметры>Объект, ПараметрыОбъекта, ТабличнаяЧасть, ЭтоУслуги, ЕстьКомиссия</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ЗаполнитьСчетаУчетаРасчетов" ИспользуетсяПриЗагрузке="true">
					<Текст>// Для впервые загружаемых объектов
Если НЕ ОбъектНайден Тогда
	
 	// Заполним счета учета расчетов	
	Объект.ЗаполнитьСчетаУчетаРасчетов();
	
КонецЕсли;</Текст>
					<Параметры>Объект, ОбъектНайден</Параметры>
				</Алгоритм>
				<Алгоритм Имя="ЗаполнитьСчетУчетаКассы" ИспользуетсяПриЗагрузке="true">
					<Текст>
// Параметры:
// - Объект
// - ПараметрыОбъекта

Если Не ЗначениеЗаполнено(Объект.СчетКасса) Тогда

	Если Не ЗначениеЗаполнено(Объект.ВалютаДокумента)
		ИЛИ Объект.ВалютаДокумента = Константы.ВалютаРегламентированногоУчета.Получить() Тогда
		
		Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизации;
		
	Иначе
		
		Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизацииВал;
		
	КонецЕсли;

КонецЕсли;</Текст>
					<Параметры>Объект, ПараметрыОбъекта</Параметры>
				</Алгоритм>
			</Группа>
			<Алгоритм Имя="аигЗаполнитьПолФизлица" ИспользуетсяПриЗагрузке="true">
				<Текст>Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	ЗначениеПараметра = ПараметрыОбъекта["Пол"];
	Объект.Пол = ЗначениеПараметра;
КонецЕсли;</Текст>
				<Параметры>Объект, ПараметрыОбъекта</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ДозаполнитьРеквизитыДокумента" ИспользуетсяПриЗагрузке="true">
				<Текст>// Алгоритм предназначен для дозаполнения реквизитов документов,
// вызывается в обработчике события "после загрузки объекта" конвертации.

МетаданныеДокумента = Объект.Метаданные();

Если ОбщегоНазначенияБПВызовСервера.ЕстьРеквизитДокумента("ОтражатьВНалоговомУчете", МетаданныеДокумента) Тогда
	
	Объект.ОтражатьВНалоговомУчете = НЕ БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("НеОтражатьДокументыВНалоговомУчете", Пользователи.ТекущийПользователь());
	
КонецЕсли;
	
Если ОбщегоНазначенияБПВызовСервера.ЕстьРеквизитДокумента("ОтражатьВБухгалтерскомУчете", МетаданныеДокумента) Тогда
	
	//По умолчанию все документы требуют отражения в бухгалтерском учете
	Объект.ОтражатьВБухгалтерскомУчете = Истина
	
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнениеСпецификации" ИспользуетсяПриЗагрузке="true">
				<Текст>
//Для Каждого СтрокаСпецификации Из Объект.Состав Цикл
//Сообщить(Параметры.ТаблицаНоменклатуры.Количество());

Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
		//ПараметрыТЧ = ПараметрыОбъекта.Получить(Элемент+ "ТабличнаяЧасть");
		ПараметрыТЧ = ПараметрыОбъекта.Получить("ИсходныеКомплектующиеТабличнаяЧасть");
		Если ПараметрыТЧ &lt;&gt; Неопределено 
			И ПараметрыТЧ.Колонки.Найти("Код_БП") &lt;&gt; Неопределено 
			И ПараметрыТЧ.Колонки.Найти("Наименование_БП") &lt;&gt; Неопределено  Тогда
			
			Отбор = Новый Структура;
			
			Для Каждого СтрокаТаблицы Из Объект.ИсходныеКомплектующие Цикл
			
				Отбор.Очистить();
			  	
				Если ЗначениеЗаполнено(СтрокаТаблицы.Номенклатура) Тогда
					Продолжить;	
				КонецЕсли;

				Код =  ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].Код_БП;
				Наименование = ПараметрыТЧ[СтрокаТаблицы.НомерСтроки - 1].Наименование_БП;
				
								
				Если НЕ  Код  = "нет значения"  Тогда
				    Отбор.Вставить("Код", Код);
				КонецЕсли;
				
				Отбор.Вставить("Наименование",  СокрЛП(Наименование));
				
				НайтиСтроки = Параметры.ТаблицаНоменклатуры.НайтиСтроки(Отбор);
				
				Если НайтиСтроки.Количество() Тогда
					СтрокаТаблицы.Номенклатура = НайтиСтроки[0].Ссылка;
				КонецЕсли;
								
			КонецЦикла;
			
		КонецЕсли;	
	КонецЕсли;</Текст>
				<Параметры>Объект, ПараметрыОбъекта, Параметры</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьПартиюПередачиМатериаловВЭксплуатацию" ИспользуетсяПриЗагрузке="true">
				<Текст>ВключатьЗабалансовые = НЕ (ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратМатериаловИзЭксплуатации"));
СИстекшимСрокомПолезногоИспользования	= Ложь;

Запрос = Новый Запрос();
Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;

Запрос.УстановитьПараметр("Дата",			Объект.Дата);
Запрос.УстановитьПараметр("Организация",	Объект.Организация);
Запрос.УстановитьПараметр("Подразделение",	Объект.ПодразделениеОрганизации);
Запрос.УстановитьПараметр("ВключатьЗабалансовые",                  ВключатьЗабалансовые);
Запрос.УстановитьПараметр("СИстекшимСрокомПолезногоИспользования", СИстекшимСрокомПолезногоИспользования);
Запрос.УстановитьПараметр("Период", 		Новый Граница(Объект.Дата, ВидГраницы.Исключая));

Запрос.Текст = "
	|/////////////////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ХозрасчетныйОстаткиМЦ.Субконто1           КАК Субконто1,
	|	ХозрасчетныйОстаткиМЦ.Субконто2           КАК Субконто2,
	|	ХозрасчетныйОстаткиМЦ.Субконто3           КАК Субконто3,
	|	ХозрасчетныйОстаткиМЦ.КоличествоОстатокДт КАК КоличествоОстатокДт
	|ПОМЕСТИТЬ
	|	ВТ_ОстаткиМЦ_Передача
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(
	|		&amp;Период,
	|		Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный),
	|		,
	|		Организация = &amp;Организация
	|			И (Подразделение = &amp;Подразделение ИЛИ Подразделение ЕСТЬ NULL)
	|			И Субконто2 ССЫЛКА Документ.ПередачаМатериаловВЭксплуатацию
	|	) КАК ХозрасчетныйОстаткиМЦ
	|ИНДЕКСИРОВАТЬ ПО
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|/////////////////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ХозрасчетныйОстатки.Счет                КАК Счет,
	|	ХозрасчетныйОстатки.Субконто1           КАК Субконто1,
	|	ХозрасчетныйОстатки.Субконто2           КАК Субконто2,
	|	ХозрасчетныйОстатки.Субконто3           КАК Субконто3,
	|	ХозрасчетныйОстатки.СуммаОстатокДт      КАК СуммаОстатокДт,
	|	ХозрасчетныйОстатки.КоличествоОстатокДт КАК КоличествоОстатокДт
	|ПОМЕСТИТЬ
	|	ВТ_Остатки_Передача
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(
	|		&amp;Период,
	|		Счет НЕ В (
	|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный),
	|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецоснасткаВЭксплуатацииВспомогательный)),
	|		,
	|		Организация = &amp;Организация
	|			И (Подразделение = &amp;Подразделение ИЛИ Подразделение ЕСТЬ NULL)
	|			И Субконто2 ССЫЛКА Документ.ПередачаМатериаловВЭксплуатацию
	|	) КАК ХозрасчетныйОстатки
	|ИНДЕКСИРОВАТЬ ПО
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|/////////////////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ХозрасчетныйОстаткиМЦ.Субконто1           КАК Субконто1,
	|	ХозрасчетныйОстаткиМЦ.Субконто2           КАК Субконто2,
	|	ХозрасчетныйОстаткиМЦ.Субконто3           КАК Субконто3,
	|	ХозрасчетныйОстаткиМЦ.КоличествоОстатокДт КАК КоличествоОстатокДт
	|ПОМЕСТИТЬ
	|	ВТ_ОстаткиМЦ_Партия
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(
	|		&amp;Период,
	|		Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный),
	|		,
	|		Организация = &amp;Организация
	|			И (Подразделение = &amp;Подразделение ИЛИ Подразделение ЕСТЬ NULL)
	|			И Субконто2 ССЫЛКА Документ.ПартияМатериаловВЭксплуатации
	|	) КАК ХозрасчетныйОстаткиМЦ
	|ИНДЕКСИРОВАТЬ ПО
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|/////////////////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ХозрасчетныйОстатки.Счет                КАК Счет,
	|	ХозрасчетныйОстатки.Субконто1           КАК Субконто1,
	|	ХозрасчетныйОстатки.Субконто2           КАК Субконто2,
	|	ХозрасчетныйОстатки.Субконто3           КАК Субконто3,
	|	ХозрасчетныйОстатки.СуммаОстатокДт      КАК СуммаОстатокДт,
	|	ХозрасчетныйОстатки.КоличествоОстатокДт КАК КоличествоОстатокДт
	|ПОМЕСТИТЬ
	|	ВТ_Остатки_Партия
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(
	|		&amp;Период,
	|		Счет НЕ В (
	|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный),
	|			ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецоснасткаВЭксплуатацииВспомогательный)),
	|		,
	|		Организация = &amp;Организация
	|			И (Подразделение = &amp;Подразделение ИЛИ Подразделение ЕСТЬ NULL)
	|			И Субконто2 ССЫЛКА Документ.ПартияМатериаловВЭксплуатации
	|	) КАК ХозрасчетныйОстатки
	|ИНДЕКСИРОВАТЬ ПО
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|/////////////////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВТ_ОстаткиМЦ_Передача.Субконто1                                                              КАК Номенклатура,
	|	ВТ_ОстаткиМЦ_Передача.Субконто2                                                              КАК ПартияМатериаловВЭксплуатации,
	|	ВТ_ОстаткиМЦ_Передача.Субконто3                                                              КАК Физлицо,
	|	ЕСТЬNULL(ВТ_Остатки_Передача.КоличествоОстатокДт, ВТ_ОстаткиМЦ_Передача.КоличествоОстатокДт) КАК Количество,
	|	ВЫБОР КОГДА ЕСТЬNULL(ВТ_Остатки_Передача.КоличествоОстатокДт, 0) = 0 ТОГДА
	|		ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный)
	|	ИНАЧЕ
	|		ВТ_Остатки_Передача.Счет
	|	КОНЕЦ                                                                                        КАК СчетПередачи
	|ИЗ
	|	ВТ_ОстаткиМЦ_Передача
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|	ВТ_Остатки_Передача
	|	ПО
	|		ВТ_ОстаткиМЦ_Передача.Субконто1 = ВТ_Остатки_Передача.Субконто1
	|		И ВТ_ОстаткиМЦ_Передача.Субконто2 = ВТ_Остатки_Передача.Субконто2
	|		И ВТ_ОстаткиМЦ_Передача.Субконто3 = ВТ_Остатки_Передача.Субконто3
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|	Документ.ПередачаМатериаловВЭксплуатацию.Спецодежда КАК ПередачаМатериаловВЭксплуатациюСпецодежда
	|	ПО
	|		ВТ_ОстаткиМЦ_Передача.Субконто1 = ПередачаМатериаловВЭксплуатациюСпецодежда.Номенклатура
	|		И ВТ_ОстаткиМЦ_Передача.Субконто2 = ПередачаМатериаловВЭксплуатациюСпецодежда.Ссылка
	|		И ВТ_ОстаткиМЦ_Передача.Субконто3 = ПередачаМатериаловВЭксплуатациюСпецодежда.ФизЛицо
	|ГДЕ
	|	// Включать забалансовые
	|	((&amp;ВключатьЗабалансовые = ЛОЖЬ
	|		И (ЕСТЬNULL(ВТ_Остатки_Передача.КоличествоОстатокДт, 0) &gt; 0) И (ЕСТЬNULL(ВТ_Остатки_Передача.СуммаОстатокДт, 0) &gt; 0))
	|	ИЛИ (&amp;ВключатьЗабалансовые))
	|
	|	И
	|	// С истекшим сроком хранения
	|	((&amp;СИстекшимСрокомПолезногоИспользования
	|		И ДОБАВИТЬКДАТЕ(ВТ_ОстаткиМЦ_Передача.Субконто2.Дата, МЕСЯЦ, ПередачаМатериаловВЭксплуатациюСпецодежда.НазначениеИспользования.СрокПолезногоИспользования) &lt; &amp;Дата)
	|	ИЛИ (&amp;СИстекшимСрокомПолезногоИспользования = ЛОЖЬ))
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВТ_ОстаткиМЦ_Партия.Субконто1,
	|	ВТ_ОстаткиМЦ_Партия.Субконто2,
	|	ВТ_ОстаткиМЦ_Партия.Субконто3,
	|	ЕСТЬNULL(ВТ_Остатки_Партия.КоличествоОстатокДт, ВТ_ОстаткиМЦ_Партия.КоличествоОстатокДт),
	|	ВЫБОР КОГДА ЕСТЬNULL(ВТ_Остатки_Партия.КоличествоОстатокДт, 0) = 0 ТОГДА
	|		ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.СпецодеждаВЭксплуатацииВспомогательный)
	|	ИНАЧЕ
	|		ВТ_Остатки_Партия.Счет
	|	КОНЕЦ
	|ИЗ
	|	ВТ_ОстаткиМЦ_Партия
	|
	|	ЛЕВОЕ СОЕДИНЕНИЕ
	|	ВТ_Остатки_Партия
	|	ПО
	|		ВТ_ОстаткиМЦ_Партия.Субконто1 = ВТ_Остатки_Партия.Субконто1
	|		И ВТ_ОстаткиМЦ_Партия.Субконто2 = ВТ_Остатки_Партия.Субконто2
	|		И ВТ_ОстаткиМЦ_Партия.Субконто3 = ВТ_Остатки_Партия.Субконто3
	|ГДЕ
	|	// Включать забалансовые
	|	((&amp;ВключатьЗабалансовые = ЛОЖЬ
	|		И (ЕСТЬNULL(ВТ_Остатки_Партия.КоличествоОстатокДт, 0) &gt; 0) И (ЕСТЬNULL(ВТ_Остатки_Партия.СуммаОстатокДт, 0) &gt; 0))
	|	ИЛИ (&amp;ВключатьЗабалансовые))
	|
	|	И
	|	// С истекшим сроком хранения
	|	((&amp;СИстекшимСрокомПолезногоИспользования
	|		И ДОБАВИТЬКДАТЕ(ВТ_ОстаткиМЦ_Партия.Субконто2.Дата, МЕСЯЦ, ВТ_ОстаткиМЦ_Партия.Субконто2.НазначениеИспользования.СрокПолезногоИспользования) &lt; &amp;Дата)
	|	ИЛИ (&amp;СИстекшимСрокомПолезногоИспользования = ЛОЖЬ))
	|";

ОстаткиМатериалов 			= Запрос.Выполнить().Выгрузить();
ТабличнаяЧастьСпецОдежда	= Объект.Спецодежда.Выгрузить();
ЗаполненнаяСпецОдежда		= ТабличнаяЧастьСпецОдежда.Скопировать();

ЗаполненнаяСпецОдежда.Очистить();

Для каждого СтрокаСписания из ТабличнаяЧастьСпецОдежда Цикл
	
	СтруктураОтбора		= Новый Структура("Номенклатура, Физлицо", СтрокаСписания.Номенклатура, СтрокаСписания.Физлицо);
	МассивПартий		= ОстаткиМатериалов.НайтиСтроки(СтруктураОтбора);
	КоличествоПартий	= МассивПартий.Количество();
	
	Если КоличествоПартий &lt; 1 Тогда
		
		НоваяСтрока	= ЗаполненнаяСпецОдежда.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока, СтрокаСписания);
		
		//См. ниже
		НоваяСтрока.СчетПередачи					= ПланыСчетов.Хозрасчетный.СпецодеждаВЭксплуатации;
		Если ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратМатериаловИзЭксплуатации") Тогда
			
			СчетаУчета 				= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, СтрокаСписания.Номенклатура, Объект.Склад);
			НоваяСтрока.СчетУчета	= СчетаУчета.СчетУчета;
				
		КонецЕсли;
		
		Продолжить;
		
	КонецЕсли;
	
	КоличествоТребуетсяСписать	= СтрокаСписания.Количество;
	НомерПартииВМассиве			= 0;
	
	Пока КоличествоТребуетсяСписать &gt; 0 
		И НомерПартииВМассиве &lt;= (КоличествоПартий - 1) Цикл
		
		Партия = МассивПартий[НомерПартииВМассиве];
		
		НоваяСтрока									= ЗаполненнаяСпецОдежда.Добавить();
		НоваяСтрока.Номенклатура					= СтрокаСписания.Номенклатура;
		НоваяСтрока.ПартияМатериаловВЭксплуатации 	= Партия.ПартияМатериаловВЭксплуатации;
		НоваяСтрока.Физлицо							= СтрокаСписания.Физлицо;
		
		//Спец. одежда всегда 10.11.1. Смотреть на "СчетаУчета.СчетПередачи" не нужно.
		НоваяСтрока.СчетПередачи					= ПланыСчетов.Хозрасчетный.СпецодеждаВЭксплуатации;
		
		Если ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратМатериаловИзЭксплуатации") Тогда
			
			СчетаУчета 				= БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаНоменклатуры(Объект.Организация, СтрокаСписания.Номенклатура, Объект.Склад);
			НоваяСтрока.СчетУчета	= СчетаУчета.СчетУчета;
				
		КонецЕсли;
		
		Если Партия.Количество &lt; КоличествоТребуетсяСписать Тогда
			
			НоваяСтрока.Количество	= Партия.Количество;
			Партия.Количество 		= 0;
			
		Иначе
			
			НоваяСтрока.Количество	= КоличествоТребуетсяСписать;
			Партия.Количество 		= Партия.Количество - КоличествоТребуетсяСписать;
			
		КонецЕсли;
		
		КоличествоТребуетсяСписать	= КоличествоТребуетсяСписать - НоваяСтрока.Количество;
		НомерПартииВМассиве 		= НомерПартииВМассиве + 1;
		
	КонецЦикла;
	
КонецЦикла;

Объект.Спецодежда.Очистить();
Объект.Спецодежда.Загрузить(ЗаполненнаяСпецОдежда);</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСодержаниеТабличнойЧастиУслуги" ИспользуетсяПриЗагрузке="true">
				<Текст>// Алгоритм предназначен для заполнения реквизит Содержание в строках ТЧ Услуги документа
// Вызывается из обработчика "После загрузки" ПКО документа
Для каждого ТекСтрока Из Объект.Услуги Цикл	
	
	//ОбработкаТабличныхЧастей.ЗаполнитьСодержаниеТабЧасти(ТекСтрока, Объект);
	Если ЗначениеЗаполнено(ТекСтрока.Номенклатура) Тогда
		
		Содержание = ТекСтрока.Номенклатура.НаименованиеПолное;
		
	КонецЕсли;
	
	ТекСтрока.Содержание = ?(ЗначениеЗаполнено(Содержание), Содержание, ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекСтрока.Номенклатура, "Наименование"));
	
КонецЦикла;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСуммуДокументаПоУслугам" ИспользуетсяПриЗагрузке="true">
				<Текст>// Алгоритм предназначен для подсчета суммы документа по табличной части Услуги 
// и записи ее в соответствующий реквизит шапки для показа в журналах
// Вызывается из обработчика "после загрузки" ПКО документа
СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");</Текст>
				<Параметры>СуммаДокумента, Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьДоговорКонтрагента" ИспользуетсяПриЗагрузке="true">
				<Текст>
Если ТипЗнч(Объект) = Тип("ДокументОбъект.ПриходныйКассовыйОрдер")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.РасходныйКассовыйОрдер")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеНаРасчетныйСчет")
	ИЛИ ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеСРасчетногоСчета") Тогда
	
	Для каждого СтрокаТабличнойЧасти Из Объект.РасшифровкаПлатежа Цикл
		
		ДоговорКонтрагента = СтрокаТабличнойЧасти.ДоговорКонтрагента;
		Если ЗначениеЗаполнено(ДоговорКонтрагента) Тогда
			
			Договор = ДоговорКонтрагента.ПолучитьОбъект();
			Если Договор &lt;&gt; Неопределено И НЕ ЗначениеЗаполнено(Договор.Код) Тогда
				Договор.ОбменДанными.Загрузка = Истина;
				Договор.ДополнительныеСвойства.Вставить("РегистрироватьОбъектНаУзлеОтправителе", Ложь);
				Договор.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
				Договор.УстановитьНовыйКод();
				Договор.Записать();
				Прервать;
			КонецЕсли;
			
		КонецЕсли;		
	КонецЦикла;

Иначе

	ДоговорКонтрагента = Объект.ДоговорКонтрагента;
	Если ЗначениеЗаполнено(ДоговорКонтрагента) Тогда
		
		Договор = ДоговорКонтрагента.ПолучитьОбъект();
		Если Договор &lt;&gt; Неопределено И НЕ ЗначениеЗаполнено(Договор.Код) Тогда
			Договор.ОбменДанными.Загрузка = Истина;
			Договор.ДополнительныеСвойства.Вставить("РегистрироватьОбъектНаУзлеОтправителе", Ложь);
			Договор.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
			Договор.УстановитьНовыйКод();
			Договор.Записать();
		КонецЕсли;
		
	КонецЕсли;
	
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьТабличнуюЧастьДокументаАктРабот" ИспользуетсяПриЗагрузке="true">
				<Текст>ПараметрыОбъекта = Новый Структура("Организация, Дата, Ссылка, ТипЦен, ВалютаДокумента, КурсДокумента, КратностьДокумента, КурсВзаиморасчетов, КратностьВзаиморасчетов, Склад, ВалютаРегламентированногоУчета, СуммаВключаетНДС");
ПараметрыОбъекта.ВалютаРегламентированногоУчета = ОбщегоНазначенияБПВызовСервераПовтИсп.ПолучитьВалютуРегламентированногоУчета();
ЗаполнитьЗначенияСвойств(ПараметрыОбъекта, Объект);

// Заполним необходимые реквизиты в табличной части Услуги
Для каждого СтрокаТабличнойЧасти Из Объект.Услуги Цикл
	
	Если Не ЗначениеЗаполнено(СтрокаТабличнойЧасти.СтавкаНДС) Тогда
		ОбработкаТабличныхЧастей.ЗаполнитьСтавкуНДСТабЧасти(
			СтрокаТабличнойЧасти,
			ПараметрыОбъекта,
			"Услуги",
			Метаданные.Документы.АктОбОказанииПроизводственныхУслуг);
	КонецЕсли;
		
	// Рассчитываем реквизиты табличной части.
	СтрокаТабличнойЧасти.Цена = СтрокаТабличнойЧасти.Сумма / ?(СтрокаТабличнойЧасти.Количество =0, 1, СтрокаТабличнойЧасти.Количество);
	ОбработкаТабличныхЧастейКлиентСервер.РассчитатьСуммуНДСТабЧасти(СтрокаТабличнойЧасти, ПараметрыОбъекта.СуммаВключаетНДС);
	
КонецЦикла;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПроверитьЗначениеОпцииИспИмпортныхТоваров" ИспользуетсяПриЗагрузке="true">
				<Текст>
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	КОЛИЧЕСТВО(*) КАК Количество
	|ИЗ
	|	Справочник.НомераГТД КАК НомераГТД";
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Если Не ПолучитьФункциональнуюОпцию("ВедетсяУчетИмпортныхТоваров")
		И Выборка.Количество() &gt; 0 Тогда
		
		УстановитьПривилегированныйРежим(Истина);
		Константы.ВедетсяУчетИмпортныхТоваров.Установить(Истина);
		УстановитьПривилегированныйРежим(Ложь);
		
	КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ПроверитьЗначениеОпцииИспКомиссииНаПродажу" ИспользуетсяПриЗагрузке="true">
				<Текст>
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	КОЛИЧЕСТВО(*) КАК Количество
	|ИЗ
	|	Документ.ОтчетКомитентуОПродажах КАК ОтчетКомитентуОПродажах
	|ГДЕ
	|	ОтчетКомитентуОПродажах.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийОтчетКомитентуОПродажах.ОтчетОПродажах)";
	
	Выборка = Запрос.Выполнить().Выбрать();

	Если Не ПолучитьФункциональнуюОпцию("ВедетсяДеятельностьПоДоговорамКомиссииНаПродажу")
		И Выборка.Количество() &gt; 0 Тогда
	
		УстановитьПривилегированныйРежим(Истина);
		Константы.ВедетсяДеятельностьПоДоговорамКомиссииНаПродажу.Установить(Истина);
		Справочники.СтатьиЗатрат.СоздатьУстановитьПредопределенныеЭлементыКомиссияНаПродажу();
		УстановитьПривилегированныйРежим(Ложь);
	
	КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ПроверитьЗначениеОпцииИспНесколькихОрганизаций" ИспользуетсяПриЗагрузке="true">
				<Текст>
Справочники.Организации.ОбновитьИспользуемыеВидыОрганизаций();

Если Не Справочники.Организации.ИспользуетсяНесколькоОрганизаций()
	И Справочники.Организации.КоличествоОрганизаций() &gt; 1 Тогда
	
	УстановитьПривилегированныйРежим(Истина);
	Константы.ИспользоватьНесколькоОрганизаций.Установить(Истина);
	УстановитьПривилегированныйРежим(Ложь);
	
КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ПроверитьЗначениеОпцииИспНесколькихСкладов" ИспользуетсяПриЗагрузке="true">
				<Текст>	
Справочники.Склады.ПроверитьЗначениеОпцииИспользоватьНесколькоСкладов();</Текст>
			</Алгоритм>
			<Алгоритм Имя="ПроверитьЗначениеОпцииИспользоватьВалютныйУчет" ИспользуетсяПриЗагрузке="true">
				<Текст>
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	КОЛИЧЕСТВО(*) КАК Количество
	|ИЗ
	|	Справочник.Валюты КАК Валюты";
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Если Не ПолучитьФункциональнуюОпцию("ИспользоватьВалютныйУчет")
		И Выборка.Количество() &gt; 1 Тогда
		
		УстановитьПривилегированныйРежим(Истина);
		Константы.ИспользоватьВалютныйУчет.Установить(Истина);
		Справочники.ПрочиеДоходыИРасходы.СоздатьУстановитьПредопределенныеЭлементыВалютныйУчет();
		УстановитьПривилегированныйРежим(Ложь);
		
	КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="СоздатьУчетнуюПолитикуПоУмолчаниюДляОрганизаций" ИспользуетсяПриЗагрузке="true">
				<Текст>	
	Для каждого ОрганизацияОбъект Из МассивОрганизаций Цикл
		
		Если ТипЗнч(ОрганизацияОбъект) &lt;&gt; Тип("СправочникОбъект.Организации")
			ИЛИ Не ЗначениеЗаполнено(ОрганизацияОбъект.Ссылка) Тогда
			Продолжить;
		КонецЕсли;
		
		Попытка
			
			Организация = ОрганизацияОбъект.Ссылка; 
			
			НаборЗаписей = РегистрыСведений.УчетнаяПолитикаОрганизаций.СоздатьНаборЗаписей();
			НаборЗаписей.Отбор.Организация.Установить(Организация);
			НаборЗаписей.Прочитать();
			
			Если НаборЗаписей.Количество() &gt; 0 Тогда
				Продолжить;
			КонецЕсли;
			
			СтрокаНабораЗаписей = НаборЗаписей.Добавить();
			СтрокаНабораЗаписей.Активность = Истина;
			СтрокаНабораЗаписей.Период = НачалоГода(ТекущаяДата());
			
			ЭтоФизЛицо	= Организация.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ФизическоеЛицо;
			СистемаНалогообложения = "Общая";
			
			ДанныеЗаполнения = Новый Структура("Организация", Организация);
			
			ДанныеЗаполнения.Вставить("СистемаНалогообложения", Перечисления.СистемыНалогообложения.Общая);
			ДанныеЗаполнения.Вставить("ПрименяетсяУСН", Ложь);
			ДанныеЗаполнения.Вставить("ПрименяетсяУСНДоходы", Ложь);
			ДанныеЗаполнения.Вставить("ПрименяетсяУСНДоходыМинусРасходы", Ложь);
			ДанныеЗаполнения.Вставить("ПрименяетсяУСНПатент", Ложь);
			ДанныеЗаполнения.Вставить("ПлательщикНалогаНаПрибыль", Истина);
			ДанныеЗаполнения.Вставить("ПлательщикНДС", Истина);
			ДанныеЗаполнения.Вставить("ПлательщикЕНВД", Ложь);
			Если ЭтоФизЛицо Тогда
				ДанныеЗаполнения.Вставить("СпособОценкиМПЗ", Перечисления.СпособыОценки.ФИФО);
			КонецЕсли;
			
			РегистрыСведений.УчетнаяПолитикаОрганизаций.УстановкаПараметровУчетнойПолитикиПоУмолчанию(СтрокаНабораЗаписей, ДанныеЗаполнения);
			РегистрыСведений.УчетнаяПолитикаОрганизаций.УстановкаПараметровУчетнойПолитикиПоУмолчаниюНаПериод(СтрокаНабораЗаписей);
			
			НаборЗаписей.ДополнительныеСвойства.Вставить("ПропуститьПроверкуЗапретаИзменения", Истина);
			НаборЗаписей.Записать();
			
			// Часть учетной политики - список прямых расходов для целей исчисления налога на прибыль
			Если Не ЭтоФизЛицо И СистемаНалогообложения = "Общая" Тогда
				РегистрыСведений.МетодыОпределенияПрямыхРасходовПроизводстваВНУ.Настроить(
					Организация,
					НачалоГода(СтрокаНабораЗаписей.Период),
					Ложь, // Не копировать записи предыдущего периода
					Ложь
				);// Не перезаписывать записи, если они уже есть
			КонецЕсли;
			
		Исключение
		КонецПопытки;
		
	КонецЦикла;</Текст>
				<Параметры>МассивОрганизаций</Параметры>
			</Алгоритм>
		</Группа>
	</Алгоритмы>
	<Запросы/>
</ПравилаОбмена>